
    <!DOCTYPE html>
    <html lang="vi">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bài Tập Luyện Tập</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
        <script>
            window.MathJax = {
                tex: {
                    packages: {'[+]': ['ams']},
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                },
                chtml: {
                    fontCache: 'global',
                    linebreaks: {
                        automatic: true
                    }
                }
            };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
        </script>
        <style>
            body { font-family: 'Be Vietnam Pro', sans-serif; background-color: #f0f4f8; }
            .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3b82f6; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            .question-card {
                background-color: white;
                border-radius: 1rem;
                padding: 1.5rem 2rem;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
                border-left: 5px solid transparent;
                transition: all 0.3s ease;
            }
            .ai-explanation {
                background-color: #f0f9ff;
                color: #0c4a6e;
                padding: 1rem;
                border-radius: 0.75rem;
                font-size: 0.9rem;
                margin-top: 1rem;
                border-left: 4px solid #38bdf8;
            }
            .feedback-icon { width: 1.5rem; height: 1.5rem; }
            .option-label {
                transition: all 0.2s ease-in-out;
                border: 2px solid #e5e7eb;
            }
            .option-label:hover {
                border-color: #6366f1;
                background-color: #eef2ff;
            }
            .option-label.correct {
                border-color: #10b981 !important;
                background-color: #ecfdf5 !important;
                color: #065f46;
            }
            .option-label.incorrect {
                border-color: #ef4444 !important;
                background-color: #fef2f2 !important;
                color: #991b1b;
            }
            .statement-item.correct { background-color: #ecfdf5; border-color: #10b981; }
            .statement-item.incorrect { background-color: #fef2f2; border-color: #ef4444; }
            .prose { max-width: 100%; }
            .prose h1, .prose h2, .prose h3 { font-weight: 600; }
            .prose p { margin-top: 0.5em; margin-bottom: 0.5em; }
            .prose ul, .prose ol { margin-top: 1em; margin-bottom: 1em; padding-left: 1.5em; }
            .prose li > p { margin-top: 0; margin-bottom: 0; }
            .prose code { background-color: #e5e7eb; padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }
            .prose pre { background-color: #e5e7eb; padding: 1em; border-radius: 0.5em; overflow-x: auto; }
            .prose pre code { background-color: transparent; padding: 0; }
            details[open] > summary .details-arrow {
                transform: rotate(180deg);
            }
        </style>
    </head>
    <body class="bg-slate-100 text-slate-800">
        <div id="login-modal" class="fixed inset-0 bg-gray-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
            <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all" style="animation: fadeIn 0.3s ease-out;">
                <h2 class="text-2xl font-bold mb-2 text-center text-slate-800">Thông Tin Học Sinh</h2>
                <p class="text-center text-slate-500 mb-6">Vui lòng nhập để bắt đầu làm bài.</p>
                <form id="student-info-form">
                    <div class="mb-4">
                        <label for="student-name" class="block text-sm font-medium text-slate-700 mb-1">Họ và tên</label>
                        <input type="text" id="student-name" required class="mt-1 block w-full block border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="student-class" class="block text-sm font-medium text-slate-700 mb-1">Lớp</label>
                        <input type="text" id="student-class" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="exam-code" class="block text-sm font-medium text-slate-700 mb-1">Mã đề</label>
                        <input type="text" id="exam-code" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500" placeholder="Nhập mã đề giáo viên cung cấp">
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-slate-700 mb-1">Giáo viên:</label>
                        <p class="mt-1 text-slate-800 bg-slate-100 p-2.5 rounded-lg">Phan Văn Thương</p>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105">Bắt đầu làm bài</button>
                </form>
            </div>
        </div>
        <div class="container mx-auto p-4 md:p-8 max-w-4xl">
            <header class="mb-10 p-8 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg">
                <div class="flex justify-between items-center flex-wrap gap-4">
                    <div>
                        <h1 class="text-4xl font-bold">Bài Tập Luyện Tập</h1>
                        <p class="text-lg text-blue-100 mt-2">Hãy hoàn thành các câu hỏi dưới đây một cách tốt nhất!</p>
                        <p class="text-sm text-blue-200 mt-4">Tác giả: Phan Văn Thương</p>
                    </div>
                    <div id="timer-container" class="text-right">
                         <div id="timer-display" class="text-3xl font-bold tracking-wider bg-white/20 px-4 py-2 rounded-lg">--:--</div>
                         <div id="retries-display" class="text-sm mt-1 text-blue-200"></div>
                    </div>
                </div>
            </header>
            <main id="student-quiz-container" class="space-y-8 hidden">
                <!-- Questions will be rendered here by JS -->
            </main>
            <footer class="mt-10 text-center">
                <button id="submit-quiz-btn" class="bg-indigo-600 text-white py-3 px-12 rounded-full font-bold text-lg hover:bg-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl hidden transform hover:scale-105">Nộp Bài</button>
                <div id="result-container" class="mt-6 hidden"></div>
                <div id="ai-feedback-container" class="mt-8 text-left hidden"></div>
                <div id="post-submit-options" class="hidden mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
                    <button id="retry-quiz-btn" class="w-full sm:w-auto bg-slate-600 text-white py-2.5 px-6 rounded-lg font-semibold hover:bg-slate-700 transition-transform transform hover:scale-105">Làm Lại Đề Này</button>
                </div>
            </footer>
        </div>

        <div id="proctoring-widget" class="fixed bottom-4 right-4 bg-yellow-100 text-yellow-800 p-3 rounded-lg shadow-lg text-sm z-50 hidden border border-yellow-300" style="max-width: 200px;">
            <h4 class="font-bold mb-2 border-b border-yellow-300 pb-1 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>
                Giám sát
            </h4>
            <p>Thoát màn hình: <span id="tab-switch-count" class="font-bold">0</span></p>
            <p>Sao chép: <span id="copy-count" class="font-bold">0</span></p>
            <p>Dán: <span id="paste-count" class="font-bold">0</span></p>
        </div>

        <script type="module">
            import { GoogleGenAI, Type } from "https://esm.sh/@google/genai@^1.13.0";
            let quizData = [{"type":"multiple-choice","question":"Cho 7 cuộc thi nghiệm nhiều lựa chọn của Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["Hội Quốc liên.","Liên minh châu Âu.","Khối Đồng minh.","Khối Hiệp ước."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nhiệm vụ duy trì hòa bình và an ninh thế giới sau chiến tranh, Hội nghị I-an-ta (2-1945) có quyết định quan trọng nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Thành lập Ban Thư kí Liên hợp quốc.","Thành lập tổ chức Hội Quốc liên.","Thành lập tổ chức Liên hợp quốc.","Duy trì và mở rộng Hội Quốc liên."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tổ chức đăng 4 đến cuối tháng 6-1945, 50 nước họp tại Xan Phran-xi-xcô (Mỹ) thông qua nội dung nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Tiêu diệt tận gốc phát xít Nhật.","Xét xử tội phạm chiến tranh thế giới.","Kết thúc chiến tranh Triều Tiên.","Hiến chương Liên hợp quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Ngày 24-10-1945, sau khi Quốc hội các nước thành viên phê chuẩn, bản Hiến chương của Liên hợp quốc","questionImage":null,"mappedType":"multiple-choice","options":["được bổ sung, hoàn chỉnh.","chính thức được công bố.","chính thức có hiệu lực.","được chính thức thông qua."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những quốc gia có vai trò quan trọng trong quá trình hình thành Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô.","Thái Lan.","Lào.","Nhật Bản."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những quốc gia có vai trò quan trọng trong quá trình hình thành Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["Mỹ.","Thái Lan.","Lào.","Nhật Bản."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những quốc gia có vai trò quan trọng trong quá trình hình thành Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["Anh.","Thái Lan.","Lào.","Nhật Bản."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Quá trình hình thành Liên hợp quốc gắn liền với vai trò quan trọng của các quốc gia nào?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô, Trung Quốc, Đức.","Liên Xô, Mỹ, Anh.","Liên Xô, Mỹ, Đức.","Mỹ, Anh, Pháp."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Ngày 1/1/1942, tại Oa $-$ sinh $-$ tơn (Mỹ), đại diện của 26 nước đã ký văn kiện nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Tuyên bố Liên hợp quốc.","Hiệp ước Maxtrích.","Hiệp ước Rôm.","Hiệp định Muynich."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1945, bản Hiến chương Liên hợp quốc được thông qua tại","questionImage":null,"mappedType":"multiple-choice","options":["hội nghị I-an-tơng I-an-ta.","hội nghị Xan Phran-xi-xcô.","hội nghị Bôn Môn Điếm.","hội nghị Vécxai $-$ Oasinhzơn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tại Hội nghị Tê-hê-ran (I-ran), nguyên thủ 3 nước Liên Xô, Mĩ, Anh khẳng định","questionImage":null,"mappedType":"multiple-choice","options":["quyết tâm thành lập Liên hợp quốc.","nhanh chóng đánh bại phát xít Đức.","chống các tàn dư của nước Đức.","thành lập quân đội giữ gìn hòa bình."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tổ chức Liên hợp quốc được thành lập trong bối cảnh nhân dân thế giới ý thức sâu sắc về hậu quả tàn khốc của","questionImage":null,"mappedType":"multiple-choice","options":["chiến tranh lạnh.","khủng hoảng kinh tế.","phân hóa giàu nghèo.","chiến tranh thế giới."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tại hội nghị I $-$ an $-$ ta (2 $-$ 1945), nguyên thủ của những quốc gia nào sau đây đã ra quyết định về việc thành lập Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Anh, Pháp, Mĩ.","Anh, Pháp, Liên Xô.","Anh, Pháp, Đức.","Anh, Mĩ, Liên Xô."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là một trong những quyết định quan trọng của Hội nghị I-an-ta (2/1945)?","questionImage":null,"mappedType":"multiple-choice","options":["Phân chia nước Đức thành bốn khu vực chiếm đóng của Đồng minh.","Phân công quân đội Đồng minh giải giáp quân Nhật ở Đông Dương.","Thành lập tổ chức Liên hợp quốc để duy trì hòa bình, an ninh thế giới.","Phân chia phạm vi ảnh hưởng ở châu Phi, châu Úc giữa các nước Đồng minh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Các nước Đồng minh đã thành lập tổ chức nào để phù hợp với khát vọng được sống trong hòa bình của nhân dân thế giới?","questionImage":null,"mappedType":"multiple-choice","options":["Hội Quốc liên.","Liên hợp quốc.","Liên minh châu Âu.","Ngân hàng thế giới."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1945, đâu là vấn đề cấp bách đặt ra cho các nước Đồng minh chống phát xít?","questionImage":null,"mappedType":"multiple-choice","options":["Phân chia lại thuộc địa của các nước.","Tổ chức lại thế giới sau chiến tranh.","Thiết lập trật tự thế giới mới hai cực.","Phục hồi và phát triển kinh tế thế giới."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Yêu cầu bức thiết nào sau đây được đặt ra cho các nước Đồng minh khi cuộc chiến tranh thế giới thứ hai bước vào giai đoạn cuối?","questionImage":null,"mappedType":"multiple-choice","options":["Đẩy mạnh xử lí các tàn dư và trấn an cấu hình kinh tế.","Thành lập tổ chức Hội Quốc liên để ngăn chặn chiến tranh.","Tiêu diệt hoàn toàn chủ nghĩa phát xít và tổ chức lại thế giới.","Thủ tiêu tất cả các hình thức của chế độ phân biệt chủng tộc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trong giai đoạn cuối của chiến tranh thế giới thứ hai, một trong những vấn đề cấp bách đặt ra là","questionImage":null,"mappedType":"multiple-choice","options":["giúp đỡ các nước Đồng Ấu xây dựng cơ sở vật chất của chủ nghĩa xã hội.","Liên minh giữa Liên Xô và Mĩ để thiết lập trật tự thế giới mới sau chiến tranh.","thành lập một ủy ban giúp đỡ các nước phát xít khắc phục hậu quả chiến tranh.","thành lập một tổ chức quốc tế nhằm duy trì hòa bình và trật tự thế giới."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Bản Hiến chương Liên hợp quốc đã được thông qua khi cuộc chiến tranh thế giới thứ hai","questionImage":null,"mappedType":"multiple-choice","options":["bước vào giai đoạn quyết liệt.","bước vào giai đoạn kết thúc.","bắt đầu lan ra khu vực châu Á.","bắt đầu lan ra khu vực châu Phi."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tổ chức Liên hợp quốc được thành lập năm 1945 nhằm đáp ứng nhu cầu nào sau đây của toàn thể nhân loại?","questionImage":null,"mappedType":"multiple-choice","options":["Bảo vệ hòa bình, an ninh toàn thế giới.","Chống biến đổi khí hậu trên toàn cầu.","Nâng cao đời sống tinh thần con người.","Thúc đẩy khoa học công nghệ phát triển."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào đánh dấu tổ chức Liên hợp quốc chính thức được thành lập?","questionImage":null,"mappedType":"multiple-choice","options":["Hội nghị Ianta (Liên Xô) quyết định thành lập tổ chức Liên hợp quốc.","I-an (Tuyên bố Liên hợp quốc) được đại diện 26 nước kí kết tại Oa-sinh-tơn (Mĩ).","Đại diện 50 nước họp ở Xan Phran-xi-xcô (Mĩ) thông qua Hiến chương Liên hợp quốc.","Hiến chương Liên hợp quốc được Quốc hội các nước thành viên phê chuẩn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Ngày 24 $-$ 10 hàng năm được lấy là ngày Liên hợp quốc gắn liền với sự kiện lịch sử nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Liên hợp quốc thông qua 17 mục tiêu Chương trình nghị sự 2030.","Trung Quốc trở thành ủy viên thường trực của Hội đồng bảo an.","Hội nghị Thượng đỉnh Thiên niên kỉ Liên hợp quốc được triệu tập.","Hiến chương Liên hợp quốc được Quốc hội các nước phê chuẩn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tổ chức Liên hợp quốc ra đời không phải là kết quả của những quyết định tại hội nghị nào?","questionImage":null,"mappedType":"multiple-choice","options":["Tê-hê-ran (I-ran, năm 1943).","I-an-ta (Liên Xô, năm 1945).","Muy-nich (Đức, năm 1938).","Xan Phran-xi-xcô (Mĩ, năm 1945)."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây không phản ánh đúng bối cảnh lịch sử hình thành tổ chức Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Nhân dân thế giới có khát vọng được chung sống hòa bình.","Chủ nghĩa phát xít xuất hiện và cấm quyền ở nhiều nước.","Ý thức của các nước Đồng minh về việc tổ chức thế giới.","Nhu cầu thành lập tổ chức quốc tế mới thay thế tổ chức cũ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nhận xét nào sau đây phản ánh không đúng về sự thành lập tổ chức Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Phù hợp với khát vọng hòa bình chung của nhân dân thế giới.","Quá trình hình thành trải qua nhiều hội nghị quốc tế khác nhau.","Các cường quốc Đồng minh giữ vai trò chủ đạo trong việc thành lập.","Quá trình thành lập lâu dài và chịu ảnh hưởng của chiến tranh lạnh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Kết nhận xét nào sau đây phản ánh đúng về sự thành lập tổ chức Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Phù hợp với khát vọng hòa bình chung của nhân dân thế giới.","Quá trình hình thành trải qua nhiều hội nghị quốc tế khác nhau.","Các cường quốc Đồng minh giữ vai trò chủ đạo trong việc thành lập.","Quá trình thành lập lâu dài và chịu ảnh hưởng của Chiến tranh lạnh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục tiêu nào sau đây của Liên hợp quốc là cơ sở cho các mục tiêu khác?","questionImage":null,"mappedType":"multiple-choice","options":["Duy trì hòa bình và an ninh quốc tế.","Duy trì quan hệ hữu nghị giữa các dân tộc.","Giải quyết các vấn đề về an ninh kinh tế xã hội.","đảm bảo quyền con người, không phân biệt chủng tộc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những mục tiêu của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["An toàn trong nội bộ các nước.","Xóa bỏ chế độ thuộc địa kiểu cũ.","Cân bằng quyền lực các nước.","Thực hiện quyền tự do hàng hải."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục tiêu và nguyên tắc hoạt động của Liên hợp quốc được quy định bởi văn kiện quan trọng nào?","questionImage":null,"mappedType":"multiple-choice","options":["Hiến chương.","Hiệp pháp.","Hiệp định.","Tuyên ngôn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những nội dung của mục tiêu, hành động mang tính toàn cầu đến nay của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Chống chiến tranh.","Quyền tự do ngôn luận.","Chống bạo lực gia đình.","Chất lượng giáo dục."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Việt Nam có thể vận dụng nguyên tắc hoạt động nào của Liên hợp quốc để giải quyết vấn đề ở Biển Đông?","questionImage":null,"mappedType":"multiple-choice","options":["Giải quyết các tranh chấp bằng biện pháp hoà bình.","Sự nhất trí của các nước thường trực Hội đồng bảo an.","Quyền bình đẳng giữa các thành viên Liên hợp quốc.","Tôn trọng luật pháp quốc tế, chủ quyền và toàn vẹn lãnh thổ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào là cơ sở để tổ chức Liên hợp quốc đề ra nguyên tắc \"Giải quyết các tranh chấp quốc tế bằng biện pháp hòa bình\"?","questionImage":null,"mappedType":"multiple-choice","options":["Hòa bình là điều kiện sống, xu thế của các dân tộc trên thế giới.","Hòa bình là điều kiện quyết định để duy trì chế độ chính trị.","Phục dịch của Liên hợp quốc là cân bằng lợi ích của các nước.","Tranh chấp, xung đột xảy ra ở hầu hết các khu vực trên thế giới."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Cơ quan nào của Liên hợp quốc chịu trách nhiệm chính trong việc duy trì hòa bình và an ninh thế giới?","questionImage":null,"mappedType":"multiple-choice","options":["Đại hội đồng.","Ban thư ký.","Hội đồng bảo an.","Tòa án quốc tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hiện nay, một trong những cuộc xung đột trên thế giới mà Liên hợp quốc vẫn chưa giải quyết được là","questionImage":null,"mappedType":"multiple-choice","options":["La Xva-rơ-đo.","Trung Đông.","Gva-tê-ma-la.","Mô-dăm-bích."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những nội dung của mục tiêu, hành động mang tính toàn cầu đến năm 2030 của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Chống nạn thất nghiệp.","Chống buôn lậu ma túy.","Quyền tự do, dân chủ, bình đẳng.","Nâng lương sạch và bền vững."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những điểm giống về mục tiêu của Liên hợp quốc so với các tổ chức quốc tế và khu vực khác là","questionImage":null,"mappedType":"multiple-choice","options":["tập hợp thành viên vào Liên minh quân sự.","đem lại lợi ích cho các nước thành viên.","thực hiện quyền tự do dân chủ, dân quyền.","Đào đối xón, dân học và kinh nghiệm."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những điểm giống về mục đích thành lập của Liên hợp quốc và Hội quốc liên là đều muốn","questionImage":null,"mappedType":"multiple-choice","options":["duy trì hòa bình và an ninh thế giới.","ngăn chặn âm mưu phá hoại của Mĩ.","Thực hiện các quyền tự do dân chủ.","Đào tạo đối công và kinh nghiệm."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mối quan hệ hợp tác của Liên hợp quốc với Việt Nam hiện nay là","questionImage":null,"mappedType":"multiple-choice","options":["hợp tác theo hướng ngày càng sâu rộng và hiệu quả.","giúp đỡ giải quyết hậu quả chiến tranh, thiên tai.","vai trò không hoạt lại cho phát triển kinh tế, xã hội.","Thúc đẩy cải cách thực hiện các quyền tự do dân chủ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu không phải là việc làm của Liên hợp quốc để trở thành một diễn đàn quốc tế vừa hợp tác, vừa đấu tranh nhằm duy trì hòa bình và an ninh thế giới?","questionImage":null,"mappedType":"multiple-choice","options":["Mở rộng kết hợp, phát triển trong phạm vi toàn khu vực.","Giải quyết các vụ tranh chấp, xung đột ở nhiều khu vực.","Thúc đẩy mối quan hệ hữu nghị và hợp tác quốc tế.","Giúp đỡ các dân tộc về kinh tế, văn hóa, giáo dục, y tế, nhân đạo..."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tổ chức Liên hợp quốc được thành lập năm 1945 nhằm đáp ứng nhu cầu nào sau đây của toàn thể nhân loại?","questionImage":null,"mappedType":"multiple-choice","options":["Bảo vệ hòa bình, an ninh toàn thế giới.","Chống biến đổi khí hậu trên toàn cầu.","Nâng cao đời sống tinh thần con người.","Thúc đẩy khoa học công nghệ phát triển."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục tiêu nào sau đây được tổ chức Liên hợp quốc chú trọng và là cơ sở để thực hiện các mục tiêu khác?","questionImage":null,"mappedType":"multiple-choice","options":["Duy trì nền hòa bình và an ninh thế giới.","Thúc đẩy quan hệ hữu nghị giữa các dân tộc.","Thúc đẩy sự phát triển kinh tế, xã hội thế giới.","Trung tâm điều hòa hoạt động của các quốc gia."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây không phản ánh đúng mục tiêu hoạt động của tổ chức Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Thúc đẩy quan hệ hữu nghị giữa các dân tộc trên thế giới.","Giải quyết các tranh chấp quốc tế bằng biện pháp hòa bình.","Hợp tác quốc tế để giải quyết các vấn đề kinh tế, xã hội.","Trung tâm điều hòa các nỗ lực quốc tế vì mục tiêu chung."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục tiêu và nguyên tắc hoạt động của tổ chức Liên hợp quốc đều được quy định rõ trong văn kiện nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Công ước Hợp quốc về Luật biển.","Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân.","Hiến chương Liên hợp quốc.","Tuyên ngôn quốc tế về Nhân quyền."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"[Năm 1960] Đại hội đồng Liên hợp quốc đã thông qua bản Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân, trao trả độc lập cho các quốc gia và dân tộc thuộc địa. Đó là một sự kiện chính trị quan trọng. Tuyên ngôn đã khẳng định các nước nước thực dân đã vi phạm nguyên tắc quan trọng nhất của pháp luật quốc tế: Quyền bình đẳng giữa các dân tộc và quyền tự quyết. Liên hợp quốc và lực lượng giữ gìn hòa bình Liên hợp quốc (NXH Chính trị Quốc gia, Hà Nội, 2008, tr.46). Đoạn tư liệu trên phản ánh vai trò của tổ chức Liên hợp quốc trên lĩnh vực nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Duy trì hòa bình, an ninh và phát triển.","Phân công các vấn đề đối ngoại.","Giải quyết xung đột vùng.","Phát triển văn hóa, xã hội các nước thành viên."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trong những văn kiện quan trọng được Liên hợp quốc ban hành nhằm duy trì hòa bình và an ninh thế giới là","questionImage":null,"mappedType":"multiple-choice","options":["Tuyên ngôn Quốc tế Nhân quyền.","Chương trình nghị sự 2030.","Công ước Liên hợp quốc về quyền trẻ em.","Hiệp ước cấm phổ biến vũ khí hạt nhân."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây phản ánh đúng vai trò của Liên hợp quốc trong việc thúc đẩy kinh tế, tài chính, thương mại quốc tế, nâng cao đời sống con người?","questionImage":null,"mappedType":"multiple-choice","options":["Thúc đẩy quá trình giành độc lập của các nước thuộc địa và phụ thuộc.","Giải quyết các cuộc tranh chấp, xung đột ở nhiều quốc gia và khu vực.","Tạo môi trường kinh tế bình đẳng, hỗ trợ các nền kinh tế kém phát triển.","Hỗ trợ các nước trong quá trình phát triển văn hóa, xã hội, giáo dục, y tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1960, Đại hội đồng Liên hợp quốc đã thông qua bản Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân, trao trả độc lập cho các quốc gia và dân tộc thuộc địa. Đó là một sự kiện chính trị quan trọng.\" (Nguyễn Quốc Hùng, Nguyễn Hồng Quân, Liên hợp quốc và Lực lượng giữ gìn hòa bình Liên hợp quốc, NXB Chính trị Quốc gia, Hà Nội, 2008, tr.46). Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân là một trong những văn kiện quan trọng của Liên hợp quốc nhằm","questionImage":null,"mappedType":"multiple-choice","options":["ngăn chặn nguy cơ chiến tranh thế giới mới.","xóa bỏ nền bành và khí hóa học và hạt nhân.","duy trì hòa bình và an ninh thế giới.","phát triển văn hóa, xã hội các nước thành viên."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hoạt động nào sau đây thể hiện vai trò thúc đẩy phát triển của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Đề ra nhiều chương trình hỗ trợ các nước về vốn, tri thức, kĩ thuật.","Đề ra mục tiêu phát triển Thiên niên kỉ nhằm xoá bỏ đói nghèo.","Điều ước quốc tế về quyền phụ nữ và trẻ em.","Giải quyết tranh chấp quốc tế bằng biện pháp hoà bình."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hoạt động nào sau đây thể hiện vai trò thúc đẩy phát triển kinh tế, tài chính, nâng cao đời sống người dân của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Góp phần vào các hoạt động chống biến đổi khí hậu, dịch bệnh.","Đề ra nhiều chương trình nhằm kiến tạo xóa đói nghèo.","Kí điều ước quốc tế về quyền phụ nữ và trẻ em.","Giải quyết tranh chấp quốc tế bằng biện pháp hoà bình."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Liên minh quân sự, khoa học, công nghệ.","questionImage":null,"mappedType":"multiple-choice","options":["Liên minh quân sự, khoa học, công nghệ.","Chương trình phát triển.","Quyền tự do, dân chủ, bình đẳng.","Quan hệ quốc tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Liên hợp quốc có vai trò thúc đẩy phát triển kinh tế tài chính, thương mại quốc tế, nâng cao đời sống người dân.","questionImage":null,"mappedType":"multiple-choice","options":["Liên minh tài chính, văn hóa, khoa học và quân sự.","Xây dựng và bảo tồn văn hóa của thế giới.","Chương trình phát triển.","Kinh tế, tài chính, thương mại, nâng cao đời sống người dân."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Vai trò thúc đẩy phát triển của Liên hợp quốc được thực hiện thông qua","questionImage":null,"mappedType":"multiple-choice","options":["Ban thư ký.","Đại hội đồng.","Ủy ban kinh tế, tài chính.","Các cơ quan chuyên môn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Vai trò thúc đẩy phát triển của Liên hợp quốc được thực hiện thông qua","questionImage":null,"mappedType":"multiple-choice","options":["Ban thư ký.","Đại hội đồng.","Ủy ban kinh tế, tài chính.","Các tổ chức liên chính phủ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Từ năm 1960, một trong những ưu tiên của Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["tạo môi trường kinh tế, thương mại, tài chính quốc tế bình đẳng.","duy trì hòa bình, chống phân biệt chủng tộc.","đưa ra những quyền tự do cơ bản của con người.","cấm phổ biến vũ khí nguyên tử, vũ khí hạt nhân."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào không phải là mục tiêu, hành động của Liên hợp quốc chú trọng, xem đó là công cụ phát triển kinh tế các nước thành viên.","questionImage":null,"mappedType":"multiple-choice","options":["Xây dựng bản sắc văn hoá chung.","Phát triển hợp tác kinh tế, thương mại quốc tế.","Đảm bảo quyền con người và nền công bằng xã hội.","Phát triển công nghiệp sáng tạo."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là mục tiêu, hành động của Chương trình nghị sự 2030 vì sự phát triển bền vững (thông qua năm 2015)?","questionImage":null,"mappedType":"multiple-choice","options":["Phát triển kinh tế các nước thành viên.","Duy trì an ninh trên biển.","Bảo vệ nguồn nước ngọt.","Hoà bình, công lý và các thể chế mạnh mẽ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào năm này là mục tiêu, hành động của Chương trình nghị sự 2030 vì sự phát triển bền vững (thông qua năm 2015)?","questionImage":null,"mappedType":"multiple-choice","options":["Phát triển kinh tế các nước thành viên.","Duy trì an ninh trên biển.","Bảo vệ nguồn nước ngọt.","Nước sạch và vệ sinh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là mục tiêu, hành động của Chương trình nghị sự 2030 vì sự phát triển bền vững (thông qua năm 2015)?","questionImage":null,"mappedType":"multiple-choice","options":["Phát triển kinh tế các nước thành viên.","Duy trì an ninh trên biển.","Bảo vệ nguồn nước ngọt.","Tiêu thụ và sản xuất có trách nhiệm."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là mục tiêu, hành động của Chương trình nghị sự 2030 vì sự phát triển bền vững (thông qua năm 2015)?","questionImage":null,"mappedType":"multiple-choice","options":["Phát triển kinh tế các nước thành viên.","Duy trì an ninh trên biển.","Bảo vệ nguồn nước ngọt.","Công nghiệp sáng tạo và phát triển."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là mục tiêu, hành động của Chương trình nghị sự 2030 vì sự phát triển bền vững (thông qua năm 2015)?","questionImage":null,"mappedType":"multiple-choice","options":["Phát triển kinh tế các nước thành viên.","Duy trì an ninh trên biển.","Bảo vệ nguồn nước ngọt.","Tăng trưởng và phát triển kinh tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào sau đây là vai trò của Liên hợp quốc về thúc đẩy phát triển kinh tế tài chính, thương mại quốc tế, nâng cao đời sống người dân?","questionImage":null,"mappedType":"multiple-choice","options":["Giảm lãi suất cho vay ở hầu hết các nước phát triển.","Hỗ trợ các nước về vốn, tri thức và kỹ thuật, nhân lực.","Cải thiện năng lực công nghệ thông tin.","Hoàn thành phổ cập giáo dục đại học."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục tiêu phát triển Thiên niên kỉ của Liên hợp quốc đã được Hội nghị Thượng đỉnh Thiên niên kỉ (9/2000) thông qua, không bao gồm:","questionImage":null,"mappedType":"multiple-choice","options":["Xóa đói, giảm nghèo.","Thực hiện bình đẳng giới.","Đảm bảo bền vững về môi trường.","Hạn chế vũ khí hạt nhân."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những hạn chế lớn của tổ chức Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["quá nhiều thành viên.","bị các nước lớn chi phối.","thiếu nhân sự chất lượng.","không có trụ sở cố định."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Cho đoạn tư liệu: \"Mọi người sinh ra đều được tự do và bình đẳng về nhân quyền và các quyền. Mọi người đều được tạo hóa ban cho lí trí và lương tâm và cần phải đối xử với nhau bằng tình anh em.\"","questionImage":null,"mappedType":"multiple-choice","options":["Tuyên ngôn độc lập của nước Mĩ.","Tuyên ngôn nhân quyền và dân quyền của Pháp 1789.","Tuyên ngôn quốc tế nhân quyền của Liên hợp quốc, 1948.","Tuyên ngôn của Liên hợp quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những điểm khác nhau giữa Tuyên ngôn độc lập của nước Mĩ và Tuyên ngôn nhân quyền và dân quyền của Pháp với Tuyên ngôn quốc tế nhân quyền của Liên hợp quốc?","questionImage":null,"mappedType":"multiple-choice","options":["Tuyên ngôn độc lập của nước Mĩ và Tuyên ngôn nhân quyền và dân quyền của Pháp là văn bản pháp lí có giá trị toàn cầu.","Tuyên ngôn quốc tế nhân quyền của Liên hợp quốc là văn bản pháp lí có giá trị toàn cầu.","Tuyên ngôn độc lập của nước Mĩ và Tuyên ngôn nhân quyền và dân quyền của Pháp có tính chất bao trùm hơn.","Tuyên ngôn quốc tế nhân quyền của Liên hợp quốc ra đời sớm hơn."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Để đảm bảo những quyền tự do cơ bản của con người Liên hợp quốc đã","questionImage":null,"mappedType":"multiple-choice","options":["xây dựng, kí kết nhiều văn bản, điều ước quốc tế.","can thiệp trực tiếp vào công việc nội bộ các nước.","viện trợ về kinh tế cho các quốc gia và khu vực.","kí kết các văn bản trong thương mại quốc tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Quá trình hình thành Liên hợp quốc lần lượt trải qua các Hội nghị quốc tế nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Oa – sinh – tơn, Xan Phran – xi – xcô, I – an ta.","Tê – hê – ran, I – an – ta, Xan Phran – xi – xcô.","I – an ta, Tê – hê – ran, Xan Phran – xi – xcô.","Xan Phran – xi – xcô, Oa – sinh – tơn, Tê – hê – ran."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nhận xét nào sau đây về sự thành lập tổ chức Liên hợp quốc là không đúng?","questionImage":null,"mappedType":"multiple-choice","options":["Phù hợp với khát vọng hòa bình chung của nhân dân thế giới.","Quá trình hình thành trải qua nhiều hội nghị quốc tế khác nhau.","Các cường quốc Đồng minh giữ vai trò chủ đạo trong việc thành lập.","Quá trình thành lập lâu dài và chịu ảnh hưởng của chiến tranh lạnh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Yếu tố nào sau đây đóng vai trò quyết định trong việc thành lập Liên hợp quốc với tư cách là tổ chức quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["Tập trung bảo vệ lợi ích những nước lớn.","Đại diện cho các dân tộc ở tất cả các châu lục.","Không có quân đội thường trực.","Không bị chi phối bởi các cường quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào được xem là khởi đầu cho chính sách chống Liên Xô của Mĩ, gây nên cuộc chiến tranh lạnh?","questionImage":null,"mappedType":"multiple-choice","options":["Thông điệp Tống thống Tơ-ru-man (3 $-$ 1947).","Sự ra đời của Kế hoạch Mác-san (6 $-$ 1947).","Học thuyết Tơ-ru-man (1947).","Thành lập Tổ chức quân sự NATO (4 $-$ 1949)."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hội nghị I-an-ta (tháng 2 $-$ 1945) diễn ra trong giai đoạn nào của chiến tranh thế giới thứ hai?","questionImage":null,"mappedType":"multiple-choice","options":["Vừa mới kết thúc.","Bùng nổ và lan rộng.","Quyết định một số chiến lược mới.","Đang diễn ra ác liệt."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là quyết định quan trọng của Hội nghị I-an-ta (tháng 2 $-$ 1945)?","questionImage":null,"mappedType":"multiple-choice","options":["Thành lập tổ chức Liên hợp quốc.","Thống nhất tiêu diệt tận gốc chủ nghĩa phát xít.","Hình thành trật tự thế giới mới sau chiến tranh.","Phân chia phạm vi ảnh hưởng giữa Liên Xô, Mỹ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Mục đích chung được các cường quốc thỏa thuận trong Hội nghị I-an-ta (tháng 2 $-$ 1945) là","questionImage":null,"mappedType":"multiple-choice","options":["chấm dứt tình trạng nội chiến ở Trung Quốc, Áo và Phần Lan.","thủ tiêu chủ nghĩa thực dân và chủ nghĩa phân biệt chủng tộc.","xây dựng nước Đức trở thành quốc gia thống nhất, giàu mạnh.","tiêu diệt tận gốc phát xít Đức và chủ nghĩa quân phiệt Nhật Bản."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Tiêu biểu nhất của quan hệ Mĩ $-$ Xô sau chiến tranh thế giới thứ hai, năm 1945 là","questionImage":null,"mappedType":"multiple-choice","options":["Anh, Pháp, Mĩ và Liên Xô sẽ chia ảnh hưởng ở châu Âu và châu Á.","Liên Xô và Mĩ sẽ cùng nhau giải quyết các vấn đề quốc tế.","Liên Xô và Mĩ sẽ thiết lập trật tự lượng giới sau chiến tranh.","Liên Xô không tham gia chiến tranh chống Nhật ở châu Á."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những khu vực được Hội nghị I-an-ta (tháng 2 $-$ 1945) quy định thuộc phạm vi ảnh hưởng của Liên Xô là","questionImage":null,"mappedType":"multiple-choice","options":["Tây Âu.","Đông Âu.","Mông Cổ.","Trung Đông."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những khu vực được Hội nghị I-an-ta (tháng 2 $-$ 1945) quy định thuộc phạm vi ảnh hưởng của Mĩ là","questionImage":null,"mappedType":"multiple-choice","options":["Tây Âu.","Đông Âu.","Mông Cổ.","Trung Đông."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là ranh giới phân chia phạm vi chiếm đóng Triều Tiên của Mĩ và Liên Xô được Hội nghị I-an-ta (tháng 2 $-$ 1945) quy định?","questionImage":null,"mappedType":"multiple-choice","options":["Vĩ tuyến 38.","Vĩ tuyến 45.","Vĩ tuyến 17.","Cảng Incheon."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới mới được hình thành sau Chiến tranh thế giới thứ hai (1939 $-$ 1945) là","questionImage":null,"mappedType":"multiple-choice","options":["I-an-ta.","Véc-xai.","Mác-xen.","Đa cực."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Quốc gia đứng đầu khối tư bản chủ nghĩa sau Chiến tranh thế giới thứ hai (1939 $-$ 1945) là","questionImage":null,"mappedType":"multiple-choice","options":["Anh.","Pháp.","Mĩ.","Đức."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Quốc gia đứng đầu khối xã hội chủ nghĩa sau Chiến tranh thế giới thứ hai (1939 $-$ 1945) là","questionImage":null,"mappedType":"multiple-choice","options":["Trung Quốc.","Việt Nam.","Triều Tiên.","Liên Xô."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Những quốc gia nào sau đây tham dự Hội nghị I-an-ta (tháng 2 $-$ 1945)","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô, Mỹ, Anh.","Liên Xô, Mỹ, Pháp.","Trung Quốc, Mỹ, Anh.","Liên Xô, Anh, Pháp."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Liên Xô và Mỹ đã mạnh dần đối thoại hợp tác từ","questionImage":null,"mappedType":"multiple-choice","options":["nửa sau những năm 80.","nửa sau những năm 90.","nửa đầu những năm 90.","nửa đầu những năm 80."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1989, tại Béc-lin và Mĩ và Liên Xô đã có hành động nào sau đây?","questionImage":null,"mappedType":"multiple-choice","options":["Tuyên bố chung về vũ khí chiến lược.","Kí nhiều hiệp định thương mại tự do.","Tuyên bố chấm dứt Chiến tranh lạnh.","Kí kết hòa bình giữa Mĩ và Liên Xô."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào sau đây đánh dấu trật tự hai cực I-an-ta chấm dứt?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô chính thức tan rã (1991).","Chiến tranh kết thúc (1989).","Bức tường Béc-lin sụp đổ (1989).","Khủng hoảng năng lượng (1973)."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào sau đây có ý nghĩa mở ra bước đột phá đầu tiên đối với trật tự thế giới hai cực I-an-ta?","questionImage":null,"mappedType":"multiple-choice","options":["Thắng lợi của cách mạng Trung Quốc (1949).","Thắng lợi cách mạng tháng 8 Việt Nam (1945).","Chế độ độc tài thân Mỹ thất bại ở Cuba (1959).","Anh, Pháp rút quân khỏi kênh đào Xuy-ê (1956)."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung tranh cãi gay gắt quyết liệt nhất trong Hội nghị I-an-ta (tháng 2 $-$ 1945) là","questionImage":null,"mappedType":"multiple-choice","options":["Quốc gia nào sẽ tham chống Nhật ở châu Á.","phân chia phạm vi ảnh hưởng sau chiến tranh.","ranh giới phân chia đế chiếm đóng Triều Tiên.","số phận của các nước phát xít sau chiến tranh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Yếu tố nào liên quan trực tiếp đến các cuộc cách mạng khoa học kĩ thuật hiện đại trong việc tạo ra thế hệ mới của nền kinh tế thế giới.","questionImage":null,"mappedType":"multiple-choice","options":["Đã xuất hiện xu thế hòa hoãn.","Các mậu thuẫn ngày càng sâu sắc.","Làm suy yếu trật tự hai cực.","Đã củng cố trật tự hai cực."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những biểu hiện của xu thế hoà hoãn Đông – Tây là","questionImage":null,"mappedType":"multiple-choice","options":["các cuộc gặp gỡ cấp cao giữa Mĩ – Xô.","khủng hoảng năng lượng, dầu mỏ.","chiến tranh ở Việt Nam, Triều Tiên.","sự vươn lên của các nước Đức, Nhật Bản."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những mục đích của Mỹ khi triển khai thực hiện kế hoạch Mác-san (tháng 6 $-$ 1947) đối với các nước Tây Âu là","questionImage":null,"mappedType":"multiple-choice","options":["phát xít hóa trở lại nước Đức.","tiêu diệt đảng Cộng sản Ý.","đổ lỗi cho khối phục kinh tế.","khuyếch trương địa vị của Tây Âu."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những mục đích của Mỹ khi thành lập khối quân sự Bắc Đại Tây Dương (NATO) năm 1949 là","questionImage":null,"mappedType":"multiple-choice","options":["chống lại Liên Xô và các nước Đông Âu.","muốn bán vũ khí cho các nước đồng minh.","chuẩn bị phát động chiến tranh chống Đức.","tấn công nhằm diệt các nước tư bản chủ nghĩa."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện đánh dấu Chiến tranh lạnh bao trùm thế giới là","questionImage":null,"mappedType":"multiple-choice","options":["thắng lợi của cách mạng Cuba (1959).","Chiến tranh giữa Liên Xô và Mĩ (1947-1989).","Chiến dịch Sên-tô (1949).","sự đối đầu của NATO và Vác-sa-va (1955)."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Vì sao từ sau Chiến tranh thế giới thứ hai (1939 $-$ 1945), Mĩ và Liên Xô đối đầu gay gắt?","questionImage":null,"mappedType":"multiple-choice","options":["Khác nhau về mục tiêu và đường lối chiến lược.","Do những mâu thuẫn trong nội bộ I-an-ta.","Mâu thuẫn về quyền lợi kinh tế và thị trường quốc tế.","Sự cạnh tranh gay gắt về công nghiệp vũ trụ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1947, Mỹ phát động Chiến tranh lạnh nhằm mục đích chủ yếu là","questionImage":null,"mappedType":"multiple-choice","options":["cướp đoạt thuộc địa.","phong tỏa kinh tế.","thống trị thế giới.","thống trị châu Âu."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những mục tiêu của Mỹ khi kiến tạo nền thống trị thế giới, thông qua chiến lược toàn cầu thực hiện chính sách chống Trung Quốc, Liên Xô năm 1972 là","questionImage":null,"mappedType":"multiple-choice","options":["là hạt chế và gìm giữ Trung Quốc và Liên Xô.","phân chia ranh giới của Mĩ với Liên Xô và Trung Quốc.","phân chia ranh giới của Mĩ với Liên Xô và Việt Nam.","hợp tác kinh tế, thương mại với Liên Xô và Trung Quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Cuộc chiến tranh của Mỹ khi thực hiện chính sách chống Liên Xô, Trung Quốc nhằm kiểm soát các nước thuộc địa, Liên Xô năm 1972 là","questionImage":null,"mappedType":"multiple-choice","options":["là hạt chế và gìm giữ Trung Quốc và Liên Xô.","phân chia ranh giới của Mĩ với Liên Xô và Trung Quốc.","phân chia ranh giới của Mĩ với Liên Xô và Việt Nam.","hợp tác kinh tế, thương mại với Liên Xô và Trung Quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Chiến tranh Việt Nam (1954 $-$ 1975).","questionImage":null,"mappedType":"multiple-choice","options":["chiến tranh Triều Tiên (1950 $-$ 1953).","chiến tranh sau ngày (1967).","chiến tranh Trung – Ấn (1962).","chiến tranh giữa Trung Quốc và Liên Xô."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Từ 1980 đến khi chiến tranh lạnh (1947 $-$ 1989), vì sao Mĩ và Liên Xô tránh xung đột trực tiếp về quân sự?","questionImage":null,"mappedType":"multiple-choice","options":["Cả Mĩ và Liên Xô đều không đủ lực lượng chiến đấu.","Ngăn ngừa nguy cơ nổ ra cuộc chiến tranh thế giới mới.","Liên Xô đã khủng hoảng kinh tế, chính trị trầm trọng.","Sự phân đôi chiến tranh của nhân dân Mĩ và Liên Xô."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những nguyên nhân khiến Mĩ và Liên Xô quyết định chấm dứt cuộc Chiến tranh lạnh (1947 $-$ 1989)?","questionImage":null,"mappedType":"multiple-choice","options":["Sự vươn lên mạnh mẽ của Nhật Bản, Tây Âu.","Các nước Cộng hòa trong Liên bang đổi lý khai.","Nước Mỹ khủng hoảng kinh tế, chính trị sâu sắc.","Nhật Bản và các nước Tây Âu."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là biện pháp chủ yếu của Mĩ và Liên Xô sử dụng để kết thúc các cuộc chiến tranh cục bộ trong thời kì Chiến tranh lạnh (1947 $-$ 1989)?","questionImage":null,"mappedType":"multiple-choice","options":["Kinh tế.","Chính trị.","Ngoại giao.","Quân sự."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung nào không phản ánh đúng bản chất của Chiến tranh lạnh?","questionImage":null,"mappedType":"multiple-choice","options":["Sự đối đầu căng thẳng giữa hai phe tư bản chủ nghĩa và xã hội chủ nghĩa.","Hai đầu cùng thông qua hai phe tư bản chủ nghĩa và xã hội chủ nghĩa.","Là cuộc đối đầu trực tiếp về quyền và nghĩa vụ công dân.","Thế giới đã bị chia thành hai phe tư bản chủ nghĩa và xã hội chủ nghĩa."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nguyên nhân chủ yếu dẫn tới cuộc chiến tranh thế giới thứ hai kết thúc là gì?","questionImage":null,"mappedType":"multiple-choice","options":["Do sự đối lập về mục tiêu giữa các cường quốc và các nước.","Do mâu thuẫn trong nội bộ các nước.","Trật tự thế giới có quá nhiều mâu thuẫn của các nước.","Do tình trạng căng thẳng giữa các nước."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự đối đầu của khối NATO (1949) và Tổ chức Hiệp ước Vác-sa-va (1955) dẫn đến hệ quả gì trong quan hệ quốc tế.","questionImage":null,"mappedType":"multiple-choice","options":["Đã đánh dấu sự phát triển vượt bậc của hai cực.","Chấm dứt mối quan hệ đồng minh giữa Xô – Mỹ.","Hàng loạt các tổ chức quân sự trên thế giới ra đời.","Đánh dấu sự xác lập của cuộc chiến tranh lạnh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trong những nguyên nhân nào sau đây đã dẫn đến sự sụp đổ của Trật tự thế giới hai cực I-an-ta?","questionImage":null,"mappedType":"multiple-choice","options":["Thắng lợi của phong trào giải phóng dân tộc và ra đời của các quốc gia độc lập.","Các nước tư bản chạy đua sản xuất hàng hóa ồ ạt, dẫn đến lượng cầu ít hơn cung.","Hệ thống chính trị xã hội chủ nghĩa không còn phù hợp với các nước.","Mâu thuẫn về quyền lợi, địa vị chính trị của các nước."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nguyên nhân nào sau đây đã dẫn đến sự sụp đổ của Trật tự thế giới hai cực I-an-ta?","questionImage":null,"mappedType":"multiple-choice","options":["Mĩ và Liên Xô bị suy giảm sức mạnh trên nhiều mặt.","Công cuộc cải tổ của Goóc-ba-chốp (Liên Xô) thành công.","Sự suy giảm kinh tế của Nhật Bản, các nước Tây Âu.","Mĩ và Liên Xô bị tấn công bởi các cường quốc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong các nguyên nhân khiến Mĩ và Liên Xô chấm dứt Chiến tranh lạnh (1947 $-$ 1989) là","questionImage":null,"mappedType":"multiple-choice","options":["Công cuộc cải tổ của Goóc-ba-chốp (Liên Xô) thành công.","Mĩ và Liên Xô bị suy giảm sức mạnh.","Chiến tranh lạnh bùng nổ, Liên Xô khủng hoảng kinh tế.","Liên Xô và Mĩ chính thức tan rã."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong các nguyên nhân khiến Mĩ và Liên Xô chấm dứt Chiến tranh lạnh (1947 $-$ 1989) là","questionImage":null,"mappedType":"multiple-choice","options":["Công cuộc cải tổ của Goóc-ba-chốp (Liên Xô) thành công.","Mĩ và Liên Xô bị suy giảm sức mạnh.","Chiến tranh lạnh bùng nổ, Liên Xô khủng hoảng kinh tế.","Liên Xô và Mĩ chính thức tan rã."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong các nguyên nhân khiến Mĩ và Liên Xô chấm dứt Chiến tranh lạnh (1947 $-$ 1989) là","questionImage":null,"mappedType":"multiple-choice","options":["Công cuộc cải tổ của Goóc-ba-chốp (Liên Xô) thành công.","Mĩ và Liên Xô bị suy giảm sức mạnh.","Chiến tranh lạnh bùng nổ, Liên Xô khủng hoảng kinh tế.","Liên Xô và Mĩ chính thức tan rã."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong các nguyên nhân khiến Mĩ và Liên Xô chấm dứt Chiến tranh lạnh (1947 $-$ 1989) là","questionImage":null,"mappedType":"multiple-choice","options":["Công cuộc cải tổ của Goóc-ba-chốp (Liên Xô) thành công.","Mĩ và Liên Xô bị suy giảm sức mạnh.","Chiến tranh lạnh bùng nổ, Liên Xô khủng hoảng kinh tế.","Liên Xô và Mĩ chính thức tan rã."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới hai cực I-an-ta sụp đổ năm 1991, tác động như thế nào đến quan hệ quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["Đã tác động lớn đến thế giới, đưa tới xu thế phát triển mới.","Quan hệ Mĩ và Liên Xô chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới hai cực I-an-ta sụp đổ năm 1991, tác động như thế nào đến quan hệ quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["Đã tác động lớn đến thế giới, đưa tới xu thế phát triển mới.","Quan hệ Mĩ và Liên Xô chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới hai cực I-an-ta sụp đổ năm 1991, tác động như thế nào đến quan hệ quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["Đã tạo điều kiện cho các cường quốc mới nổi có vị trí vai trò lớn hơn trong quan hệ quốc tế.","Quan hệ Mĩ và Liên Xô chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới hai cực I-an-ta sụp đổ năm 1991, tác động như thế nào đến quan hệ quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["Đã tạo điều kiện cho các cường quốc mới nổi có vị trí vai trò lớn hơn trong quan hệ quốc tế.","Quan hệ Mĩ và Liên Xô chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự thế giới hai cực I-an-ta sụp đổ năm 1991, tác động như thế nào đến quan hệ quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["đã tác động đến vấn đề dân tộc, bản sắc cộng đồng dân tộc, tôn giáo...đặc biệt châu Âu.","Quan hệ Mĩ và Liên Xô chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại.","Quan hệ Mĩ và Liên Xô đã chuyển từ đối đầu sang đối thoại."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sau khi trật tự hai cực I-an-ta sụp đổ năm 1991, giới cầm quyền Mĩ ra sức thiết lập trật tự thế giới \"một cực\" nhưng không thực hiện được?","questionImage":null,"mappedType":"multiple-choice","options":["Do sự lớn mạnh của Trung Quốc.","Do sự vươn lên mạnh mẽ của Nhật Bản.","Do sự vươn lên của các cường quốc khác.","Do sự đối lập của các nước lớn và nhỏ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Theo quyết định của Hội nghị I-an-ta (2-1945), những nước nào sau đây đã trở thành những nước trung lập?","questionImage":null,"mappedType":"multiple-choice","options":["Áo, Phần Lan.","Đức, Thụy Sĩ.","Anh, Pháp, D. Nam Tư.","Đan Mạch, Na Uy."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Theo quyết định của Hội nghị I-an-ta (2-1945), nước nào cần trở thành một quốc gia thống nhất và dân chủ?","questionImage":null,"mappedType":"multiple-choice","options":["Trung Quốc.","Nhật Bản.","Pháp.","Ấn Độ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Quyết định của Hội nghị I-an-ta (2-1945) và những thỏa thuận sau đó giữa ba cường quốc Liên Xô, Mĩ, Anh đã trở thành khuôn khổ của một trật tự thế giới mới vì","questionImage":null,"mappedType":"multiple-choice","options":["các nước tham chiến được hưởng nhiều quyền lợi sau chiến tranh.","làm cho các dân tộc được giải phóng khỏi ách nô dịch.","đã dàn xếp thế giới sau nghĩa thức và các cường quốc gia.","đã phân chia xong phạm vi ảnh hưởng giữa các nước."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trật tự hai cực I-an-ta được xác lập sau Chiến tranh thế giới thứ hai khẳng định vị thế hàng đầu của hai cường quốc nào?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô và Mĩ.","Mĩ và Anh.","Liên Xô và Pháp.","Liên Xô và Anh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào sau đây diễn ra trong thời kỳ Chiến tranh lạnh (1947-1989)?","questionImage":null,"mappedType":"multiple-choice","options":["Tổ chức Hiệp ước Vác-sa-va thành lập.","Chiến tranh thế giới thứ hai bùng nổ.","Hệ thống Vécxai – Oasinhtơn được thiết lập.","Chiến tranh thế giới thứ nhất kết thúc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào sau đây diễn ra trong thời kì Chiến tranh lạnh (1947-1989)?","questionImage":null,"mappedType":"multiple-choice","options":["Hội đồng tương trợ kinh tế (SEV) ra đời.","Chiến tranh thế giới thứ hai bùng nổ.","Chiến tranh thế giới thứ nhất kết thúc.","Hệ thống Vécxai – Oasinhtơn được thiết lập."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Từ sau Chiến tranh thế giới thứ hai đến nửa đầu những năm 70 của thế kỉ XX, quan hệ giữa Mĩ và Liên Xô là","questionImage":null,"mappedType":"multiple-choice","options":["đối đầu.","hợp tác.","đối tác.","đồng minh."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nhận định chủ yếu chi phối quan hệ quốc tế trong phần lớn nửa sau thế kỉ XX là","questionImage":null,"mappedType":"multiple-choice","options":["cục diện “chiến tranh lạnh” .","xu thế toàn cầu hóa.","sự hình thành các liên minh kinh tế.","sự ra đời các khối quân sự đối lập."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Theo tư liệu bài đọc thì các tổ chức Liên hợp quốc (United Nations) là tổ chức được thành lập sau chiến tranh để làm việc gì?","questionImage":null,"mappedType":"multiple-choice","options":["Duy trì hòa bình và an ninh thế giới.","Giải quyết các vấn đề kinh tế, xã hội.","Thực hiện nguyên tắc tôn trọng bình đẳng giữa các nước lớn.","Tăng cường hợp tác quốc tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Đâu là một trong những điểm khác biệt của Hiệp ước Vác-sa-va (1955) so với Hiệp ước hòa bình tại Pa-ri (1919)?","questionImage":null,"mappedType":"multiple-choice","options":["Tổ chức quân sự.","Giải quyết vấn đề dân tộc.","Thiết lập quan hệ ngoại giao.","Tăng cường hợp tác quốc tế."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Trong thời kì Chiến tranh lạnh, quốc gia nào ở châu Âu trở thành tâm điểm đối đầu của hai cường quốc Mĩ – Xô?","questionImage":null,"mappedType":"multiple-choice","options":["Đức.","Pháp.","Anh.","Hy Lạp."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung cơ bản trong giai đoạn từ năm 1945 đến những năm 70 của thế kỉ XX của Trật tự hai cực I-an-ta là","questionImage":null,"mappedType":"multiple-choice","options":["Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Mĩ và Liên Xô.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Mĩ và Anh.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Liên Xô và Bỉ.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Nga và Pháp."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nội dung cơ bản trong giai đoạn từ đầu những năm 70 của thế kỉ XX đến năm 1991 của Trật tự hai cực I-an-ta là","questionImage":null,"mappedType":"multiple-choice","options":["Trật tự thế giới hai cực I-an-ta suy yếu và đi đến sụp đổ.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Mĩ và Anh.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Liên Xô và Bỉ.","Trật tự thế giới được xác lập và phát triển với sự đối đầu giữa Nga và Pháp."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hội nghị I-an-ta (2-1945) đã quyết định vấn đề gì về việc thành lập một tổ chức quốc tế?","questionImage":null,"mappedType":"multiple-choice","options":["thành lập một tổ chức quốc tế có tên là Liên hợp quốc.","thành lập một tổ chức quốc tế để chống lại các nước phát xít.","thành lập một tổ chức quốc tế để bảo vệ lợi ích của các nước lớn.","thành lập một tổ chức quốc tế để bảo vệ các nước nhỏ."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những nguyên nhân dẫn đến việc hoạt động không hiệu quả của tổ chức Liên hợp quốc là","questionImage":null,"mappedType":"multiple-choice","options":["sự khác biệt về văn hóa giữa các nước.","do bị các nước lớn chi phối.","do có quá nhiều thành viên.","do có quá ít thành viên."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Từ sau chiến tranh lạnh (1947-1989), Mĩ và Liên Xô đã thay đổi quan hệ đối ngoại như thế nào?","questionImage":null,"mappedType":"multiple-choice","options":["chuyển từ đối đầu sang đối thoại.","chuyển từ hợp tác sang đối đầu.","vẫn duy trì đối đầu.","không có thay đổi."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào đánh dấu chấm hết chiến tranh lạnh (1947-1989)?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô tan rã (1991).","Bức tường Béc-lin sụp đổ (1989).","Cuộc gặp gỡ cấp cao Xô – Mĩ (1989).","Chiến tranh Triều Tiên kết thúc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Nguyên nhân chủ yếu dẫn đến sự sụp đổ của trật tự thế giới hai cực I-an-ta (1991) là","questionImage":null,"mappedType":"multiple-choice","options":["sự suy yếu của Liên Xô và Mĩ.","sự suy yếu của Liên Xô.","sự suy yếu của Mĩ.","sự phát triển của các nước khác."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào đánh dấu trật tự hai cực I-an-ta chấm dứt?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô tan rã (1991).","Bức tường Béc-lin sụp đổ (1989).","Cuộc gặp gỡ cấp cao Xô – Mĩ (1989).","Chiến tranh Triều Tiên kết thúc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Hậu quả của chiến tranh lạnh (1947-1989) là","questionImage":null,"mappedType":"multiple-choice","options":["thế giới bị chia thành hai phe.","tạo ra một cuộc chạy đua vũ trang tốn kém.","các cuộc xung đột cục bộ diễn ra ở nhiều khu vực.","tất cả các phương án trên."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Sự kiện nào đánh dấu chiến tranh lạnh kết thúc?","questionImage":null,"mappedType":"multiple-choice","options":["Liên Xô tan rã (1991).","Bức tường Béc-lin sụp đổ (1989).","Cuộc gặp gỡ cấp cao Xô – Mĩ (1989).","Chiến tranh Triều Tiên kết thúc."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Một trong những nguyên nhân dẫn đến sự sụp đổ của trật tự hai cực I-an-ta (1991) là","questionImage":null,"mappedType":"multiple-choice","options":["sự suy yếu của Liên Xô và Mĩ.","sự suy yếu của Liên Xô.","sự suy yếu của Mĩ.","sự phát triển của các nước khác."],"optionsImage":[],"correctAnswerIndex":0},{"type":"multiple-choice","question":"Năm 1989, tại Manta (Địa Trung Hải), Tổng thống Mĩ G. Busơ và Tổng Bí thư Liên Xô M. Goóc-ba-chốp đã","questionImage":null,"mappedType":"multiple-choice","options":["tuyên bố chấm dứt chiến tranh lạnh.","kí kết hiệp ước hạn chế vũ khí hạt nhân.","thỏa thuận về việc phân chia phạm vi ảnh hưởng.","thành lập tổ chức Hiệp ước Vác-sa-va."],"optionsImage":[],"correctAnswerIndex":0},{"type":"short-answer","question":"Dựa vào tư liệu sau đây: $$ \\begin{array}{|l|l|} \\hline \\textbf{Thời gian} & \\textbf{Sự kiện} \\\\ \\hline 1 – 1 – 1942 & \\text{Đại diện } 26 \\text{ nước đã kí bản Tuyên bố Liên hợp quốc, cam kết thành lập một tổ chức quốc tế vì hòa bình và an ninh sau chiến tranh.} \\\\ \\hline 28 – 11 \\text{ đến } 1 – 12 – 1943 & \\text{Tại hội nghị Tê – hê – ran (I – ran), ba nước Liên Xô, Mỹ, Anh khẳng định quyết tâm thành lập Liên hợp quốc thay cho Hội Quốc liên.} \\\\ \\hline 2 – 1945 & \\text{Ba nước Liên Xô, Mỹ, Anh họp hội nghị I-an-ta – ra ra quyết định về việc thành lập Liên hợp quốc và đồng ý triệu tập hội nghị để thông qua Hiến chương Liên hợp quốc.} \\\\ \\hline 25 – 4 – 1945 \\text{ đến ngày } 26 – 6 – 1945 & \\text{Hội nghị quốc tế được tổ chức tại Xan Phran – xi – xcô (Mỹ) đã thông qua bản Hiến chương Liên hợp quốc.} \\\\ \\hline 24 – 10 – 1945 & \\text{Với sự phê chuẩn Hiến chương của các nước thành viên, Liên hợp quốc chính thức được thành lập} \\\\ \\hline \\end{array} $$ a) Theo thuyết định của I-an-ta (từ tháng $2$ đến tháng $6 – 1945$), một hội nghị quốc tế được tổ chức tại Xan Phran – xi – xcô (Mỹ) đã thông qua Bản Hiến chương Liên hợp quốc? b) Tổ chức Liên hợp quốc chính thức được thành lập khi cuộc chiến tranh thế giới thứ hai bước vào giai đoạn cuối. c) Quá trình thành lập Liên hợp quốc diễn ra vào nửa đầu những năm $40$ của thế kỉ XX, trải qua nhiều hội nghị quốc tế khác nhau.","questionImage":null,"mappedType":"short-answer","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau: \"Duy trì hòa bình và an ninh quốc tế, và để đạt được mục đích đó, thi hành những biện pháp tập thể có hiệu quả để phòng ngừa và loại trừ các mối đe dọa hòa bình, cấm mọi hành vi xâm lược và phá hoại hòa bình khác; điều chỉnh hoặc giải quyết các vụ tranh chấp hoặc những tình thế có tính chất quốc tế có thể đưa đến sự phá hoại hòa bình, bằng phương pháp hòa bình theo đúng nguyên tắc của công lí và pháp luật quốc tế.\" $1$. Tổ chức Liên hợp quốc nằm trong $4$ mục tiêu của nó là $2$. Phát triển mối quan hệ hữu nghị giữa các dân tộc trên cơ sở tôn trọng nguyên tắc bình đẳng và tự quyết của dân tộc và áp dụng những biện pháp phù hợp khác để củng cố hoà bình thế giới; $3$. Hợp tác quốc tế để giải quyết các vấn đề về kinh tế, xã hội, văn hoá và nhân đạo và khuyến khích phát triển sự tôn trọng các quyền của con người và các tự do cơ bản cho tất cả mọi người không phân biệt chủng tộc, nam nữ, ngôn ngữ hoặc tôn giáo; $4$. Trở thành trung tâm phối hợp mọi hành động của các dân tộc, nhằm đạt được những mục đích chung nói trên. a. Mục tiêu duy trì an ninh hòa bình thế giới là mục tiêu được chú trọng và là cơ sở để thực hiện các mục tiêu khác. b. Vai trò của Liên hợp quốc là trở thành trung tâm phối hợp mọi hành động của các dân tộc, điều phối các nỗ lực quốc tế vì mục tiêu chung. c. Hiến chương liên hợp quốc qui định tổ chức này có $4$ mục tiêu chính, các mục tiêu tồn tại độc lập không liên quan.","questionImage":null,"mappedType":"essay","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau đây: \"Duy trì hòa bình và an ninh quốc tế, và để đạt được mục đích đó, thi hành những biện pháp tập thể có hiệu quả để phòng ngừa và loại trừ các mối đe dọa hòa bình, cấm mọi hành vi xâm lược và phá hoại hòa bình khác; điều chỉnh hoặc giải quyết các vụ tranh chấp hoặc những tình thế có tính chất quốc tế có thể đưa đến sự phá hoại hòa bình, bằng phương pháp hòa bình theo đúng nguyên tắc của công lí và pháp luật quốc tế\". (Trích: Điều $1$, Hiến chương Liên hợp quốc) a. Đoạn tư liệu thể hiện mục tiêu của Liên hợp quốc là duy trì hòa bình và an ninh quốc phòng cho tất cả các quốc gia. b. Một trong những mục tiêu của Liên hợp quốc là giải quyết các vụ tranh chấp quốc tế bằng pháp luật của quốc gia. c. Trong số các mục tiêu của Liên hợp quốc, duy trì hòa bình và an ninh quốc tế là mục tiêu được đặt lên hàng đầu. d. Liên hợp quốc vẫn tiếp tục thực hiện mục tiêu giải quyết các vụ tranh chấp, xung đột quốc tế bằng biện pháp hòa bình.","questionImage":null,"mappedType":"essay","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau đây: \"[Năm 1960] Đại hội đồng Liên hợp quốc đã thông qua bản Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân, trao trả độc lập cho các quốc gia và dân tộc thuộc địa. Đó là một sự kiện chính trị quan trọng. Như thế, Tuyên ngôn đã khẳng định các nước nước thực dân đã vi phạm nguyên tắc quan trọng nhất của pháp luật quốc tế: Quyền bình đẳng giữa các dân tộc và quyền tự quyết. Liên hợp quốc và lực lượng giữ gìn hòa bình Liên hợp quốc, NXB Chính trị Quốc gia, Hà Nội, 2008, tr.46). a. Liên hợp quốc đã đưa ra văn bản quan trọng nhằm thủ tiêu hệ thống thuộc địa của chủ nghĩa thực dân trên thế giới. b. Bản Tuyên ngôn của Liên hợp quốc đã có tác động tiêu cực đến phong trào đấu tranh giải phóng ở các nước thuộc địa và phụ thuộc trên thế giới. c. Lực lượng gìn giữ hòa bình của Liên hợp quốc giúp tổ chức này thực thi nhiệm vụ bảo vệ nền hoà bình của các nước thuộc địa.","questionImage":null,"mappedType":"essay","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau: \"Hiến chương này hoàn toàn không cho phép Liên hợp quốc được can thiệp vào những công việc thuộc thẩm quyền nội bộ của bất kì quốc gia nào, và không đòi hỏi các thành viên của Liên hợp quốc phải đưa những công việc loại này ra để giải quyết theo quy định của Hiến chương...\" (Trích: Điều $2$, Hiến chương Liên hợp quốc) a. Theo Hiến chương, Liên hợp quốc không được can thiệp vào công việc nội bộ của bất kì quốc gia nào. b. Tuyên ngôn về thủ tiêu hoàn toàn chủ nghĩa thực dân đã góp phần mở ra thời kì \"phi thực dân hóa\". c. Các nước thuộc địa giành được độc lập hoàn toàn phụ thuộc vào Tuyên ngôn về thủ tiêu chủ nghĩa thực dân. d. Nguyên tắc không can thiệp vào công việc nội bộ được tất cả các thành viên thực hiện nghiêm chỉnh.","questionImage":null,"mappedType":"essay","answer":""},{"type":"short-answer","question":"Dựa bảng thống kê về hoạt động của Việt Nam tại Liên hợp quốc từ 1945-2022. Điền nội dung chính của sự kiện. $$ \\begin{array}{|l|l|} \\hline \\textbf{Thời gian} & \\textbf{Nội dung chính của sự kiện} \\\\ \\hline 26/6/1945 & \\text{Liên hợp quốc (The United Nations) là tổ chức quốc tế tiền thân của Liên hợp quốc (Liên quốc gia) được thành lập và hoạt động trên cơ sở điều ước quốc tế (Hiến chương Liên hợp quốc)} \\\\ \\hline 24/10/1945 & \\text{Ngày thành lập Liên hợp quốc.} \\\\ \\hline 20/9/1977 & \\text{Việt Nam là thành viên thứ } 149 \\text{ của Liên hợp quốc.} \\\\ \\hline 2008-2009 & \\text{Ủy viên không thường trực Hội đồng Bảo an của Liên hợp quốc.} \\\\ \\hline 2016-2018 & \\text{Thành viên Hội đồng kinh tế- xã hội.} \\\\ \\hline 2020-2021 & \\text{Ủy viên không thường trực Hội đồng Bảo an của Liên hợp quốc.} \\\\ \\hline 11/10/2022 & \\text{Thành viên của Hội đồng Nhân quyền nhiệm kỳ } 2023 - 2025 \\\\ \\hline \\end{array} $$","questionImage":null,"mappedType":"short-answer","answer":""},{"type":"short-answer","question":"Qua sơ đồ tư duy về cơ cấu tổ chức của Liên hợp quốc. [Lỗi render hình ảnh] a. Đại hội đồng là cơ quan quan trọng nhất của Liên hợp quốc vì thành viên có quyền phủ quyết các dự thảo nghị quyết của Liên hợp quốc. b. Hội đồng Bảo an có $15$ thành viên, gồm $5$ thành viên thường trực (Anh, Mĩ, Pháp, Trung Quốc) và $10$ thành viên không thường trực với nhiệm kỳ $2$ năm. c. Hội đồng Liên hợp quốc có thẩm quyền trong các lĩnh vực hợp tác chính trị, kinh tế, văn hóa, xã hội, có quyền thảo luận và đưa ra kiến nghị về vấn đề thuộc phạm vi Hiến chương. d. Các tổ chức IMF, WHO, WTO, FAO, ILO, IMO, UNESCO đều thuộc các cơ quan chủ yếu của Liên hợp quốc.","questionImage":null,"mappedType":"short-answer","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau đây: \"Liên hợp quốc đã có nhiều biện pháp, như để cao các công ước, tuyên bố về quyền trẻ em, phụ nữ, về biến đổi khí hậu, kêu gọi các nước ủng hộ sự mệnh của Liên hợp quốc trong việc thúc đẩy phát triển con người. Lĩnh vực đặc biệt thể hiện vai trò của Liên hợp quốc trong lịch sử chính trị quốc tế đó là nhân đạo. Các hoạt động cứu trợ nhân đạo của Liên hợp quốc hiện nay ở những \"điểm nóng\" trên thế giới được cộng đồng quốc tế đánh giá cao. Cơ quan cứu trợ khẩn cấp của Liên hợp quốc có trách nhiệm trùng phùng kịp thời và thúc đẩy các hoạt động nhân đạo. Hằng năm, Cao ủy Ti nạn Liên hợp quốc (UNHCR) giúp khoảng $32$ triệu người đến $110$ quốc gia; Chương trình thực thể thế giới là tổ chức nhân đạo lớn nhất hiện nay, cung cấp lương thực khắp toàn cầu. Toàn thế giới, trung bình cho $100$ triệu người ở trên $80$ quốc gia; phòng, chống và giúp khắc phục hậu quả thiên tai quy mô lớn, như trận động đất sóng thần Đại Tây Dương năm $2004$, động đất tại Ha-i-ti năm $2010$... (https://tapchicomngsan.org.vn/web/guest/hoat-dong-cua-lien-hop-dong-nha-nuoc-/ 2018/35552/lien-hop-quoc-70-nam-hinh-thanh-va-phat-trien.aspx) a. Cao ủy Ti nạn Liên hợp quốc (UNHCR) là một trong những cơ quan, tổ chức chuyên môn của Liên hợp quốc nhằm thực hiện vai trò cứu trợ nhân đạo. b. \"..., để cao các công ước, tuyên bố về quyền trẻ em, phụ nữ\" là một trong những biện pháp của tổ chức Liên hợp quốc nhằm mục tiêu cuối cùng là thúc đẩy sự phát triển con người. c. Các hoạt động cứu trợ nhân đạo của Liên hợp quốc hiện nay chỉ diễn ra ở những vùng được cho là \"điểm nóng\" trên thế giới. d. Đoạn tư liệu cung cấp thông tin về vai trò của tổ chức Liên hợp quốc trong việc duy trì hòa bình và an ninh thế giới.","questionImage":null,"mappedType":"essay","answer":""},{"type":"essay","question":"Đọc đoạn tư liệu sau: \"...Đo trình hình thành và phát triển của LHQ phản ánh bối cảnh và so sánh lực lượng trên thế giới, chịu tác động của lợi ích các quốc gia, bên cạnh đó là những khó khăn về tài chính và huy động nguồn lực, nên hiệu quả hoạt động của LHQ trên nhiều lĩnh vực còn hạn chế, chưa đáp ứng được với những thay đổi và thách thức toàn cầu mới cũng như những biến chuyển về so sánh lực lượng bên trong LHQ, nhất là việc gia tăng số lượng thành viên, trong một số trường hợp hoạt động không hiệu quả, thiếu minh bạch, bị lợi dụng và áp dụng tiêu chuẩn kép dễ gây sức ép và can thiệp\". (https://dangcongsan.vn/thoi-su/lien-hop-quoc-to-chuc-khong-the/the-hien-trong-nen-chinh-tri-hoa-binh-an-ninh-the-gioi-59128.html) a. Đoạn tư liệu phản ánh những thách thức mà tổ chức Liên hợp quốc phải đối diện với tình hình mới hiện nay. b. Một trong những nguyên nhân dẫn đến việc hoạt động không hiệu quả của tổ chức LHQ chính là do những biến chuyển về so sánh lực lượng bên trong của tổ chức này. c. LHQ là một tổ chức với vai trò chính là duy trì hòa bình an ninh thế giới vì vậy không bị chi phối bởi lợi ích giữa các quốc gia. d. Để nâng cao hiệu quả hoạt động của LHQ việc cải tổ Liên hợp quốc một cách toàn diện và có hệ thống, phù hợp với tình hình mới thế giới là một yêu cầu cấp thiết khách quan.","questionImage":null,"mappedType":"essay","answer":""}];
            const quizOptions = {"timeLimit":70,"retriesAllowed":10,"showAnswers":true,"showExplanation":true,"aiAssessment":true,"scoring":{"mc":5,"tf":2,"sa":2,"essay":1,"tfMethod":"progressive"}};
            const googleScriptUrl = "https://script.google.com/macros/s/AKfycbxRtfKtmnGdXLj0zc-1wfEubP9FRNGpylhif9NopKKEpz-xwcm4JTLqsMdU2GgC60n1Eg/exec";
            const correctExamCode = "DGCXWO";
            const teacherApiKey = "from google import genai  client = genai.Client()  response = client.models.generate_content(     model="gemini-2.5-flash",     contents="Explain how AI works in a few words", )  print(response.text)";
            let studentInfo = {};
            let isSubmitted = false;
            let timerInterval;
            let retriesLeft = quizOptions.retriesAllowed;
            let studentApiKey = "";
            let ai = null;

            let proctoringLog = {
                thoatManHinh: 0,
                saoChep: 0,
                dan: 0,
                suKien: []
            };

            const studentQuizContainer = document.getElementById('student-quiz-container');
            const submitBtn = document.getElementById('submit-quiz-btn');
            const resultContainer = document.getElementById('result-container');
            const postSubmitOptions = document.getElementById('post-submit-options');
            const retryBtn = document.getElementById('retry-quiz-btn');
            const loginModal = document.getElementById('login-modal');
            const studentInfoForm = document.getElementById('student-info-form');
            const timerDisplay = document.getElementById('timer-display');
            const retriesDisplay = document.getElementById('retries-display');
            function shuffleQuiz() {
                // Shuffle options/statements within each question first
                quizData.forEach(item => {
                    // Shuffle multiple-choice options and their corresponding images
                    if (item.mappedType === 'multiple-choice' && item.options && item.options.length > 0) {
                        const correctAnswerText = item.options[item.correctAnswerIndex];
                        let optionsWithImages = item.options.map((opt, index) => ({
                            text: opt,
                            image: (item.optionsImage && item.optionsImage[index]) ? item.optionsImage[index] : null
                        }));
                        // Fisher-Yates shuffle
                        for (let i = optionsWithImages.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [optionsWithImages[i], optionsWithImages[j]] = [optionsWithImages[j], optionsWithImages[i]];
                        }
                        // Update the item with shuffled data
                        item.options = optionsWithImages.map(opt => opt.text);
                        item.optionsImage = optionsWithImages.map(opt => opt.image);
                        item.correctAnswerIndex = item.options.indexOf(correctAnswerText);
                    }
                    // Shuffle true-false statements
                    if (item.mappedType === 'true-false' && item.statements && item.statements.length > 0) {
                         for (let i = item.statements.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [item.statements[i], item.statements[j]] = [item.statements[j], item.statements[i]];
                        }
                    }
                });
                // Then, group questions by type and shuffle within each group
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                let shuffledQuizData = [];
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    if (grouped[partType]) {
                        const partQuestions = grouped[partType];
                        for (let i = partQuestions.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [partQuestions[i], partQuestions[j]] = [partQuestions[j], partQuestions[i]];
                        }
                        shuffledQuizData = shuffledQuizData.concat(partQuestions);
                    }
                });
               
                quizData = shuffledQuizData;
            }
            // --- Timer Function ---
            function startTimer(duration, display) {
                let timer = duration, minutes, seconds;
                clearInterval(timerInterval); // Clear any existing timer
                if(duration <= 0) {
                     display.textContent = "∞";
                     return;
                }
                timerInterval = setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    display.textContent = minutes + ":" + seconds;
                    if (--timer < 0) {
                        clearInterval(timerInterval);
                        alert("Hết giờ làm bài!");
                        handleSubmit();
                    }
                }, 1000);
            }
            
            async function showExplanation(index, button) {
                const item = quizData[index];
                const questionCard = document.getElementById(`student-q-${index}`);
                const feedbackDiv = document.getElementById(`q-${index}-feedback`);
                if (!questionCard || !feedbackDiv) return;

                const existingExplanation = feedbackDiv.querySelector('.ai-explanation');
                if (existingExplanation) {
                    existingExplanation.remove();
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Xem giải thích
                    `;
                    return;
                }

                button.disabled = true;
                button.innerHTML = '<div class="loader mr-2"></div> Đang tải...';

                if (item.explanation) {
                    displayExplanation(item.explanation, feedbackDiv, button);
                    return;
                }

                if (!ai) {
                    alert("Tính năng giải thích yêu cầu API Key, nhưng chưa được cấu hình bởi giáo viên.");
                    button.disabled = false;
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Xem giải thích
                    `;
                    return;
                }

                const questionText = item.question || item.main_question;
                let prompt = `Bạn là một trợ lý giáo viên AI, am hiểu sâu sắc Chương trình GDPT 2018. Hãy cung cấp một lời giải chi tiết, từng bước một cho câu hỏi sau đây. Lời giải phải chính xác, dễ hiểu và phù hợp với phương pháp giảng dạy của chương trình học, TUYỆT ĐỐI KHÔNG sử dụng kiến thức của lớp cao hơn để giải thích.\n\n--- CÂU HỎI ---\n${questionText}\n\n`;
                if (item.mappedType === 'multiple-choice') {
                    prompt += `--- CÁC LỰA CHỌN ---\n${item.options.map((opt, i) => `${String.fromCharCode(65 + i)}. ${opt}`).join('\n')}\n\n`;
                    prompt += `--- ĐÁP ÁN ĐÚNG ---\n${String.fromCharCode(65 + item.correctAnswerIndex)}. ${item.options[item.correctAnswerIndex]}`;
                } else if (item.mappedType === 'true-false') {
                    prompt += `--- CÁC MỆNH ĐỀ & ĐÁP ÁN ---\n${item.statements.map(s => ` - ${s.statement} -> ${s.is_correct ? 'Đúng' : 'Sai'}`).join('\n')}`;
                } else {
                    prompt += `--- ĐÁP ÁN / GỢI Ý ---\n${item.answer}`;
                }
                prompt += `\n\n--- YÊU CẦU ---\nGiải thích rõ ràng tại sao đáp án lại đúng, từng bước một. Định dạng tất cả các công thức toán học bằng LaTeX.`;

                try {
                    const response = await ai.models.generateContent({ model: "gemini-2.5-flash", contents: prompt });
                    const explanationText = response.text.replace(/\n/g, '<br>');
                    item.explanation = explanationText; // Cache it
                    displayExplanation(explanationText, feedbackDiv, button);
                } catch (error) {
                    console.error("Lỗi khi tạo giải thích:", error);
                    feedbackDiv.insertAdjacentHTML('beforeend', '<div class="ai-explanation text-red-600">Lỗi: Không thể tạo giải thích.</div>');
                    button.disabled = false;
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Thử lại
                    `;
                }
            }

            function displayExplanation(explanationText, container, button) {
                container.insertAdjacentHTML('beforeend', `<div class="ai-explanation prose prose-sm">${explanationText}</div>`);
                if (window.MathJax) MathJax.typesetPromise([container]);
                button.disabled = false;
                button.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                    Ẩn giải thích
                `;
            }
           
            function renderStudentQuiz() {
                studentQuizContainer.innerHTML = '';
               
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                const groupInfo = {
                    'multiple-choice': { title: 'PHẦN I. TRẮC NGHIỆM KHÁCH QUAN', subtitle: 'Chọn đáp án đúng nhất trong các lựa chọn sau.' },
                    'true-false': { title: 'PHẦN II. CÂU HỎI ĐÚNG - SAI', subtitle: 'Xác định tính đúng hoặc sai cho mỗi mệnh đề dưới đây.' },
                    'short-answer': { title: 'PHẦN III. CÂU HỎI TRẢ LỜI NGẮN', subtitle: 'Điền đáp án ngắn gọn vào phần trả lời.' },
                    'essay': { title: 'PHẦN IV. CÂU HỎI TỰ LUẬN', subtitle: 'Trình bày chi tiết bài giải của bạn.' }
                };
               
                let questionCounter = 0;
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    const questions = grouped[partType];
                    if (!questions || questions.length === 0) return;
                   
                    let groupHTML = `<div class="group-container space-y-8 mb-12">`;
                    const info = groupInfo[partType];
                    groupHTML += `
                        <div class="group-header pb-3 border-b-2 border-slate-300 mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">${info.title}</h2>
                            ${info.subtitle ? `<p class="text-md text-slate-600 italic mt-1">${info.subtitle}</p>` : ''}
                        </div>
                    `;
                    questions.forEach((item, localIndex) => {
                        const globalIndex = quizData.indexOf(item);
                        questionCounter++;
                        groupHTML += `<div class="question-card" id="student-q-${globalIndex}">`;
                        let questionText = (item.question || item.main_question || '').replace(/\n/g, '<br>');
                       
                        groupHTML += `<div class="flex items-start">
                                     <div class="flex-grow">
                                         <div class="flex items-center mb-2">
                                             <span class="font-bold text-lg mr-3 text-indigo-600">Câu ${questionCounter}:</span>
                                             <div id="q-${globalIndex}-feedback-icon"></div>
                                         </div>
                                         <div class="question-content mt-2 text-lg text-slate-700">${questionText}</div>
                                         ${item.questionImage ? `<img src="${item.questionImage}" class="mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm">` : ''}
                                     </div>
                                 </div>`;
                       
                        groupHTML += `<div class="mt-6">`;
                        switch(item.mappedType) {
                            case 'multiple-choice':
                                groupHTML += `<div class="options-grid grid grid-cols-1 md:grid-cols-2 gap-4">`;
                                item.options.forEach((opt, i) => {
                                    groupHTML += `<label for="q${globalIndex}-opt${i}" id="q${globalIndex}-opt-label${i}" class="option-label flex items-start p-4 border-2 rounded-xl cursor-pointer hover:bg-indigo-50 hover:border-indigo-400">
                                                     <input type="radio" name="q${globalIndex}" id="q${globalIndex}-opt${i}" value="${i}" class="flex-shrink-0 mt-1 h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300">
                                                     <div class="ml-3 flex-grow">
                                                         <span class="font-semibold text-slate-800">${String.fromCharCode(65 + i)}.</span>
                                                         <span class="option-content text-slate-700">${opt || ''}</span>
                                                         ${(item.optionsImage && item.optionsImage[i]) ? `<img src="${item.optionsImage[i]}" class="mt-2 rounded-lg max-w-xs border shadow-sm">` : ''}
                                                     </div>
                                                 </label>`;
                                });
                                groupHTML += `</div>`;
                                break;
                            case 'true-false':
                                 groupHTML += `<div class="space-y-4">`;
                                 item.statements.forEach((s, i) => {
                                     groupHTML += `<div class="statement-item border-t pt-4">
                                                  <p class="mb-3 text-slate-700">${String.fromCharCode(97 + i)}) ${s.statement || ''}</p>
                                                  <div class="flex gap-x-6">
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="true" class="mr-2 h-4 w-4"> Đúng</label>
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="false" class="mr-2 h-4 w-4"> Sai</label>
                                                  </div>
                                              </div>`;
                                 });
                                 groupHTML += `</div>`;
                                 break;
                            case 'short-answer':
                                groupHTML += `<input type="text" name="q${globalIndex}" class="mt-1 block w-full md:w-1/2 border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Nhập đáp án của bạn...">`;
                                break;
                            case 'essay':
                                groupHTML += `<textarea name="q${globalIndex}" class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" rows="5" placeholder="Nhập câu trả lời tự luận của bạn..."></textarea>`;
                                break;
                        }
                        groupHTML += `</div><div id="q-${globalIndex}-feedback" class="mt-4"></div></div>`;
                    });
                    groupHTML += `</div>`;
                    studentQuizContainer.innerHTML += groupHTML;
                });
               
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    MathJax.typesetPromise([studentQuizContainer]);
                }
            }
           
            async function generatePerformanceReview(allAnswersData) {
                const feedbackContainer = document.getElementById('ai-feedback-container');
                if (!feedbackContainer || !ai) return null;
                feedbackContainer.classList.remove('hidden');
                feedbackContainer.innerHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-slate-800 mb-4">📝 Phân Tích & Gợi Ý Từ Trợ Lý AI</h3>
                        <div id="ai-feedback-loader" class="text-center py-6">
                            <svg class="animate-spin mx-auto h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <p class="mt-3 text-slate-600">AI đang phân tích bài làm của bạn...</p>
                        </div>
                        <div id="ai-feedback-summary" class="hidden prose prose-sm max-w-none"></div>
                        <div id="ai-feedback-details" class="hidden mt-4 space-y-2"></div>
                    </div>
                `;
               
                const loader = document.getElementById('ai-feedback-loader');
                const summaryDiv = document.getElementById('ai-feedback-summary');
                const detailsDiv = document.getElementById('ai-feedback-details');
                const incorrectAnswers = allAnswersData.filter(a => !a.isCorrect);
                if (incorrectAnswers.length === 0) {
                    feedbackContainer.innerHTML = `
                        <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                            <h3 class="text-xl font-bold text-green-600">🎉 Chúc mừng!</h3>
                            <p class="mt-2 text-slate-700">Bạn đã trả lời đúng tất cả các câu hỏi. Làm tốt lắm!</p>
                        </div>
                    `;
                    return { overallFeedback: { summary: "Xuất sắc! Học sinh đã đã trả lời đúng tất cả các câu hỏi." } };
                }
                const summaryPrompt = `Bạn là một trợ lý giáo viên, nói tiếng Việt. Dựa vào tóm tắt các câu trả lời sai của học sinh, hãy đưa ra một nhận xét tổng quan ngắn gọn (khoảng 3-4 câu) về năng lực của học sinh, bao gồm điểm mạnh (suy luận từ các câu làm đúng), điểm yếu (dựa trên các câu sai) và một vài gợi ý ôn tập chung. Lời văn phải khích lệ, rõ ràng.
                Tóm tắt lỗi sai:
                ${JSON.stringify(incorrectAnswers.map(a => ({ cau: a.questionNumber, loai: a.type, cauHoi: a.question.substring(0, 50) + '...' })), null, 2)}`;
                try {
                    const summaryResponse = await ai.models.generateContent({
                        model: "gemini-2.5-flash",
                        contents: summaryPrompt
                    });
                    summaryDiv.innerHTML = summaryResponse.text.replace(/\n/g, '<br>');
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                    detailsDiv.classList.remove('hidden'); 
                } catch (e) {
                    console.error("Lỗi khi lấy nhận xét tổng quan:", e);
                    summaryDiv.innerHTML = '<p class="text-red-600">Lỗi khi tạo nhận xét tổng quan.</p>';
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                }
               
                const summaryForSheet = summaryDiv.innerText.substring(0, 200) + "...";
                return { overallFeedback: { summary: summaryForSheet } };
            }
            async function handleSubmit() {
                if (isSubmitted) return;
                isSubmitted = true;
                clearInterval(timerInterval);
                
                document.querySelectorAll('input, textarea').forEach(input => input.disabled = true);
                submitBtn.classList.add('hidden');
                postSubmitOptions.classList.remove('hidden');
                if (retriesLeft > 0) {
                    retryBtn.classList.remove('hidden');
                } else {
                    retryBtn.classList.add('hidden');
                }

                const proctoringDataString = JSON.stringify(proctoringLog);

                let totalStudentScore = 0;
                let totalCorrectAnswers = 0;
                let allAnswersData = [];
                const questionCounts = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    acc[type] = (acc[type] || 0) + 1;
                    return acc;
                }, {});
                
                quizData.forEach((item, index) => {
                    let questionNumber = index + 1;
                    let answerData = { questionNumber, type: item.type };
                    switch (item.mappedType) {
                        case 'multiple-choice':
                            const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                            const isCorrectMC = selectedOption ? parseInt(selectedOption.value) === item.correctAnswerIndex : false;
                            if (isCorrectMC) {
                                totalCorrectAnswers++;
                                if (questionCounts['multiple-choice'] > 0) {
                                   totalStudentScore += quizOptions.scoring.mc / questionCounts['multiple-choice'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.options = item.options;
                            answerData.yourAnswer = selectedOption ? String.fromCharCode(65 + parseInt(selectedOption.value)) : "Không trả lời";
                            answerData.correctAnswer = String.fromCharCode(65 + item.correctAnswerIndex);
                            answerData.isCorrect = isCorrectMC;
                            break;
                        case 'true-false':
                            let correctStatementsCount = 0;
                            let yourAnswerPattern = [];
                            let correctAnswerPattern = [];
                            let details = [];
                            item.statements.forEach((s, i) => {
                                const selectedTF = document.querySelector(`input[name="q${index}-s${i}"]:checked`);
                                const studentChoice = selectedTF ? selectedTF.value === 'true' : null;
                                const isStatementCorrect = studentChoice === s.is_correct;
                               
                                if (isStatementCorrect) correctStatementsCount++;
                               
                                yourAnswerPattern.push(studentChoice === null ? '?' : (studentChoice ? 'Đ' : 'S'));
                                correctAnswerPattern.push(s.is_correct ? 'Đ' : 'S');
                                details.push({ statement: s.statement, yourChoice: studentChoice === null ? 'Không trả lời' : (studentChoice ? 'Đúng' : 'Sai'), correctChoice: s.is_correct ? 'Đúng' : 'Sai', isCorrect: isStatementCorrect });
                            });
                            
                            let scorePerTfQuestion = 0;
                            if (questionCounts['true-false'] > 0) {
                                scorePerTfQuestion = quizOptions.scoring.tf / questionCounts['true-false'];
                            }
                            let questionPoints = 0;
                            if (quizOptions.scoring.tfMethod === 'progressive') {
                                const progressivePoints = { 0: 0, 1: 0.1, 2: 0.25, 3: 0.5, 4: 1.0 };
                                questionPoints = progressivePoints[correctStatementsCount] * scorePerTfQuestion;
                            } else { // even
                                questionPoints = (correctStatementsCount / 4) * scorePerTfQuestion;
                            }
                            totalStudentScore += questionPoints;

                            if(correctStatementsCount === 4) totalCorrectAnswers++;
                            answerData.question = item.main_question;
                            answerData.yourAnswer = yourAnswerPattern.join('-');
                            answerData.correctAnswer = correctAnswerPattern.join('-');
                            answerData.isCorrect = correctStatementsCount === 4;
                            answerData.details = details;
                            break;
                       
                        case 'short-answer':
                            const saInput = document.querySelector(`input[name="q${index}"]`);
                            const studentAnswerRaw = saInput ? (saInput.value ?? '').trim() : "";
                            const correctAnswerRaw = (item.answer ?? '').toString().trim().replace(/\$/g, '');
                            let isCorrectSA = false;
                            const studentAnswerNormalized = studentAnswerRaw.replace(',', '.');
                            const correctAnswerNormalized = correctAnswerRaw.replace(',', '.');
                            if (studentAnswerNormalized.toLowerCase() === correctAnswerNormalized.toLowerCase()) {
                                isCorrectSA = true;
                            }
                             if (isCorrectSA) {
                                totalCorrectAnswers++;
                                if (questionCounts['short-answer'] > 0) {
                                   totalStudentScore += quizOptions.scoring.sa / questionCounts['short-answer'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.yourAnswer = studentAnswerRaw || "Không trả lời";
                            answerData.correctAnswer = correctAnswerRaw;
                            answerData.isCorrect = isCorrectSA;
                            break;
                           
                        case 'essay':
                             const essayInput = document.querySelector(`textarea[name="q${index}"]`);
                             answerData.question = item.question;
                             answerData.yourAnswer = essayInput.value || "Không trả lời";
                             answerData.correctAnswer = item.answer;
                             answerData.isCorrect = null; // Needs manual grading
                             break;
                    }
                    allAnswersData.push(answerData);
                });
                
                const finalScore = totalStudentScore;
                
                let competencyAssessment = "Giáo viên không yêu cầu AI phân tích bài làm.";
                if (quizOptions.aiAssessment) {
                    const feedbackData = await generatePerformanceReview(allAnswersData);
                    if (feedbackData && feedbackData.overallFeedback && feedbackData.overallFeedback.summary) {
                        competencyAssessment = feedbackData.overallFeedback.summary;
                    } else {
                        competencyAssessment = "Có lỗi xảy ra trong quá trình AI phân tích bài làm.";
                    }
                }
                
                if (quizOptions.showAnswers) {
                    const totalQuestions = quizData.length;
                    resultContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-2xl font-bold text-slate-800">KẾT QUẢ BÀI LÀM</h3>
                        <p class="mt-4 text-lg">Số câu đúng hoàn toàn: <span class="font-bold text-green-600">${totalCorrectAnswers}/${totalQuestions}</span></p>
                        <p class="text-2xl mt-2">Điểm (thang 10): <span class="font-bold text-blue-600">${finalScore.toFixed(2)}</span></p>
                        ${questionCounts['essay'] > 0 ? `<p class="text-sm text-gray-600 italic mt-1">Lưu ý: Điểm trên chưa bao gồm ${quizOptions.scoring.essay} điểm của phần Tự luận.</p>` : ''}
                    </div>`;
                    resultContainer.classList.remove('hidden');

                    allAnswersData.forEach((ans, index) => {
                        const questionCard = document.getElementById(`student-q-${index}`);
                        const feedbackIconDiv = document.getElementById(`q-${index}-feedback-icon`);
                        const feedbackDiv = document.getElementById(`q-${index}-feedback`);
                        if (!questionCard || !feedbackIconDiv || !feedbackDiv) return;

                        const iconHTML = ans.isCorrect === true
                            ? '<svg class="feedback-icon text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'
                            : (ans.isCorrect === false ? '<svg class="feedback-icon text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>' : '');
                        feedbackIconDiv.innerHTML = iconHTML;

                        if (ans.type.includes('multiple-choice')) {
                            const studentChoice = ans.yourAnswer === "Không trả lời" ? -1 : ans.yourAnswer.charCodeAt(0) - 65;
                            const correctChoice = ans.correctAnswer.charCodeAt(0) - 65;
                            document.getElementById(`q-${index}-opt-label${correctChoice}`)?.classList.add('correct');
                            if (studentChoice !== -1 && studentChoice !== correctChoice) {
                                document.getElementById(`q-${index}-opt-label${studentChoice}`)?.classList.add('incorrect');
                            }
                        } else if (ans.type === 'true-false') {
                            const statementItems = questionCard.querySelectorAll('.statement-item');
                            ans.details.forEach((detail, i) => { if(statementItems[i]) { statementItems[i].classList.add(detail.isCorrect ? 'correct' : 'incorrect'); }});
                        }

                        if (quizOptions.showExplanation) {
                            feedbackDiv.innerHTML = `<button data-explain-index="${index}" class="explain-btn mt-4 flex items-center px-4 py-2 bg-blue-100 text-blue-800 text-sm font-semibold rounded-lg hover:bg-blue-200 transition-colors">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                Xem giải thích
                            </button>`;
                        }
                    });
                    
                    document.querySelectorAll('.explain-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const button = e.currentTarget;
                            const index = parseInt(button.dataset.explainIndex, 10);
                            showExplanation(index, button);
                        });
                    });

                    if (window.MathJax) await window.MathJax.typesetPromise([studentQuizContainer]);
                } else {
                     resultContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-lg text-center"><h3 class="text-xl font-bold text-green-600">Nộp bài thành công!</h3><p class="mt-2 text-slate-700">Bạn đã hoàn thành bài làm. Kết quả sẽ được giáo viên công bố sau.</p></div>`;
                    resultContainer.classList.remove('hidden');
                }
                
                const formData = new FormData();
                formData.append('name', studentInfo.name);
                formData.append('class', studentInfo.class);
                formData.append('score', `${finalScore.toFixed(2)}/10`);
                formData.append('assessment', competencyAssessment);
                formData.append('timestamp', new Date().toLocaleString('vi-VN'));
                formData.append('examCode', correctExamCode);
                formData.append('monitoringLog', proctoringDataString);
                formData.append('answerDetails', JSON.stringify(allAnswersData));
               
                fetch(googleScriptUrl, { method: 'POST', body: formData})
                    .then(res => console.log("Successfully submitted to Google Sheet"))
                    .catch(err => console.error("Error submitting to Google Sheet:", err));
            }
           
            function startNewAttempt() {
                isSubmitted = false;
                proctoringLog = { thoatManHinh: 0, saoChep: 0, dan: 0, suKien: [] };
                const proctoringWidget = document.getElementById('proctoring-widget');
                if (proctoringWidget) {
                    proctoringWidget.classList.add('hidden');
                    document.getElementById('tab-switch-count').textContent = '0';
                    document.getElementById('copy-count').textContent = '0';
                    document.getElementById('paste-count').textContent = '0';
                }

                renderStudentQuiz();
                resultContainer.classList.add('hidden');
                document.getElementById('ai-feedback-container').classList.add('hidden');
                postSubmitOptions.classList.add('hidden');
                submitBtn.classList.remove('hidden');
                 if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                }
                retriesLeft--;
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                window.scrollTo(0, 0);
            }
            studentInfoForm.addEventListener('submit', (e) => {
                e.preventDefault();
               
                const enteredCode = document.getElementById('exam-code').value.trim().toUpperCase();
                if (enteredCode !== correctExamCode) {
                    alert('Mã đề không chính xác. Vui lòng kiểm tra lại!');
                    return;
                }
               
                studentApiKey = teacherApiKey;
                if (!studentApiKey) {
                    console.warn('Cảnh báo: Giáo viên chưa cấu hình API Key. Các tính năng AI sẽ không hoạt động.');
                }
       
                try {
                    if (studentApiKey) {
                       ai = new GoogleGenAI({ apiKey: studentApiKey });
                    }
                } catch(e) {
                    console.error("Lỗi khởi tạo Gemini API với key của giáo viên.", e);
                    alert("Cảnh báo: API Key của giáo viên không hợp lệ. Vui lòng báo cho giáo viên. Các tính năng AI sẽ không hoạt động.");
                    ai = null;
                }
                shuffleQuiz();
               
                studentInfo.name = document.getElementById('student-name').value;
                studentInfo.class = document.getElementById('student-class').value;
                loginModal.classList.add('hidden');
                studentQuizContainer.classList.remove('hidden');
                submitBtn.classList.remove('hidden');
               
                if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                } else {
                    timerDisplay.textContent = "Không giới hạn";
                }
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                renderStudentQuiz();

                const proctoringWidget = document.getElementById('proctoring-widget');
                const tabSwitchCountEl = document.getElementById('tab-switch-count');
                const copyCountEl = document.getElementById('copy-count');
                const pasteCountEl = document.getElementById('paste-count');

                function updateProctoringUI() {
                    if (proctoringLog.thoatManHinh > 0 || proctoringLog.saoChep > 0 || proctoringLog.dan > 0) {
                        proctoringWidget.classList.remove('hidden');
                    }
                    tabSwitchCountEl.textContent = proctoringLog.thoatManHinh;
                    copyCountEl.textContent = proctoringLog.saoChep;
                    pasteCountEl.textContent = proctoringLog.dan;
                }

                // Disable Right Click
                document.addEventListener('contextmenu', e => e.preventDefault());

                // Track Tab Switching
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden && !isSubmitted) {
                        proctoringLog.thoatManHinh++;
                        proctoringLog.suKien.push({ loai: 'chuyen_tab', thoiGian: new Date().toISOString() });
                        updateProctoringUI();
                    }
                });

                // Track Copying
                document.addEventListener('copy', () => {
                    if (isSubmitted) return;
                    proctoringLog.saoChep++;
                    proctoringLog.suKien.push({ loai: 'sao_chep', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });

                // Track Pasting
                document.addEventListener('paste', () => {
                    if (isSubmitted) return;
                    proctoringLog.dan++;
                    proctoringLog.suKien.push({ loai: 'dan', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });
            });
            
            submitBtn.addEventListener('click', handleSubmit);
            retryBtn.addEventListener('click', () => {
                shuffleQuiz();
                startNewAttempt();
            });
        </script>
    </body>
    </html>
    