
    <!DOCTYPE html>
    <html lang="vi">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ĐỀ CƯƠNG ÔN TẬP THI GIỮA KỲ 1 - TRẮC NGHIỆM</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
        <script>
            window.MathJax = {
                tex: {
                    packages: {'[+]': ['ams']},
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                },
                chtml: {
                    fontCache: 'global',
                    linebreaks: {
                        automatic: true
                    }
                }
            };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
        </script>
        <style>
            body { font-family: 'Be Vietnam Pro', sans-serif; background-color: #f0f4f8; }
            .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3b82f6; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            .question-card {
                background-color: white;
                border-radius: 1rem;
                padding: 1.5rem 2rem;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
                border-left: 5px solid transparent;
                transition: all 0.3s ease;
            }
            .ai-explanation {
                background-color: #f0f9ff;
                color: #0c4a6e;
                padding: 1rem;
                border-radius: 0.75rem;
                font-size: 0.9rem;
                margin-top: 1rem;
                border-left: 4px solid #38bdf8;
            }
            .feedback-icon { width: 1.5rem; height: 1.5rem; }
            .option-label {
                transition: all 0.2s ease-in-out;
                border: 2px solid #e5e7eb;
            }
            .option-label:hover {
                border-color: #6366f1;
                background-color: #eef2ff;
            }
            .option-label.correct {
                border-color: #10b981 !important;
                background-color: #ecfdf5 !important;
                color: #065f46;
            }
            .option-label.incorrect {
                border-color: #ef4444 !important;
                background-color: #fef2f2 !important;
                color: #991b1b;
            }
            .statement-item.correct { background-color: #ecfdf5; border-color: #10b981; }
            .statement-item.incorrect { background-color: #fef2f2; border-color: #ef4444; }
            .prose { max-width: 100%; }
            .prose h1, .prose h2, .prose h3 { font-weight: 600; }
            .prose p { margin-top: 0.5em; margin-bottom: 0.5em; }
            .prose ul, .prose ol { margin-top: 1em; margin-bottom: 1em; padding-left: 1.5em; }
            .prose li > p { margin-top: 0; margin-bottom: 0; }
            .prose code { background-color: #e5e7eb; padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }
            .prose pre { background-color: #e5e7eb; padding: 1em; border-radius: 0.5em; overflow-x: auto; }
            .prose pre code { background-color: transparent; padding: 0; }
            details[open] > summary .details-arrow {
                transform: rotate(180deg);
            }
        </style>
    </head>
    <body class="bg-slate-100 text-slate-800">
        <div id="login-modal" class="fixed inset-0 bg-gray-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
            <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all" style="animation: fadeIn 0.3s ease-out;">
                <h2 class="text-2xl font-bold mb-2 text-center text-slate-800">Thông Tin Học Sinh</h2>
                <p class="text-center text-slate-500 mb-6">Vui lòng nhập để bắt đầu làm bài.</p>
                <form id="student-info-form">
                    <div class="mb-4">
                        <label for="student-name" class="block text-sm font-medium text-slate-700 mb-1">Họ và tên</label>
                        <input type="text" id="student-name" required class="mt-1 block w-full block border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="student-class" class="block text-sm font-medium text-slate-700 mb-1">Lớp</label>
                        <input type="text" id="student-class" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="exam-code" class="block text-sm font-medium text-slate-700 mb-1">Mã đề</label>
                        <input type="text" id="exam-code" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500" placeholder="Nhập mã đề giáo viên cung cấp">
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-slate-700 mb-1">Giáo viên:</label>
                        <p class="mt-1 text-slate-800 bg-slate-100 p-2.5 rounded-lg">LÊ VĂN ĐÔNG</p>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105">Bắt đầu làm bài</button>
                </form>
            </div>
        </div>
        <div class="container mx-auto p-4 md:p-8 max-w-4xl">
            <header class="mb-10 p-8 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg">
                <div class="flex justify-between items-center flex-wrap gap-4">
                    <div>
                        <h1 class="text-4xl font-bold">ĐỀ CƯƠNG ÔN TẬP THI GIỮA KỲ 1 - TRẮC NGHIỆM</h1>
                        <p class="text-lg text-blue-100 mt-2">Hãy hoàn thành các câu hỏi dưới đây một cách tốt nhất!</p>
                        <p class="text-sm text-blue-200 mt-4">Tác giả: LÊ VĂN ĐÔNG</p>
                    </div>
                    <div id="timer-container" class="text-right">
                         <div id="timer-display" class="text-3xl font-bold tracking-wider bg-white/20 px-4 py-2 rounded-lg">--:--</div>
                         <div id="retries-display" class="text-sm mt-1 text-blue-200"></div>
                    </div>
                </div>
            </header>
            <main id="student-quiz-container" class="space-y-8 hidden">
                <!-- Questions will be rendered here by JS -->
            </main>
            <footer class="mt-10 text-center">
                <button id="submit-quiz-btn" class="bg-indigo-600 text-white py-3 px-12 rounded-full font-bold text-lg hover:bg-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl hidden transform hover:scale-105">Nộp Bài</button>
                <div id="result-container" class="mt-6 hidden"></div>
                <div id="ai-feedback-container" class="mt-8 text-left hidden"></div>
                <div id="post-submit-options" class="hidden mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
                    <button id="retry-quiz-btn" class="w-full sm:w-auto bg-slate-600 text-white py-2.5 px-6 rounded-lg font-semibold hover:bg-slate-700 transition-transform transform hover:scale-105">Làm Lại Đề Này</button>
                </div>
            </footer>
        </div>

        <div id="proctoring-widget" class="fixed bottom-4 right-4 bg-yellow-100 text-yellow-800 p-3 rounded-lg shadow-lg text-sm z-50 hidden border border-yellow-300" style="max-width: 200px;">
            <h4 class="font-bold mb-2 border-b border-yellow-300 pb-1 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>
                Giám sát
            </h4>
            <p>Thoát màn hình: <span id="tab-switch-count" class="font-bold">0</span></p>
            <p>Sao chép: <span id="copy-count" class="font-bold">0</span></p>
            <p>Dán: <span id="paste-count" class="font-bold">0</span></p>
        </div>

        <script type="module">
            import { GoogleGenAI, Type } from "https://esm.sh/@google/genai@^1.13.0";
            let quizData = [{"type":"multiple-choice","question":"<strong></strong> MYCIN là hệ chuyên gia trong lĩnh vực nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giáo dục.","Y học.","Hoá học.","Giao thông."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Trợ lí ảo của Samsung là:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Siri.","Cortana.","Alexa.","Bixby."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Robot hình người đầu tiên trên thế giới được tích hợp một loạt ứng dụng AI là:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Apollo.","Valkyrie.","Asimo.","Sophia."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Robot hình người đầu tiên trên thế giới được tích hợp một loạt ứng dụng Al do hãng nào sản xuất?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tesla.","Honda.","NASA.","Toshiba."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Hội thảo nào được coi là điểm mốc ghi nhận sự ra đời của thuật ngữ AI, đánh dấu sự khởi đầu của lĩnh vực AI, thúc đẩy sự phát triển của lĩnh vực này trong các năm tiếp theo?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hội thảo Hampshire.","Hội thảo Bletchley.","Hội thảo Dartmouth.","Hội thảo Jenesys."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Hệ thống nào dưới đây không được coi là hệ thống có ứng dụng AI?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Google Translate.","ChatGPT.","Dây chuyền lắp ráp tự động.","Dự báo thời tiết."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Theo em, hiện tại AI không có khả năng nào sau đây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Dịch thuật.","Phân biệt màu sắc.","Làm thơ.","Phân biệt mùi vị."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Khả năng nào của AI cho phép máy tính điều chỉnh hành vi dựa trên dữ liệu mới?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Khả năng học.","Khả năng giải quyết vấn đề.","Khả năng hiểu ngôn ngữ.","Khả năng nhận thức."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Có thể chia AI thành mấy loại chính theo chức năng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["2.","3.","4.","5."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Trợ lí ảo có chức năng nào sau đây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tìm kiếm thông tin bằng giọng nói.","Nhận dạng khuôn mặt.","Nhận dạng chữ viết tay.","Kiểm tra lỗi chính tả."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Khả năng nhận thức của AI là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Điều chỉnh hành vi dựa trên dữ liệu mới.","Áp dụng logic để đưa ra quyết định.","Cảm nhận và hiểu biết môi trường qua cảm biến.","Xử lí ngôn ngữ tự nhiên."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Phương án nào là phương án ĐÚNG khi nói về sự khác nhau giữa Trí tuệ nhân tạo hẹp (AI hẹp) và Trí tuệ nhân tạo tổng quát (AI mạnh)?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["AI hẹp chỉ thực hiện một nhiệm vụ cụ thể.","AI mạnh thực hiện được một công việc giống như con người.","AI hẹp có khả năng tự học.","AI hẹp không thể ra quyết định."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Phương án nào là phương án trả lời ĐÚNG khi nói về sự khác nhau giữa AI và tự động hoá?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["AI không thể đạt hiệu suất cao.","AI không thể thực hiện các thao tác lặp đi lặp lại một cách cơ học.","AI thể hiện các đặc trưng trí tuệ như con người.","AI có thể được sử dụng trong các dây chuyền lắp ráp."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Phương án nào sau đây là ứng dụng của AI trong lĩnh vực y học?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Dịch thuật.","Bảo mật thông tin.","Nhận dạng biển số xe.","Xác định các bất thường trên hình ảnh CT/MRI sọ não."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Hệ thống phân tích tài chính thuộc loại trí tuệ nhân tạo nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Siêu trí tuệ nhân tạo.","Trí tuệ nhân tạo tổng quát.","Trí tuệ nhân tạo hẹp.","Trí tuệ nhân tạo mạnh."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Siri không có tính năng nào sau đây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đặt báo thức.","Thanh toán hoá đơn.","Gọi điện thoại.","Tìm kiếm."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> IoT là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Công nghệ thông tin.","Học sâu.","Internet vạn vật.","Thị giác máy tính."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Một thành tựu của xử lí ngôn ngữ tự nhiên và thị giác máy tính là:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["hệ thống tưới tiêu tự động.","hệ thống phân tích dữ liệu.","hệ thống lắp ráp tự động.","hệ thống nhận dạng hình ảnh và video."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> ChatGPT được phát triển bởi","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Apple.","OpenAI.","Microsoft.","Meta."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> AI đã và đang đóng vai trò gì trong nền kinh tế số?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Làm giảm hiệu suất công việc.","Tăng hiệu quả và năng suất.","Không ảnh hưởng đến trải nghiệm khách hàng.","Gây ra nhiều rủi ro hơn lợi ích."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Một trong những cảnh báo về AI trong tương lai là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tăng cường bảo mật thông tin.","Giảm sự phụ thuộc vào dữ liệu.","Gây ra các vấn đề đạo đức do thiên vị trong dữ liệu.","Cải thiện sự minh bạch trong quản lý thông tin."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> AI trong y tế có thể làm gì với các hình ảnh y khoa như X-quang và CT scan?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Xóa bỏ những hình ảnh không cần thiết.","Tạo ra các hình ảnh mới từ dữ liệu.","Phân tích để phát hiện bất thường trong cơ thể.","Thay đổi nội dung của hình ảnh."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Sự phát triển của AI mang lại lợi ích như thế nào cho lĩnh vực giáo dục?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["AI hỗ trợ tự động hoá cập nhật chứng từ, hoá đơn vào cơ sở dữ liệu của ngân hàng.","AI được sử dụng để phát triển các phương tiện tự lái, quản lí giao thông thông minh và định tuyến phương tiện vận tải.","Các trợ lí ảo học tập dựa trên AI có thể hỗ trợ học sinh và giáo viên bằng cách trả lời câu hỏi, cung cấp hướng dẫn và tài liệu học tập.","AI có thể giúp người nông dân tối ưu hoá quy trình chăm sóc vật nuôi và cây trồng."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> AI có ảnh hưởng như thế nào tới lĩnh vực khoa học xã hội và nhân văn?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Với sự phát triển của AI, đặc biệt là Học máy, nhiều hệ chuyên gia đã có khả năng tự học từ dữ liệu để tự hình thành các luật tri thức dựa trên dữ liệu.","AI được sử dụng để mô phỏng và mô hình hoá nhiều hiện tượng xã hội vân nhân học.","AI được sử dụng để cải thiện chất lượng hình ảnh y tế.","AI giúp tự động hoá nhiều quá trình như: chế tạo, lắp ráp, kiểm tra chất lượng, quản lí chuỗi cung ứng."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Sự kết hợp IoT và AI (AIoT) giúp ích cho các nhà khoa học như thế nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hỗ trợ quyết định đầu tư, phát hiện và ngăn chặn gian lận, nâng cao trải nghiệm khách hàng trong lĩnh vực tài chính, ngân hàng.","Cải thiện hiệu suất, hiệu quả của các lĩnh vực sản xuất.","Giúp giám sát môi trường tự nhiên và theo dõi tình hình biến đổi khí hậu.","Phát triển các nền tảng học trực tuyến thông minh."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Phát biểu nào sau đây đúng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Các thành tựu hiện tại của AI đều là Trí tuệ nhân tạo tổng quát.","Phiên bản GPT-2 được huấn luyện trên hàng vạn văn bản thuộc nhiều lĩnh vực khác nhau trên Internet, bao gồm sách, bài báo, trang web và nhiều nguồn khác.","Nhiều chuyên gia coi ChatGPT là bước đột phá trong lĩnh vực AI của năm 2022.","ChatGPT có thể làm thơ, soạn nhạc, viết thư, thiết kế nhưng không thể sửa lỗi trong lập trình."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Giải pháp nào cần thiết để giám sát và đảm bảo an toàn trong phát triển AI?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tăng cường sự minh bạch.","Giảm thiểu chi phí phát triển.","Hạn chế nghiên cứu AI.","Tăng cường sự phát triển của công nghệ."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Một trong những cảnh báo về quyền riêng tư liên quan đến AI là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["AI không liên quan đến quyền riêng tư.","AI có thể bảo vệ dữ liệu cá nhân một cách tuyệt đối.","AI có thể sử dụng thông tin cá nhân vào mục đích xấu.","AI không thể truy cập vào dữ liệu cá nhân."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Phương án nào KHÔNG PHẢI cách tiếp cận để cải thiện ChatGPT?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tăng cường dữ liệu huấn luyện.","Tối ưu hóa hiệu suất tính toán.","Cải tiến kiến trúc mô hình.","Xử lý văn bản với ngữ cảnh dài."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Phương án nào KHÔNG PHẢI là khả năng của ChatGPT?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Trả lời câu hỏi về nhiều chủ đề, nhiều lĩnh vực khác nhau.","Suy luận hoặc giải quyết các vấn đề tư duy phản biện.","Sáng tạo nội dung, thảo luận về ý tưởng.","Hỗ trợ học tập như luyện tập ngôn ngữ, lập trình."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> ChatGPT đã được sử dụng rộng rãi trong nhiều lĩnh vực như:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giáo dục, sáng tạo nội dung, chăm sóc sức khỏe.","Giao thông vận tải, kinh tế tài chính, giáo dục.","Kinh tế tài chính, dịch vụ khách hàng, tư vấn pháp luật.","Sáng tạo nội dung, giải trí, sản xuất công nghiệp."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Điều nào sau đây là không đúng về khả năng xử lý ngôn ngữ của ChatGPT?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["có thể tạo ra văn bản dựa trên ngữ cảnh của người dùng cung cấp.","có khả năng tự học hỏi từ các tương tác thời gian thực mà không cần đào tạo thêm.","có thể phân tích và hiểu các câu hỏi ngôn ngữ phức tạp.","sử dụng dữ liệu văn bản lớn để học và tạo ra các câu trả lời hợp lý."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> ChatGPT dựa trên nguyên lý nào để tạo ra nội dung có ý nghĩa?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tính xác suất xuất hiện của các từ và cụm từ dựa trên ngữ cảnh.","Sử dụng các từ điển định nghĩa sẵn để chọn từ phù hợp.","Chọn ngẫu nhiên từ vựng mà không phụ thuộc vào ngữ cảnh.","Tạo ra nội dung cố định không thay đổi trong mỗi lần truy vấn."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Điểm khác nhau của switch và hub là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hình dạng.","Số cổng.","Cách thức hoạt động.","Màu sắc."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Router là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Bộ chuyển mạch.","Bộ thu phát không dây.","Bộ định tuyến.","Bộ chia tín hiệu."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Wi-Fi sử dụng loại sóng nào để truyền dữ liệu?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Sóng điện từ.","Sóng vô tuyến điện.","Sóng ánh sáng.","Sóng mang."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Trên mỗi router, cổng để kết nối với các router khác gọi là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["WAP.","WAN.","LAN.","AP."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Thiết bị nào có khả năng chuyển tiếp dữ liệu chỉ đến thiết bị đích mà không phải gửi đến tất cả các thiết bị khác trong mạng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch","Router","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Thiết bị nào có chức năng dẫn đường cho dữ liệu khi kết nối trên mạng Internet?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch.","Router.","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Thiết bị nào chuyển đổi tín hiệu từ tín hiệu số sang tín hiệu tương tự và ngược lại, thường dùng khi kết nối LAN với Internet?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch.","Router.","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Bộ thu phát Wi-Fi còn được gọi là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch.","Access Point.","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Thiết bị nào sử dụng địa chỉ MAC để định tuyến dữ liệu trong mạng LAN?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub","Switch","Router","Modem"],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Để mở rộng phạm vi của một mạng LAN không dây, thiết bị nào thường được sử dụng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch.","Router.","Access Point."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Thiết bị nào xác định cổng kết nối giữa thiết bị gửi và thiết bị nhận, sau đó thiết lập tạm thời kênh truyền giữa hai cổng kết nối để truyền dữ liệu và huỷ kết nối sau khi hoàn thành việc truyền?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Switch.","Router.","Hub.","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Ưu điểm chính của Switch so với Hub là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Switch chỉ cho phép kết nối giữa hai thiết bị cùng một lúc.","Switch phân phối dữ liệu đến các thiết bị cụ thể thay vì truyền đến tất cả các thiết bị.","Switch chỉ hoạt động hiệu quả trong mạng không dây.","Switch không thể mở rộng mạng lớn hơn."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Wireless Access Point (WAP) có chức năng chính nào sau đây trong mạng không dây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["WAP tự động định tuyến dữ liệu từ mạng nội bộ ra ngoài internet.","WAP kết nối các thiết bị mạng không dây với nhau và với mạng có dây.","WAP chỉ cung cấp băng thông cho một thiết bị không dây tại một thời điểm.","WAP hoạt động như một modem để cung cấp internet cho các thiết bị không dây."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Router có chức năng chính nào sau đây trong mạng máy tính?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Router kết nối và chuyển dữ liệu giữa các thiết bị trong cùng một mạng nội bộ.","Router chỉ truyền dữ liệu trong một mạng nội bộ và không có khả năng kết nối internet.","Router định tuyến dữ liệu giữa các mạng khác nhau, bao gồm cả internet.","Router chỉ hoạt động trong mạng không dây và không kết nối được với mạng có dây."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Điểm giống nhau giữa Switch và Router là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đều có khả năng chuyển tiếp dữ liệu giữa các thiết bị trong cùng một mạng LAN.","Đều có thể kết nối với mạng không dây.","Đều có khả năng xác định địa chỉ IP cho các thiết bị trong mạng.","Đều có khả năng quản lý lưu lượng mạng và tối ưu hóa băng thông."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Trong số các thiết bị mạng sau, Modem có điểm giống nhau nào với Router?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đều có khả năng kết nối với internet và chia sẻ kết nối đó với các thiết bị khác.","Đều có khả năng phân phối địa chỉ IP cho các thiết bị trong mạng.","Đều hoạt động trên lớp vật lý của mô hình OSI.","Đều chỉ làm việc trong mạng nội bộ."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Khi lựa chọn Wireless Access Point (WAP) cho một quán cà phê, điều nào sau đây là ưu điểm của nó?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["WAP giúp mở rộng mạng không dây cho nhiều thiết bị di động cùng một lúc.","WAP chỉ có thể kết nối với một thiết bị duy nhất trong một thời gian.","WAP không cần thiết phải kết nối với mạng có dây để hoạt động.","WAP giúp tăng tốc độ internet cho các thiết bị đang sử dụng mạng có dây."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Trong một văn phòng nhỏ với khoảng 10 máy tính có dây và một số thiết bị di động, thiết bị nào là lựa chọn tốt nhất để kết nối các máy tính và cung cấp truy cập Internet?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Switch.","Wireless Access Point.","Modem"],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Trong trường hợp bạn muốn kết nối mạng cho cả máy tính để bàn và thiết bị di động tại nhà, thiết bị nào nên được sử dụng để cung cấp cả kết nối có dây và không dây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Hub.","Router.","Switch.","Modem."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Khi kết nối máy tính với các thiết bị mạng, cần cắm một đầu giắc của cáp vào cổng nào của máy tính?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["RJ45.","RJ11.","CJ45.","CJ11."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Các quy định liên quan đến gửi thư có tên là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giao thức IMAP.","Giao thức MQTT.","Giao thức SMTP.","Giao thức POP3."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Hiện nay có những loại địa chỉ IP nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["IPv4 và IPv6.","IPv2 và IPv4.","IPv4 và IPv5.","IPv1 và IPv3."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Việc trao đổi dữ liệu giữa các máy tính trong mạng cục bộ tuân thủ theo giao thức nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giao thức HTTPS.","Giao thức TCP/IP.","Giao thức DNS.","Giao thức Ethernet."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Việc truyền dữ liệu trong mạng cục bộ sẽ căn cứ vào địa chỉ nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["IP.","MAC.","LAN.","Server."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Giao thức Internet (IP) có vai trò gì trong mạng máy tính?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Chia dữ liệu thành gói tin.","Quản lý và định tuyến gói tin trên mạng.","Gửi và nhận thư điện tử.","Truyền tải dữ liệu của các trang."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Giao thức TCP đảm bảo điều gì trong truyền dữ liệu?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đảm bảo độ tin cậy và đúng thứ tự.","Chia dữ liệu thành các tệp.","Chuyển đổi địa chỉ IP thành tên miền.","Truyền tải dữ liệu không yêu cầu kết nối."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Giao thức mạng được hiểu là điều nào sau đây?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Quy tắc xác định lượng băng thông mạng cần tiêu thụ.","Quy tắc điều khiển việc kết nối giữa các thiết bị mạng.","Quy tắc phân phối các gói tin trên đường truyền mạng.","Quy tắc kiểm tra lượng dữ liệu bị hao hụt sau khi gửi."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> SMTP là giao thức?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["nhận mail.","gửi email.","truy cập từ xa.","truyền file."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Giao thức nhận mail là:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["FTP.","IMAP.","SMTP.","HTTP."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Mã kiểm tra trong giao thức Ethernet có ý nghĩa gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Kiểm tra dữ liệu gửi đi có an toàn hay không.","Kiểm tra đường truyền có đang được sử dụng hay không.","Phát hiện dữ liệu gửi đi có sai địa chỉ nhận hay không.","Phát hiện lỗi, nếu có lỗi sẽ yêu cầu gửi lại dữ liệu."],"optionsImage":[null,null,null,null],"correctAnswerIndex":3},{"type":"multiple-choice","question":"<strong></strong> Hệ thống tên miền DNS có chức năng gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Chuyển đổi tên miền thành địa chỉ IP.","Gửi và nhận thư điện tử.","Chia dữ liệu thành gói tin.","Đảm bảo độ tin cậy truyền dữ liệu."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Điều nào sau đây là vai trò chính của mã kiểm tra trong quá trình truyền dữ liệu Ethernet?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giúp xác định tốc độ truyền dữ liệu.","Giảm kích thước của dữ liệu gửi đi.","Phát hiện lỗi trong dữ liệu khi truyền.","Tăng cường khả năng truyền tải dữ liệu."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Tại sao việc sử dụng địa chỉ MAC là cần thiết trong mạng Ethernet?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Để đảm bảo dữ liệu được mã hóa.","Để nhận diện và phân biệt các thiết bị trong cùng một mạng.","Để tính toán mã kiểm tra.","Để chia nhỏ dữ liệu thành các khung."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Một trong những lý do chính khiến giao thức TCP/IP trở thành tiêu chuẩn cho Internet là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Nó có khả năng thay đổi kích thước, kiểm duyệt gói tin.","Nó hỗ trợ nhiều loại mạng khác nhau và các thiết bị khác nhau.","Nó chỉ được sử dụng cho các ứng dụng hình ảnh, video.","Nó yêu cầu cấu hình phức tạp cho mỗi thiết bị."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Điều nào sau đây KHÔNG PHẢI là một tính năng của giao thức TCP/IP?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đảm bảo an toàn cho dữ liệu bằng mã hóa.","Định tuyến dữ liệu giữa các thiết bị trên mạng.","Phân đoạn dữ liệu thành các gói nhỏ hơn để truyền tải.","Kiểm tra lỗi trong quá trình truyền tải dữ liệu."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Lệnh ping được sử dụng để làm gì trong mạng máy tính?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Kiểm tra tốc độ kết nối Internet của máy tính.","Xác định địa chỉ IP của máy chủ khi truy cập mạng.","Kiểm tra kết nối mạng đến một địa chỉ IP hoặc tên miền.","Hiển thị cấu hình mạng của máy tính."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Khi sử dụng lệnh ipconfig, thông tin nào sau đây không được hiển thị?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Địa chỉ IP của máy tính.","Địa chỉ MAC của card mạng.","Thời gian kết nối đến Internet.","Mặt nạ mạng."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Nếu muốn xem địa chỉ IP của các kết nối mạng trên máy tính của mình, cần sử dụng lệnh nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["ping.","ipconfig.","tracert.","netstat."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Địa chỉ IP 127.45.10.2 dưới dạng nhị phân?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["01111111 00101101 00001010 00000010.","01101111 00101101 00001010 00000010.","01111111 00101101 00001010 00000011.","01111111 00101111 00001010 00000010."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Địa chỉ IP 11000000 10101000 11111111 00000111 dưới dạng thập phân?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["193.168.255.7.","192.168.255.7.","192.168.252.7.","192.168.255.5."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Khi kết nối máy tính với Switch, dấu hiệu nào cho thấy kết nối vật lý đã thành công?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đèn báo hiệu trên cổng sáng.","Máy tính khởi động lại.","Địa chỉ IP thay đổi","Tự động mở trình duyệt web."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Để kết nối điện thoại thông minh vào Access Point, bạn cần thực hiện bước nào sau đây đầu tiên?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Mở trình duyệt web.","Chọn mạng cần kết nối.","Bật Wi-Fi trong cài đặt.","Nhập mật khẩu mạng."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Khi kết nối máy tính với Access Point trên Windows 10, bước đầu tiên cần làm gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Kiểm tra địa chỉ IP.","Nhập mật khẩu mạng Wi-Fi.","Chọn tên mạng Wi-Fi.","Mở trình duyệt web."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Điều kiện nào sau đây là cần thiết để chia sẻ tài nguyên trên mạng cục bộ?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tất cả các thiết bị phải sử dụng cùng một hệ điều hành.","Tất cả các thiết bị phải được kết nối với cùng một mạng cục bộ.","Tất cả các thiết bị phải có địa chỉ IP tĩnh.","Tất cả các thiết bị phải sử dụng cùng một loại phần mềm diệt virus."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Khi kết nối máy tính với Switch, loại cáp nào được sử dụng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Cáp USB.","Cáp HDMI.","Cáp mạng RJ45.","Cáp quang."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Khi chia sẻ dữ liệu từ PC-A, để cấp quyền truy cập cho mọi người, cần chọn quyền nào trong hộp thoại Permissions for D?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Full Control.","Read Only.","Change.","Write."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Tại sao việc cấu hình quyền truy cập là quan trọng khi chia sẻ tài nguyên trên mạng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Để đảm bảo rằng tất cả người dùng đều có quyền truy cập không giới hạn.","Để ngăn chặn việc truy cập trái phép vào tài nguyên chia sẻ.","Để cho phép máy tính tự động cập nhật phần mềm.","Để tăng tốc độ truy cập Internet."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Tại sao cấu hình tường lửa là cần thiết khi chia sẻ tài nguyên trên mạng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Ngăn chặn tất cả các kết nối đến mạng từ bên ngoài xâm nhập vào mạng cục bộ.","Cho phép kết nối từ Internet đến máy tính của toàn bộ một mạng cục bộ.","Cho phép các kết nối đến tài nguyên chia sẻ từ các thiết bị trong mạng cục bộ.","Tăng tốc độ truyền dữ liệu trong mạng khu thực hiện thao tác chuyển file."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Các quy tắc ứng xử trên mạng xã hội phù hợp với quy định của pháp luật được nêu trong văn bản nào?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Quyết định số 874-QĐ-BTTTT ngày 17/6/2021.","Quyết định số 874-QĐ-BTTTT ngày 17/6/2019.","Quyết định số 847-QĐ-BTTTT ngày 17/6/2021.","Quyết định số 784-QĐ-BTTTT ngày 17/6/2020."],"optionsImage":[null,null,null,null],"correctAnswerIndex":0},{"type":"multiple-choice","question":"<strong></strong> Phương án nào sau đây KHÔNG là công cụ giao tiếp trong không gian mạng?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Mạng xã hội.","Hội nghị truyền hình.","Thư giấy.","FaceTime."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Không gian mạng là môi trường:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["truyền thông không dây.","được tạo ra nhờ các mạng máy tính.","giao tiếp thông qua điện thoại.","chỉ dành cho việc chơi game."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Khi giao tiếp trong không gian mạng, tại sao nên đọc kĩ bài viết của người khác trước khi đưa ra ý kiến của mình?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Để tránh lỗi chính tả.","Để hiểu rõ nội dung và tránh hiểu lầm.","Để làm bài viết của mình dài hơn.","Để có thể phản đối mạnh mẽ hơn."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Tại sao giao tiếp trong không gian mạng khó xây dựng mối quan hệ chặt chẽ?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Các công cụ giao tiếp hạn chế.","Thiếu tín hiệu phi ngôn ngữ và cảm xúc.","Chi phí cao cho các dịch vụ.","Dễ bị lộ thông tin cá nhân."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Giao tiếp qua mạng giúp bạn dễ dàng:","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["xác minh thông tin chính xác.","giao tiếp bằng ngôn ngữ cơ thể.","kết nối với mọi người ở nhiều nơi khác nhau.","bảo mật thông tin cá nhân tốt hơn."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Nguyên tắc quan trọng nhất khi giao tiếp trên mạng để giữ gìn sự văn minh là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tấn công cá nhân khi có bất đồng quan điểm.","Sử dụng ngôn ngữ lăng mạ khi tranh luận.","Tôn trọng quan điểm và cảm xúc của người khác.","Chia sẻ mọi thông tin cá nhân của mình và người khác."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Trong trường hợp có xung đột hoặc tranh luận trên mạng, cách giải quyết phù hợp nhất là gì?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Công kích cá nhân để giành phần thắng.","Tránh giải quyết, bỏ qua vấn đề.","Tìm cách đối thoại một cách ôn hòa và tôn trọng.","Tạo nhiều tài khoản để gây rối và làm phiền người khác."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Lợi ích nào của giao tiếp trực tuyến được minh họa trong ví dụ về công ty công nghệ cho phép nhân viên làm việc từ xa?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giúp nhân viên nâng cao kỹ năng giao tiếp.","Tiết kiệm thời gian và chi phí di chuyển.","Tăng cơ hội gặp gỡ đối tác trực tiếp.","Giảm sự phụ thuộc vào công nghệ."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Giao tiếp trong không gian mạng giúp gì cho các doanh nghiệp trong việc mở rộng thị trường?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Giảm chi phí sản xuất cho doanh nghiệp.","Tiết kiệm thời gian quảng bá sản phẩm đến khách hàng.","Tăng cường tương tác trực tiếp với khách hàng ở xa.","Giảm sự cạnh tranh trên thị trường so với cách truyền thống."],"optionsImage":[null,null,null,null],"correctAnswerIndex":2},{"type":"multiple-choice","question":"<strong></strong> Làm thế nào để lắng nghe ý kiến của người khác một cách hiệu quả trong giao tiếp trực tuyến?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Đọc qua các bình luận và đưa ra phản hồi ngay lập tức.","Dành thời gian suy nghĩ về quan điểm của họ trước khi phản hồi.","Tham gia vào cuộc trò chuyện với sự hoài nghi để phản hồi có sự phản biện.","Chỉ phản hồi khi có những ý kiến trái ngược với quan điểm của bạn."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"multiple-choice","question":"<strong></strong> Trong tình huống khó xử, cách nào giúp học sinh xử lý tình huống một cách nhân văn nhất?","main_question":null,"questionImage":null,"mappedType":"multiple-choice","options":["Tập trung vào các căn cứ sự thật để làm rõ sự việc.","Tìm kiếm sự đồng cảm và lắng nghe các quan điểm khác nhau.","Đưa ra kết luận nếu thấy mình đúng, không cần xem xét thêm.","Đặt câu hỏi để kiểm tra kiến thức của người khác."],"optionsImage":[null,null,null,null],"correctAnswerIndex":1},{"type":"true-false","question":null,"main_question":"<strong></strong> Các phát biểu sau đây đúng hay sai khi nói về khái niệm và đặc trưng của AI:","questionImage":null,"mappedType":"true-false","statements":[{"statement":"AI là khả năng của máy tính thực hiện các công việc mang tính trí tuệ của con người.","is_correct":true},{"statement":"Mục đích của AI là xây dựng các phần mềm giúp máy tính có năng lực trí tuệ tương tự con người.","is_correct":true},{"statement":"Khả năng học của AI cho phép máy tính ra quyết định dựa trên dữ liệu mới.","is_correct":true},{"statement":"Khả năng nhận thức của AI là khả năng xử lí ngôn ngữ tự nhiên.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Trợ lí ảo (Personal Virtual Assistant), là phần mềm được phát triển dựa trên trí tuệ nhân tạo, có khả năng tương tác tự nhiên với con người, hỗ trợ người dùng thực hiện các thao tác thông qua việc ra lệnh bằng văn bản hay giọng nói. Với sự xuất hiện khắp nơi, trong điện thoại thông minh cũng như trong các thiết bị điện gia dụng, các bạn học sinh có những nhận định sau về trợ lí ảo:","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Các trợ lí ảo sử dụng trí tuệ nhân tạo được trang bị sẵn trên thiết bị để xử lí ngôn ngữ tự nhiên trong giao tiếp với con người.","is_correct":true},{"statement":"Để sử dụng được trợ lí ảo trên thiết bị di động, chỉ cần kết nối thiết bị vào mạng Internet thông qua Switch.","is_correct":false},{"statement":"Để sử dụng được trợ lí ảo trên máy tính để bàn, chỉ cần kết nối thiết bị vào mạng LAN và để hệ thống tự cấu hình địa chỉ IPv4 cho máy tính.","is_correct":false},{"statement":"Trợ lí ảo là một giải pháp công nghệ thông tin có tính bảo mật cao và cực kì an toàn. Tuy nhiên, người dùng cũng không nên chia sẻ toàn bộ các thông tin cá nhân cho trợ lí ảo vì việc xử lí thông tin của trợ lí ảo được thực hiện tại các máy chủ tập trung, không phải trên thiết bị.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Trong lĩnh vực y tế, AI có thể hỗ trợ những hoạt động nào sau đây?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Chẩn đoán hình ảnh y khoa dựa trên dữ liệu X-quang và MRI.","is_correct":true},{"statement":"Tự động hóa quá trình phẫu thuật mà không cần sự can thiệp của bác sĩ.","is_correct":false},{"statement":"Dự đoán các bệnh dựa trên hồ sơ y tế và dữ liệu di truyền.","is_correct":true},{"statement":"Đưa ra quyết định cuối cùng về điều trị mà không cần ý kiến chuyên môn.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Cảnh báo về ứng dụng AI sau đây đúng hay sai?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"AI có thể dẫn đến áp lực thất nghiệp do tự động hoá nhiều công việc.","is_correct":true},{"statement":"AI luôn bảo vệ quyền riêng tư của người dùng, không bao giờ có khả năng vi phạm.","is_correct":false},{"statement":"AI có thể đe dọa an ninh hệ thống nếu bị tấn công hoặc thay đổi dữ liệu.","is_correct":true},{"statement":"AI không thể kiểm soát hoặc thay đổi ý thức và hành vi của con người.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> AI tác động như thế nào đến lĩnh vực kinh doanh và tài chính?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Tự động hóa các quy trình kế toán và quản lý tài chính.","is_correct":true},{"statement":"Dự đoán xu hướng thị trường dựa trên dữ liệu lớn.","is_correct":true},{"statement":"Đảm bảo tất cả các quyết định tài chính của công ty đều thành công.","is_correct":false},{"statement":"Thay thế hoàn toàn nhà quản lý trong việc ra quyết định đầu tư.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Trong lĩnh vực giao thông vận tải, AI được ứng dụng như thế nào?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Tự động hóa quá trình điều khiển xe tự lái.","is_correct":true},{"statement":"Dự đoán tình trạng tắc đường và tối ưu hóa lộ trình.","is_correct":true},{"statement":"Thay thế hoàn toàn tài xế và không cần sự can thiệp của con người.","is_correct":false},{"statement":"Quyết định hoàn toàn về an toàn giao thông mà không có quy định nào từ con người.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> AI có thể tác động đến lĩnh vực sáng tạo nội dung nghệ thuật theo cách nào?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Hỗ trợ trong việc tạo ra âm nhạc và hình ảnh theo yêu cầu của người dùng.","is_correct":true},{"statement":"Thay thế hoàn toàn các nghệ sĩ và nhà sáng tạo nội dung.","is_correct":false},{"statement":"Sáng tạo nội dung dựa trên phong cách hoặc ý tưởng được lập trình sẵn.","is_correct":true},{"statement":"Đưa ra những ý tưởng mới mà không cần sự tham gia của con người.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Máy tính (kể cả các thiết bị di động) có thể kết nối vào mạng bằng cáp tín hiệu hoặc qua sóng Wi-Fi.","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Wi-Fi là chữ viết tắt của cụm từ Wireless Fidelity.","is_correct":true},{"statement":"Hầu hết các máy tính để bàn đều có sẵn khả năng kết nối Wi-Fi như máy tính xách tay hay điện thoại thông minh.","is_correct":false},{"statement":"Để máy tính trong LAN có thể giao tiếp với Internet thì chỉ cần cắm cáp mạng UTP vào cổng RJ45 của máy tính.","is_correct":false},{"statement":"Muốn kết nối thiết bị di động vào LAN bằng một trạm thu phát Wi-Fi được bảo mật, ta cần gõ đúng mật khẩu của trạm thu phát Wi-Fi đó.","is_correct":true}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Thiết bị mạng đảm bảo kết nối các máy tính, thiết bị thông minh,... tạo thành mạng máy tính.","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Wi-Fi là thiết bị kết nối không dây trong mạng cục bộ.","is_correct":false},{"statement":"Khi máy tính gửi dữ liệu qua một cổng của switch, tín hiệu sẽ được gửi đến tất cả các cổng còn lại.","is_correct":false},{"statement":"Mỗi router có một số cổng có thể kết nối trực tiếp vào LAN gọi là cổng LAN.","is_correct":true},{"statement":"Modem quay số (dial-up) được sử dụng rất phổ biến để kết nối Internet tốc độ cao trước khi cáp quang được dùng rộng rãi.","is_correct":false}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Trong các bước kết nối máy tính hoặc thiết bị di động vào mạng qua một thiết bị thu phát Wi-Fi, điều nào sau đây là ĐÚNG?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Kiểm tra tên mạng (SSID) và mật khẩu Wi-Fi trước khi kết nối.","is_correct":true},{"statement":"Cần phải khởi động lại thiết bị phát Wi-Fi mỗi lần kết nối.","is_correct":false},{"statement":"Nhấp vào biểu tượng Wi-Fi và chọn tên mạng để kết nối.","is_correct":true},{"statement":"Nhập mật khẩu Wi-Fi khi được yêu cầu để hoàn tất kết nối.","is_correct":true}]},{"type":"true-false","question":null,"main_question":"<strong></strong> Hà tham gia một diễn đàn trực tuyến về sách. Cô chia sẻ ý kiến về cuốn sách mới ra mắt trên MXH facebook và nhận được nhiều phản hồi từ các thành viên khác. Trong số đó, có một bạn tên Tuấn đã bình luận cho rằng ý kiến của Hà không có cơ sở, căn cứ. Theo em, Hà nên xử lí tình huống trên thế nào?","questionImage":null,"mappedType":"true-false","statements":[{"statement":"Gửi biểu tượng thể hiện sự không đồng tình.","is_correct":false},{"statement":"Hỏi Tuấn về quan điểm của anh ấy.","is_correct":true},{"statement":"Bỏ qua bình luận của Tuấn.","is_correct":false},{"statement":"Khóa bình luận của Tuấn.","is_correct":false}]}];
            const quizOptions = {"timeLimit":45,"retriesAllowed":1,"showAnswers":true,"showExplanation":true,"aiAssessment":true,"scoring":{"mc":10,"tf":0,"sa":0,"essay":0,"tfMethod":"progressive"}};
            const googleScriptUrl = "https://script.google.com/macros/s/AKfycbzAhhPPCUgw-uU55gOj87Tm16ugz8FuBlRwQ7sECOBiOWBC8n6SI2mt_mQblXdoCdje/exec";
            const correctExamCode = "5068P9";
            const teacherApiKey = "AIzaSyDzpJyodrQYlL0_OmSq4k3snugEgphM6IE";
            let studentInfo = {};
            let isSubmitted = false;
            let timerInterval;
            let retriesLeft = quizOptions.retriesAllowed;
            let studentApiKey = "";
            let ai = null;

            let proctoringLog = {
                thoatManHinh: 0,
                saoChep: 0,
                dan: 0,
                suKien: []
            };

            const studentQuizContainer = document.getElementById('student-quiz-container');
            const submitBtn = document.getElementById('submit-quiz-btn');
            const resultContainer = document.getElementById('result-container');
            const postSubmitOptions = document.getElementById('post-submit-options');
            const retryBtn = document.getElementById('retry-quiz-btn');
            const loginModal = document.getElementById('login-modal');
            const studentInfoForm = document.getElementById('student-info-form');
            const timerDisplay = document.getElementById('timer-display');
            const retriesDisplay = document.getElementById('retries-display');

            function formatAIText(text) {
                if (!text) return '';
                let formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                formattedText = formattedText.replace(/\n/g, '<br>');
                return formattedText;
            }

            function shuffleQuiz() {
                // Shuffle options/statements within each question first
                quizData.forEach(item => {
                    // Shuffle multiple-choice options and their corresponding images
                    if (item.mappedType === 'multiple-choice' && item.options && item.options.length > 0) {
                        const correctAnswerText = item.options[item.correctAnswerIndex];
                        let optionsWithImages = item.options.map((opt, index) => ({
                            text: opt,
                            image: (item.optionsImage && item.optionsImage[index]) ? item.optionsImage[index] : null
                        }));
                        // Fisher-Yates shuffle
                        for (let i = optionsWithImages.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [optionsWithImages[i], optionsWithImages[j]] = [optionsWithImages[j], optionsWithImages[i]];
                        }
                        // Update the item with shuffled data
                        item.options = optionsWithImages.map(opt => opt.text);
                        item.optionsImage = optionsWithImages.map(opt => opt.image);
                        item.correctAnswerIndex = item.options.indexOf(correctAnswerText);
                    }
                    // Shuffle true-false statements
                    if (item.mappedType === 'true-false' && item.statements && item.statements.length > 0) {
                         for (let i = item.statements.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [item.statements[i], item.statements[j]] = [item.statements[j], item.statements[i]];
                        }
                    }
                });
                // Then, group questions by type and shuffle within each group
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                let shuffledQuizData = [];
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    if (grouped[partType]) {
                        const partQuestions = grouped[partType];
                        for (let i = partQuestions.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [partQuestions[i], partQuestions[j]] = [partQuestions[j], partQuestions[i]];
                        }
                        shuffledQuizData = shuffledQuizData.concat(partQuestions);
                    }
                });
               
                quizData = shuffledQuizData;
            }
            // --- Timer Function ---
            function startTimer(duration, display) {
                let timer = duration, minutes, seconds;
                clearInterval(timerInterval); // Clear any existing timer
                if(duration <= 0) {
                     display.textContent = "∞";
                     return;
                }
                timerInterval = setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    display.textContent = minutes + ":" + seconds;
                    if (--timer < 0) {
                        clearInterval(timerInterval);
                        alert("Hết giờ làm bài!");
                        handleSubmit();
                    }
                }, 1000);
            }
            
            async function showExplanation(index, button) {
                const item = quizData[index];
                const questionCard = document.getElementById(`student-q-${index}`);
                const feedbackDiv = document.getElementById(`q-${index}-feedback`);
                if (!questionCard || !feedbackDiv) return;

                const existingExplanation = feedbackDiv.querySelector('.ai-explanation');
                if (existingExplanation) {
                    existingExplanation.remove();
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Xem giải thích
                    `;
                    return;
                }

                button.disabled = true;
                button.innerHTML = '<div class="loader mr-2"></div> Đang tải...';

                if (item.explanation) {
                    displayExplanation(item.explanation, feedbackDiv, button);
                    return;
                }

                if (!ai) {
                    alert("Tính năng giải thích yêu cầu API Key, nhưng chưa được cấu hình bởi giáo viên.");
                    button.disabled = false;
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Xem giải thích
                    `;
                    return;
                }

                const questionText = item.question || item.main_question;
                let prompt = `Bạn là một trợ lý giáo viên AI, am hiểu sâu sắc Chương trình GDPT 2018. Hãy cung cấp một lời giải chi tiết, từng bước một cho câu hỏi sau đây. Lời giải phải chính xác, dễ hiểu và phù hợp với phương pháp giảng dạy của chương trình học, TUYỆT ĐỐI KHÔNG sử dụng kiến thức của lớp cao hơn để giải thích.\n\n--- CÂU HỎI ---\n${questionText}\n\n`;
                if (item.mappedType === 'multiple-choice') {
                    prompt += `--- CÁC LỰA CHỌN ---\n${item.options.map((opt, i) => `${String.fromCharCode(65 + i)}. ${opt}`).join('\n')}\n\n`;
                    prompt += `--- ĐÁP ÁN ĐÚNG ---\n${String.fromCharCode(65 + item.correctAnswerIndex)}. ${item.options[item.correctAnswerIndex]}`;
                } else if (item.mappedType === 'true-false') {
                    prompt += `--- CÁC MỆNH ĐỀ & ĐÁP ÁN ---\n${item.statements.map(s => ` - ${s.statement} -> ${s.is_correct ? 'Đúng' : 'Sai'}`).join('\n')}`;
                } else {
                    prompt += `--- ĐÁP ÁN / GỢI Ý ---\n${item.answer}`;
                }
                prompt += `\n\n--- YÊU CẦU ---\nGiải thích rõ ràng tại sao đáp án lại đúng, từng bước một. Dùng **...** để in đậm các thuật ngữ quan trọng. Định dạng tất cả các công thức toán học bằng LaTeX.`;

                try {
                    const response = await ai.models.generateContent({ model: "gemini-2.5-flash", contents: prompt });
                    const explanationText = response.text; // Keep it raw
                    item.explanation = explanationText; // Cache it
                    displayExplanation(explanationText, feedbackDiv, button);
                } catch (error) {
                    console.error("Lỗi khi tạo giải thích:", error);
                    feedbackDiv.insertAdjacentHTML('beforeend', '<div class="ai-explanation text-red-600">Lỗi: Không thể tạo giải thích.</div>');
                    button.disabled = false;
                    button.innerHTML = `
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Thử lại
                    `;
                }
            }

            function displayExplanation(explanationText, container, button) {
                container.insertAdjacentHTML('beforeend', `<div class="ai-explanation prose prose-sm">${formatAIText(explanationText)}</div>`);
                if (window.MathJax) MathJax.typesetPromise([container]);
                button.disabled = false;
                button.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                    Ẩn giải thích
                `;
            }
           
            function renderStudentQuiz() {
                studentQuizContainer.innerHTML = '';
               
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                const groupInfo = {
                    'multiple-choice': { title: 'PHẦN I. TRẮC NGHIỆM KHÁCH QUAN', subtitle: 'Chọn đáp án đúng nhất trong các lựa chọn sau.' },
                    'true-false': { title: 'PHẦN II. CÂU HỎI ĐÚNG - SAI', subtitle: 'Xác định tính đúng hoặc sai cho mỗi mệnh đề dưới đây.' },
                    'short-answer': { title: 'PHẦN III. CÂU HỎI TRẢ LỜI NGẮN', subtitle: 'Điền đáp án ngắn gọn vào phần trả lời.' },
                    'essay': { title: 'PHẦN IV. CÂU HỎI TỰ LUẬN', subtitle: 'Trình bày chi tiết bài giải của bạn.' }
                };
               
                let questionCounter = 0;
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    const questions = grouped[partType];
                    if (!questions || questions.length === 0) return;
                   
                    let groupHTML = `<div class="group-container space-y-8 mb-12">`;
                    const info = groupInfo[partType];
                    groupHTML += `
                        <div class="group-header pb-3 border-b-2 border-slate-300 mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">${info.title}</h2>
                            ${info.subtitle ? `<p class="text-md text-slate-600 italic mt-1">${info.subtitle}</p>` : ''}
                        </div>
                    `;
                    questions.forEach((item, localIndex) => {
                        const globalIndex = quizData.indexOf(item);
                        questionCounter++;
                        groupHTML += `<div class="question-card" id="student-q-${globalIndex}">`;
                        let questionText = (item.question || item.main_question || '').replace(/\n/g, '<br>');
                       
                        groupHTML += `<div class="flex items-start">
                                     <div class="flex-grow">
                                         <div class="flex items-center mb-2">
                                             <span class="font-bold text-lg mr-3 text-indigo-600">Câu ${questionCounter}:</span>
                                             <div id="q-${globalIndex}-feedback-icon"></div>
                                         </div>
                                         <div class="question-content mt-2 text-lg text-slate-700">${questionText}</div>
                                         ${item.questionImage ? `<img src="${item.questionImage}" class="mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm">` : ''}
                                     </div>
                                 </div>`;
                       
                        groupHTML += `<div class="mt-6">`;
                        switch(item.mappedType) {
                            case 'multiple-choice':
                                groupHTML += `<div class="options-grid grid grid-cols-1 md:grid-cols-2 gap-4">`;
                                item.options.forEach((opt, i) => {
                                    groupHTML += `<label for="q${globalIndex}-opt${i}" id="q${globalIndex}-opt-label${i}" class="option-label flex items-start p-4 border-2 rounded-xl cursor-pointer hover:bg-indigo-50 hover:border-indigo-400">
                                                     <input type="radio" name="q${globalIndex}" id="q${globalIndex}-opt${i}" value="${i}" class="flex-shrink-0 mt-1 h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300">
                                                     <div class="ml-3 flex-grow">
                                                         <span class="font-semibold text-slate-800">${String.fromCharCode(65 + i)}.</span>
                                                         <span class="option-content text-slate-700">${opt || ''}</span>
                                                         ${(item.optionsImage && item.optionsImage[i]) ? `<img src="${item.optionsImage[i]}" class="mt-2 rounded-lg max-w-xs border shadow-sm">` : ''}
                                                     </div>
                                                 </label>`;
                                });
                                groupHTML += `</div>`;
                                break;
                            case 'true-false':
                                 groupHTML += `<div class="space-y-4">`;
                                 item.statements.forEach((s, i) => {
                                     groupHTML += `<div class="statement-item border-t pt-4">
                                                  <p class="mb-3 text-slate-700">${String.fromCharCode(97 + i)}) ${s.statement || ''}</p>
                                                  <div class="flex gap-x-6">
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="true" class="mr-2 h-4 w-4"> Đúng</label>
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="false" class="mr-2 h-4 w-4"> Sai</label>
                                                  </div>
                                              </div>`;
                                 });
                                 groupHTML += `</div>`;
                                 break;
                            case 'short-answer':
                                groupHTML += `<input type="text" name="q${globalIndex}" class="mt-1 block w-full md:w-1/2 border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Nhập đáp án của bạn...">`;
                                break;
                            case 'essay':
                                groupHTML += `<textarea name="q${globalIndex}" class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" rows="5" placeholder="Nhập câu trả lời tự luận của bạn..."></textarea>`;
                                break;
                        }
                        groupHTML += `</div><div id="q-${globalIndex}-feedback" class="mt-4"></div></div>`;
                    });
                    groupHTML += `</div>`;
                    studentQuizContainer.innerHTML += groupHTML;
                });
               
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    MathJax.typesetPromise([studentQuizContainer]);
                }
            }
           
            async function generatePerformanceReview(allAnswersData) {
                const feedbackContainer = document.getElementById('ai-feedback-container');
                if (!feedbackContainer || !ai) return null;
                feedbackContainer.classList.remove('hidden');
                feedbackContainer.innerHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-slate-800 mb-4">📝 Phân Tích & Gợi Ý Từ Trợ Lý AI</h3>
                        <div id="ai-feedback-loader" class="text-center py-6">
                            <svg class="animate-spin mx-auto h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <p class="mt-3 text-slate-600">AI đang phân tích bài làm của bạn...</p>
                        </div>
                        <div id="ai-feedback-summary" class="hidden prose prose-sm max-w-none"></div>
                        <div id="ai-feedback-details" class="hidden mt-4 space-y-2"></div>
                    </div>
                `;
               
                const loader = document.getElementById('ai-feedback-loader');
                const summaryDiv = document.getElementById('ai-feedback-summary');
                const detailsDiv = document.getElementById('ai-feedback-details');
                const incorrectAnswers = allAnswersData.filter(a => !a.isCorrect);
                if (incorrectAnswers.length === 0) {
                    feedbackContainer.innerHTML = `
                        <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                            <h3 class="text-xl font-bold text-green-600">🎉 Chúc mừng!</h3>
                            <p class="mt-2 text-slate-700">Bạn đã trả lời đúng tất cả các câu hỏi. Làm tốt lắm!</p>
                        </div>
                    `;
                    return { overallFeedback: { summary: "Xuất sắc! Học sinh đã đã trả lời đúng tất cả các câu hỏi." } };
                }
                const summaryPrompt = `Bạn là một trợ lý giáo viên, nói tiếng Việt. Dựa vào tóm tắt các câu trả lời sai của học sinh, hãy đưa ra một nhận xét tổng quan ngắn gọn (khoảng 3-4 câu) về năng lực của học sinh, bao gồm điểm mạnh (suy luận từ các câu làm đúng), điểm yếu (dựa trên các câu sai) và một vài gợi ý ôn tập chung. Lời văn phải khích lệ, rõ ràng. Dùng **...** để in đậm các thuật ngữ quan trọng.
                Tóm tắt lỗi sai:
                ${JSON.stringify(incorrectAnswers.map(a => ({ cau: a.questionNumber, loai: a.type, cauHoi: a.question.substring(0, 50) + '...' })), null, 2)}`;
                try {
                    const response = await ai.models.generateContent({
                        model: "gemini-2.5-flash",
                        contents: summaryPrompt
                    });
                    summaryDiv.innerHTML = formatAIText(response.text);
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                    detailsDiv.classList.remove('hidden'); 
                } catch (e) {
                    console.error("Lỗi khi lấy nhận xét tổng quan:", e);
                    summaryDiv.innerHTML = '<p class="text-red-600">Lỗi khi tạo nhận xét tổng quan.</p>';
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                }
               
                const summaryForSheet = summaryDiv.innerText.substring(0, 200) + "...";
                return { overallFeedback: { summary: summaryForSheet } };
            }
            async function handleSubmit() {
                if (isSubmitted) return;
                isSubmitted = true;
                clearInterval(timerInterval);
                
                document.querySelectorAll('input, textarea').forEach(input => input.disabled = true);
                submitBtn.classList.add('hidden');
                postSubmitOptions.classList.remove('hidden');
                if (retriesLeft > 0) {
                    retryBtn.classList.remove('hidden');
                } else {
                    retryBtn.classList.add('hidden');
                }

                const proctoringDataString = JSON.stringify(proctoringLog);

                let totalStudentScore = 0;
                let totalCorrectAnswers = 0;
                let allAnswersData = [];
                const questionCounts = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    acc[type] = (acc[type] || 0) + 1;
                    return acc;
                }, {});
                
                quizData.forEach((item, index) => {
                    let questionNumber = index + 1;
                    let answerData = { questionNumber, type: item.type };
                    switch (item.mappedType) {
                        case 'multiple-choice':
                            const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                            const isCorrectMC = selectedOption ? parseInt(selectedOption.value) === item.correctAnswerIndex : false;
                            if (isCorrectMC) {
                                totalCorrectAnswers++;
                                if (questionCounts['multiple-choice'] > 0) {
                                   totalStudentScore += quizOptions.scoring.mc / questionCounts['multiple-choice'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.options = item.options;
                            answerData.yourAnswer = selectedOption ? String.fromCharCode(65 + parseInt(selectedOption.value)) : "Không trả lời";
                            answerData.correctAnswer = String.fromCharCode(65 + item.correctAnswerIndex);
                            answerData.isCorrect = isCorrectMC;
                            break;
                        case 'true-false':
                            let correctStatementsCount = 0;
                            let yourAnswerPattern = [];
                            let correctAnswerPattern = [];
                            let details = [];
                            item.statements.forEach((s, i) => {
                                const selectedTF = document.querySelector(`input[name="q${index}-s${i}"]:checked`);
                                const studentChoice = selectedTF ? selectedTF.value === 'true' : null;
                                const isStatementCorrect = studentChoice === s.is_correct;
                               
                                if (isStatementCorrect) correctStatementsCount++;
                               
                                yourAnswerPattern.push(studentChoice === null ? '?' : (studentChoice ? 'Đ' : 'S'));
                                correctAnswerPattern.push(s.is_correct ? 'Đ' : 'S');
                                details.push({ statement: s.statement, yourChoice: studentChoice === null ? 'Không trả lời' : (studentChoice ? 'Đúng' : 'Sai'), correctChoice: s.is_correct ? 'Đúng' : 'Sai', isCorrect: isStatementCorrect });
                            });
                            
                            let scorePerTfQuestion = 0;
                            if (questionCounts['true-false'] > 0) {
                                scorePerTfQuestion = quizOptions.scoring.tf / questionCounts['true-false'];
                            }
                            let questionPoints = 0;
                            if (quizOptions.scoring.tfMethod === 'progressive') {
                                const progressivePoints = { 0: 0, 1: 0.1, 2: 0.25, 3: 0.5, 4: 1.0 };
                                questionPoints = progressivePoints[correctStatementsCount] * scorePerTfQuestion;
                            } else { // even
                                questionPoints = (correctStatementsCount / 4) * scorePerTfQuestion;
                            }
                            totalStudentScore += questionPoints;

                            if(correctStatementsCount === 4) totalCorrectAnswers++;
                            answerData.question = item.main_question;
                            answerData.yourAnswer = yourAnswerPattern.join('-');
                            answerData.correctAnswer = correctAnswerPattern.join('-');
                            answerData.isCorrect = correctStatementsCount === 4;
                            answerData.details = details;
                            break;
                       
                        case 'short-answer':
                            const saInput = document.querySelector(`input[name="q${index}"]`);
                            const studentAnswerRaw = saInput ? (saInput.value ?? '').trim() : "";
                            const correctAnswerRaw = (item.answer ?? '').toString().trim().replace(/\$/g, '');
                            let isCorrectSA = false;
                            const studentAnswerNormalized = studentAnswerRaw.replace(',', '.');
                            const correctAnswerNormalized = correctAnswerRaw.replace(',', '.');
                            if (studentAnswerNormalized.toLowerCase() === correctAnswerNormalized.toLowerCase()) {
                                isCorrectSA = true;
                            }
                             if (isCorrectSA) {
                                totalCorrectAnswers++;
                                if (questionCounts['short-answer'] > 0) {
                                   totalStudentScore += quizOptions.scoring.sa / questionCounts['short-answer'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.yourAnswer = studentAnswerRaw || "Không trả lời";
                            answerData.correctAnswer = correctAnswerRaw;
                            answerData.isCorrect = isCorrectSA;
                            break;
                           
                        case 'essay':
                             const essayInput = document.querySelector(`textarea[name="q${index}"]`);
                             answerData.question = item.question;
                             answerData.yourAnswer = essayInput.value || "Không trả lời";
                             answerData.correctAnswer = item.answer;
                             answerData.isCorrect = null; // Needs manual grading
                             break;
                    }
                    allAnswersData.push(answerData);
                });
                
                const finalScore = totalStudentScore;
                
                let competencyAssessment = "Giáo viên không yêu cầu AI phân tích bài làm.";
                if (quizOptions.aiAssessment) {
                    const feedbackData = await generatePerformanceReview(allAnswersData);
                    if (feedbackData && feedbackData.overallFeedback && feedbackData.overallFeedback.summary) {
                        competencyAssessment = feedbackData.overallFeedback.summary;
                    } else {
                        competencyAssessment = "Có lỗi xảy ra trong quá trình AI phân tích bài làm.";
                    }
                }
                
                if (quizOptions.showAnswers) {
                    const totalQuestions = quizData.length;
                    resultContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-lg text-center">
                        <h3 class="text-2xl font-bold text-slate-800">KẾT QUẢ BÀI LÀM</h3>
                        <p class="mt-4 text-lg">Số câu đúng hoàn toàn: <span class="font-bold text-green-600">${totalCorrectAnswers}/${totalQuestions}</span></p>
                        <p class="text-2xl mt-2">Điểm (thang 10): <span class="font-bold text-blue-600">${finalScore.toFixed(2)}</span></p>
                        ${questionCounts['essay'] > 0 ? `<p class="text-sm text-gray-600 italic mt-1">Lưu ý: Điểm trên chưa bao gồm ${quizOptions.scoring.essay} điểm của phần Tự luận.</p>` : ''}
                    </div>`;
                    resultContainer.classList.remove('hidden');

                    allAnswersData.forEach((ans, index) => {
                        const questionCard = document.getElementById(`student-q-${index}`);
                        const feedbackIconDiv = document.getElementById(`q-${index}-feedback-icon`);
                        const feedbackDiv = document.getElementById(`q-${index}-feedback`);
                        if (!questionCard || !feedbackIconDiv || !feedbackDiv) return;

                        const iconHTML = ans.isCorrect === true
                            ? '<svg class="feedback-icon text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>'
                            : (ans.isCorrect === false ? '<svg class="feedback-icon text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>' : '');
                        feedbackIconDiv.innerHTML = iconHTML;

                        if (ans.type.includes('multiple-choice')) {
                            const studentChoice = ans.yourAnswer === "Không trả lời" ? -1 : ans.yourAnswer.charCodeAt(0) - 65;
                            const correctChoice = ans.correctAnswer.charCodeAt(0) - 65;
                            document.getElementById(`q-${index}-opt-label${correctChoice}`)?.classList.add('correct');
                            if (studentChoice !== -1 && studentChoice !== correctChoice) {
                                document.getElementById(`q-${index}-opt-label${studentChoice}`)?.classList.add('incorrect');
                            }
                        } else if (ans.type === 'true-false') {
                            const statementItems = questionCard.querySelectorAll('.statement-item');
                            ans.details.forEach((detail, i) => { if(statementItems[i]) { statementItems[i].classList.add(detail.isCorrect ? 'correct' : 'incorrect'); }});
                        }

                        if (quizOptions.showExplanation) {
                            feedbackDiv.innerHTML = `<button data-explain-index="${index}" class="explain-btn mt-4 flex items-center px-4 py-2 bg-blue-100 text-blue-800 text-sm font-semibold rounded-lg hover:bg-blue-200 transition-colors">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                Xem giải thích
                            </button>`;
                        }
                    });
                    
                    document.querySelectorAll('.explain-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            const button = e.currentTarget;
                            const index = parseInt(button.dataset.explainIndex, 10);
                            showExplanation(index, button);
                        });
                    });

                    if (window.MathJax) await window.MathJax.typesetPromise([studentQuizContainer]);
                } else {
                     resultContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-lg text-center"><h3 class="text-xl font-bold text-green-600">Nộp bài thành công!</h3><p class="mt-2 text-slate-700">Bạn đã hoàn thành bài làm. Kết quả sẽ được giáo viên công bố sau.</p></div>`;
                    resultContainer.classList.remove('hidden');
                }
                
                const formData = new FormData();
                formData.append('name', studentInfo.name);
                formData.append('class', studentInfo.class);
                formData.append('score', `${finalScore.toFixed(2)}/10`);
                formData.append('assessment', competencyAssessment);
                formData.append('timestamp', new Date().toLocaleString('vi-VN'));
                formData.append('examCode', correctExamCode);
                formData.append('monitoringLog', proctoringDataString);
                formData.append('answerDetails', JSON.stringify(allAnswersData));
               
                fetch(googleScriptUrl, { method: 'POST', body: formData})
                    .then(res => console.log("Successfully submitted to Google Sheet"))
                    .catch(err => console.error("Error submitting to Google Sheet:", err));
            }
           
            function startNewAttempt() {
                isSubmitted = false;
                proctoringLog = { thoatManHinh: 0, saoChep: 0, dan: 0, suKien: [] };
                const proctoringWidget = document.getElementById('proctoring-widget');
                if (proctoringWidget) {
                    proctoringWidget.classList.add('hidden');
                    document.getElementById('tab-switch-count').textContent = '0';
                    document.getElementById('copy-count').textContent = '0';
                    document.getElementById('paste-count').textContent = '0';
                }

                renderStudentQuiz();
                resultContainer.classList.add('hidden');
                document.getElementById('ai-feedback-container').classList.add('hidden');
                postSubmitOptions.classList.add('hidden');
                submitBtn.classList.remove('hidden');
                 if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                }
                retriesLeft--;
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                window.scrollTo(0, 0);
            }
            studentInfoForm.addEventListener('submit', (e) => {
                e.preventDefault();
               
                const enteredCode = document.getElementById('exam-code').value.trim().toUpperCase();
                if (correctExamCode && enteredCode !== correctExamCode) {
                    alert('Mã đề không chính xác. Vui lòng kiểm tra lại!');
                    return;
                }
               
                studentApiKey = teacherApiKey;
                if (!studentApiKey) {
                    console.warn('Cảnh báo: Giáo viên chưa cấu hình API Key. Các tính năng AI sẽ không hoạt động.');
                }
       
                try {
                    if (studentApiKey) {
                       ai = new GoogleGenAI({ apiKey: studentApiKey });
                    }
                } catch(e) {
                    console.error("Lỗi khởi tạo Gemini API với key của giáo viên.", e);
                    alert("Cảnh báo: API Key của giáo viên không hợp lệ. Vui lòng báo cho giáo viên. Các tính năng AI sẽ không hoạt động.");
                    ai = null;
                }
                shuffleQuiz();
               
                studentInfo.name = document.getElementById('student-name').value;
                studentInfo.class = document.getElementById('student-class').value;
                loginModal.classList.add('hidden');
                studentQuizContainer.classList.remove('hidden');
                submitBtn.classList.remove('hidden');
               
                if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                } else {
                    timerDisplay.textContent = "Không giới hạn";
                }
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                renderStudentQuiz();

                const proctoringWidget = document.getElementById('proctoring-widget');
                const tabSwitchCountEl = document.getElementById('tab-switch-count');
                const copyCountEl = document.getElementById('copy-count');
                const pasteCountEl = document.getElementById('paste-count');

                function updateProctoringUI() {
                    if (proctoringLog.thoatManHinh > 0 || proctoringLog.saoChep > 0 || proctoringLog.dan > 0) {
                        proctoringWidget.classList.remove('hidden');
                    }
                    tabSwitchCountEl.textContent = proctoringLog.thoatManHinh;
                    copyCountEl.textContent = proctoringLog.saoChep;
                    pasteCountEl.textContent = proctoringLog.dan;
                }

                // Disable Right Click
                document.addEventListener('contextmenu', e => e.preventDefault());

                // Track Tab Switching
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden && !isSubmitted) {
                        proctoringLog.thoatManHinh++;
                        proctoringLog.suKien.push({ loai: 'chuyen_tab', thoiGian: new Date().toISOString() });
                        updateProctoringUI();
                    }
                });

                // Track Copying
                document.addEventListener('copy', () => {
                    if (isSubmitted) return;
                    proctoringLog.saoChep++;
                    proctoringLog.suKien.push({ loai: 'sao_chep', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });

                // Track Pasting
                document.addEventListener('paste', () => {
                    if (isSubmitted) return;
                    proctoringLog.dan++;
                    proctoringLog.suKien.push({ loai: 'dan', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });
            });
            
            submitBtn.addEventListener('click', handleSubmit);
            retryBtn.addEventListener('click', () => {
                shuffleQuiz();
                startNewAttempt();
            });
        </script>
    </body>
    </html>
    