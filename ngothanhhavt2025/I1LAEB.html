
    <!DOCTYPE html>
    <html lang="vi">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bài Tập Luyện Tập</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap" rel="stylesheet">
        <script>
            window.MathJax = {
                tex: {
                    packages: {'[+]': ['ams']},
                    inlineMath: [['$', '$'], ['\\(', '\\)']],
                    displayMath: [['$$', '$$'], ['\\[', '\\]']]
                },
                chtml: {
                    fontCache: 'global',
                    linebreaks: {
                        automatic: true
                    }
                }
            };
        </script>
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
        </script>
        <style>
            body { font-family: 'Be Vietnam Pro', sans-serif; background-color: #f0f4f8; }
            .loader { border: 4px solid #f3f3f3; border-top: 4px solid #3b82f6; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
            @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            .question-card {
                background-color: white;
                border-radius: 1rem;
                padding: 1.5rem 2rem;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
                border-left: 5px solid transparent;
                transition: all 0.3s ease;
            }
            .ai-explanation {
                background-color: #f0f9ff;
                color: #0c4a6e;
                padding: 1rem;
                border-radius: 0.75rem;
                font-size: 0.9rem;
                margin-top: 1rem;
                border-left: 4px solid #38bdf8;
            }
            .feedback-icon { width: 1.5rem; height: 1.5rem; }
            .option-label {
                transition: all 0.2s ease-in-out;
                border: 2px solid #e5e7eb;
            }
            .option-label:hover {
                border-color: #6366f1;
                background-color: #eef2ff;
            }
            .option-label.correct {
                border-color: #10b981 !important;
                background-color: #ecfdf5 !important;
                color: #065f46;
            }
            .option-label.incorrect {
                border-color: #ef4444 !important;
                background-color: #fef2f2 !important;
                color: #991b1b;
            }
            .statement-item.correct { background-color: #ecfdf5; border-color: #10b981; }
            .statement-item.incorrect { background-color: #fef2f2; border-color: #ef4444; }
            .tts-btn { transition: all 0.2s ease; }
            .tts-btn:hover { background-color: #e0e7ff; }
            .tts-btn.playing { color: #4f46e5; }
            .prose { max-width: 100%; }
            .prose h1, .prose h2, .prose h3 { font-weight: 600; }
            .prose p { margin-top: 0.5em; margin-bottom: 0.5em; }
            .prose ul, .prose ol { margin-top: 1em; margin-bottom: 1em; padding-left: 1.5em; }
            .prose li > p { margin-top: 0; margin-bottom: 0; }
            .prose code { background-color: #e5e7eb; padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }
            .prose pre { background-color: #e5e7eb; padding: 1em; border-radius: 0.5em; overflow-x: auto; }
            .prose pre code { background-color: transparent; padding: 0; }
            details[open] > summary .details-arrow {
                transform: rotate(180deg);
            }
        </style>
    </head>
    <body class="bg-slate-100 text-slate-800">
        <div id="login-modal" class="fixed inset-0 bg-gray-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
            <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md transform transition-all" style="animation: fadeIn 0.3s ease-out;">
                <h2 class="text-2xl font-bold mb-2 text-center text-slate-800">Thông Tin Học Sinh</h2>
                <p class="text-center text-slate-500 mb-6">Vui lòng nhập để bắt đầu làm bài.</p>
                <form id="student-info-form">
                    <div class="mb-4">
                        <label for="student-name" class="block text-sm font-medium text-slate-700 mb-1">Họ và tên</label>
                        <input type="text" id="student-name" required class="mt-1 block w-full block border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="student-class" class="block text-sm font-medium text-slate-700 mb-1">Lớp</label>
                        <input type="text" id="student-class" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500">
                    </div>
                    <div class="mb-4">
                        <label for="exam-code" class="block text-sm font-medium text-slate-700 mb-1">Mã đề</label>
                        <input type="text" id="exam-code" required class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:border-indigo-500 focus:ring-indigo-500" placeholder="Nhập mã đề giáo viên cung cấp">
                    </div>
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-slate-700 mb-1">Giáo viên:</label>
                        <p class="mt-1 text-slate-800 bg-slate-100 p-2.5 rounded-lg">NGO THANH HA</p>
                    </div>
                    <button type="submit" class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-transform transform hover:scale-105">Bắt đầu làm bài</button>
                </form>
            </div>
        </div>
        <div class="container mx-auto p-4 md:p-8 max-w-4xl">
            <header class="mb-10 p-8 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg">
                <div class="flex justify-between items-center flex-wrap gap-4">
                    <div>
                        <h1 class="text-4xl font-bold">Bài Tập Luyện Tập</h1>
                        <p class="text-lg text-blue-100 mt-2">Hãy hoàn thành các câu hỏi dưới đây một cách tốt nhất!</p>
                        <p class="text-sm text-blue-200 mt-4">Tác giả: NGO THANH HA</p>
                    </div>
                    <div id="timer-container" class="text-right">
                         <div id="timer-display" class="text-3xl font-bold tracking-wider bg-white/20 px-4 py-2 rounded-lg">--:--</div>
                         <div id="retries-display" class="text-sm mt-1 text-blue-200"></div>
                    </div>
                </div>
            </header>
            <main id="student-quiz-container" class="space-y-8 hidden">
                <!-- Questions will be rendered here by JS -->
            </main>
            <footer class="mt-10 text-center">
                <button id="submit-quiz-btn" class="bg-indigo-600 text-white py-3 px-12 rounded-full font-bold text-lg hover:bg-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl hidden transform hover:scale-105">Nộp Bài</button>
                <div id="result-container" class="mt-6 hidden"></div>
                <div id="ai-feedback-container" class="mt-8 text-left hidden"></div>
                <div id="post-submit-options" class="hidden mt-6 flex flex-col sm:flex-row items-center justify-center gap-4">
                    <button id="retry-quiz-btn" class="w-full sm:w-auto bg-slate-600 text-white py-2.5 px-6 rounded-lg font-semibold hover:bg-slate-700 transition-transform transform hover:scale-105">Làm Lại Đề Này</button>
                </div>
            </footer>
        </div>

        <div id="proctoring-widget" class="fixed bottom-4 right-4 bg-yellow-100 text-yellow-800 p-3 rounded-lg shadow-lg text-sm z-50 hidden border border-yellow-300" style="max-width: 200px;">
            <h4 class="font-bold mb-2 border-b border-yellow-300 pb-1 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 3.001-1.742 3.001H4.42c-1.53 0-2.493-1.667-1.743-3.001l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>
                Giám sát
            </h4>
            <p>Thoát màn hình: <span id="tab-switch-count" class="font-bold">0</span></p>
            <p>Sao chép: <span id="copy-count" class="font-bold">0</span></p>
            <p>Dán: <span id="paste-count" class="font-bold">0</span></p>
        </div>

        <script type="module">
            import { GoogleGenAI, Type } from "https://esm.sh/@google/genai@^1.13.0";
            let quizData = [{"type":"true-false","main_question":"Trong không gian $Oxyz$, cho hình lập phương $ABCD.A'B'C'D'$ cạnh $2$. Hệ trục toạ độ có gốc $A$ trùng với gốc $O$, các tia $Ax, Ay, Az$ lần lượt trùng với các tia $AB, AD, AA'$.<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMC4zIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzE2MC45MzEzNzVwdCcgaGVpZ2h0PScxMjcuMTg0MzlwdCcgdmlld0JveD0nLTY1LjI2NTQ0NCAtNjUuMjY1NzA5IDE2MC45MzEzNzUgMTI3LjE4NDM5Jz4KPGRlZnM+CjxwYXRoIGlkPSdnMC00OCcgZD0nTTIuMTEyMDgtMy43Nzc4MzNDMi4xNTE5My0zLjg4MTQ0NSAyLjE4MzgxMS0zLjkzNzIzNSAyLjE4MzgxMS00LjAxNjkzNkMyLjE4MzgxMS00LjI3OTk1IDEuOTQ0NzA3LTQuNDU1MjkzIDEuNzIxNTQ0LTQuNDU1MjkzQzEuNDAyNzQtNC40NTUyOTMgMS4zMTUwNjgtNC4xNzYzMzkgMS4yODMxODgtNC4wNjQ3NTdMLjI3MDk4NC0uNjI5NjM5Qy4yMzkxMDMtLjUzMzk5OCAuMjM5MTAzLS41MTAwODcgLjIzOTEwMy0uNTAyMTE3Qy4yMzkxMDMtLjQzMDM4NiAuMjg2OTI0LS40MTQ0NDYgLjM2NjYyNS0uMzkwNTM1Qy41MTAwODctLjMyNjc3NSAuNTI2MDI3LS4zMjY3NzUgLjU0MTk2OC0uMzI2Nzc1Qy41NjU4NzgtLjMyNjc3NSAuNjEzNjk5LS4zMjY3NzUgLjY2OTQ4OS0uNDYyMjY3TDIuMTEyMDgtMy43Nzc4MzNaJy8+CjxwYXRoIGlkPSdnMS02NScgZD0nTTIuMDMyMzc5LTEuMzI3MDI0QzEuNjEzOTQ4LS42MjE2NjkgMS4yMDc0NzItLjM4MjU2NSAuNjMzNjI0LS4zNDY3Qy41MDIxMTctLjMzNDc0NSAuNDA2NDc2LS4zMzQ3NDUgLjQwNjQ3Ni0uMTE5NTUyQy40MDY0NzYtLjA0NzgyMSAuNDY2MjUyIDAgLjU0OTkzOCAwQy43NjUxMzEgMCAxLjMwMzExMy0uMDIzOTEgMS41MTgzMDYtLjAyMzkxQzEuODY1MDA2LS4wMjM5MSAyLjI0NzU3MiAwIDIuNTgyMzE2IDBDMi42NTQwNDcgMCAyLjc5NzUwOSAwIDIuNzk3NTA5LS4yMjcxNDhDMi43OTc1MDktLjMzNDc0NSAyLjcwMTg2OC0uMzQ2NyAyLjYzMDEzNy0uMzQ2N0MyLjM1NTE2OC0uMzcwNjEgMi4xMjgwMi0uNDY2MjUyIDIuMTI4MDItLjc1MzE3NkMyLjEyODAyLS45MjA1NDggMi4xOTk3NTEtMS4wNTIwNTUgMi4zNTUxNjgtMS4zMTUwNjhMMy4yNjM3NjEtMi44MjE0Mkg2LjMxMjMyOUM2LjMyNDI4NC0yLjcxMzgyMyA2LjMyNDI4NC0yLjYxODE4MiA2LjMzNjIzOS0yLjUxMDU4NUM2LjM3MjEwNS0yLjE5OTc1MSA2LjUxNTU2Ny0uOTU2NDEzIDYuNTE1NTY3LS43MjkyNjVDNi41MTU1NjctLjM3MDYxIDUuOTA1ODUzLS4zNDY3IDUuNzE0NTctLjM0NjdDNS41ODMwNjQtLjM0NjcgNS40NTE1NTctLjM0NjcgNS40NTE1NTctLjEzMTUwN0M1LjQ1MTU1NyAwIDUuNTU5MTUzIDAgNS42MzA4ODQgMEM1LjgzNDEyMiAwIDYuMDczMjI1LS4wMjM5MSA2LjI3NjQ2My0uMDIzOTFINi45NTc5MDhDNy42ODcxNzMtLjAyMzkxIDguMjEzMiAwIDguMjI1MTU2IDBDOC4zMDg4NDIgMCA4LjQ0MDM0OSAwIDguNDQwMzQ5LS4yMjcxNDhDOC40NDAzNDktLjM0NjcgOC4zMzI3NTItLjM0NjcgOC4xNTM0MjUtLjM0NjdDNy40OTU4OS0uMzQ2NyA3LjQ4MzkzNS0uNDU0Mjk2IDcuNDQ4MDctLjgxMjk1MUw2LjcxODgwNC04LjI3Mjk3NkM2LjY5NDg5NC04LjUxMjA4IDYuNjQ3MDczLTguNTM1OTkgNi41MTU1NjctOC41MzU5OUM2LjM5NjAxNS04LjUzNTk5IDYuMzI0Mjg0LTguNTEyMDggNi4yMTY2ODctOC4zMzI3NTJMMi4wMzIzNzktMS4zMjcwMjRaTTMuNDY2OTk5LTMuMTY4MTJMNS44Njk5ODgtNy4xODUwNTZMNi4yNzY0NjMtMy4xNjgxMkgzLjQ2Njk5OVonLz4KPHBhdGggaWQ9J2cxLTY2JyBkPSdNNC4zNzU1OTItNy4zNTI0MjhDNC40ODMxODgtNy43OTQ3NyA0LjUzMTAwOS03LjgxODY4IDQuOTk3MjYtNy44MTg2OEg2LjU1MTQzMkM3LjkwMjM2Ni03LjgxODY4IDcuOTAyMzY2LTYuNjcwOTg0IDcuOTAyMzY2LTYuNTYzMzg3QzcuOTAyMzY2LTUuNTk1MDE5IDYuOTMzOTk4LTQuMzYzNjM2IDUuMzU1OTE1LTQuMzYzNjM2SDMuNjM0MzcxTDQuMzc1NTkyLTcuMzUyNDI4Wk02LjM5NjAxNS00LjI2Nzk5NUM3LjY5OTEyOC00LjUwNzA5OCA4Ljg4MjY5LTUuNDE1NjkxIDguODgyNjktNi41MTU1NjdDOC44ODI2OS03LjQ0ODA3IDguMDU3NzgzLTguMTY1MzggNi43MDY4NDktOC4xNjUzOEgyLjg2OTI0QzIuNjQyMDkyLTguMTY1MzggMi41MzQ0OTYtOC4xNjUzOCAyLjUzNDQ5Ni03LjkzODIzMkMyLjUzNDQ5Ni03LjgxODY4IDIuNjQyMDkyLTcuODE4NjggMi44MjE0Mi03LjgxODY4QzMuNTUwNjg1LTcuODE4NjggMy41NTA2ODUtNy43MjMwMzkgMy41NTA2ODUtNy41OTE1MzJDMy41NTA2ODUtNy41Njc2MjEgMy41NTA2ODUtNy40OTU4OSAzLjUwMjg2NC03LjMxNjU2M0wxLjg4ODkxNy0uODg0NjgyQzEuNzgxMzItLjQ2NjI1MiAxLjc1NzQxLS4zNDY3IC45MjA1NDgtLjM0NjdDLjY5MzQtLjM0NjcgLjU3Mzg0OC0uMzQ2NyAuNTczODQ4LS4xMzE1MDdDLjU3Mzg0OCAwIC42NDU1NzkgMCAuODg0NjgyIDBINC45ODUzMDVDNi44MTQ0NDYgMCA4LjIyNTE1Ni0xLjM4NjggOC4yMjUxNTYtMi41OTQyNzFDOC4yMjUxNTYtMy41NzQ1OTUgNy4zNjQzODQtNC4xNzIzNTQgNi4zOTYwMTUtNC4yNjc5OTVaTTQuNjk4MzgxLS4zNDY3SDMuMDg0NDMzQzIuOTE3MDYxLS4zNDY3IDIuODkzMTUxLS4zNDY3IDIuODIxNDItLjM1ODY1NUMyLjY4OTkxMy0uMzcwNjEgMi42Nzc5NTgtLjM5NDUyMSAyLjY3Nzk1OC0uNDkwMTYyQzIuNjc3OTU4LS41NzM4NDggMi43MDE4NjgtLjY0NTU3OSAyLjcyNTc3OC0uNzUzMTc2TDMuNTYyNjQtNC4xMjQ1MzNINS44MTAyMTJDNy4yMjA5MjItNC4xMjQ1MzMgNy4yMjA5MjItMi44MDk0NjUgNy4yMjA5MjItMi43MTM4MjNDNy4yMjA5MjItMS41NjYxMjcgNi4xODA4MjItLjM0NjcgNC42OTgzODEtLjM0NjdaJy8+CjxwYXRoIGlkPSdnMS02NycgZD0nTTguOTMwNTExLTguMzA4ODQyQzguOTMwNTExLTguNDE2NDM4IDguODQ2ODI0LTguNDE2NDM4IDguODIyOTE0LTguNDE2NDM4UzguNzUxMTgzLTguNDE2NDM4IDguNjU1NTQyLTguMjk2ODg3TDcuODMwNjM1LTcuMjkyNjUzQzcuNDEyMjA0LTguMDA5OTYzIDYuNzU0NjctOC40MTY0MzggNS44NTgwMzItOC40MTY0MzhDMy4yNzU3MTYtOC40MTY0MzggLjU5Nzc1OC01Ljc5ODI1NyAuNTk3NzU4LTIuOTg4NzkyQy41OTc3NTgtLjk5MjI3OSAxLjk5NjUxMyAuMjUxMDU5IDMuNzQxOTY4IC4yNTEwNTlDNC42OTgzODEgLjI1MTA1OSA1LjUzNTI0My0uMTU1NDE3IDYuMjI4NjQzLS43NDEyMkM3LjI2ODc0Mi0xLjYxMzk0OCA3LjU3OTU3Ny0yLjc3MzU5OSA3LjU3OTU3Ny0yLjg2OTI0QzcuNTc5NTc3LTIuOTc2ODM3IDcuNDgzOTM1LTIuOTc2ODM3IDcuNDQ4MDctMi45NzY4MzdDNy4zNDA0NzMtMi45NzY4MzcgNy4zMjg1MTgtMi45MDUxMDYgNy4zMDQ2MDgtMi44NTcyODVDNi43NTQ2Ny0uOTkyMjc5IDUuMTQwNzIyLS4wOTU2NDEgMy45NDUyMDUtLjA5NTY0MUMyLjY3Nzk1OC0uMDk1NjQxIDEuNTc4MDgyLS45MDg1OTMgMS41NzgwODItMi42MDYyMjdDMS41NzgwODItMi45ODg3OTIgMS42OTc2MzQtNS4wNjg5OTEgMy4wNDg1NjgtNi42MzUxMThDMy43MDYxMDItNy40MDAyNDkgNC44Mjk4ODgtOC4wNjk3MzggNS45NjU2MjktOC4wNjk3MzhDNy4yODA2OTctOC4wNjk3MzggNy44NjY1MDEtNi45ODE4MTggNy44NjY1MDEtNS43NjIzOTFDNy44NjY1MDEtNS40NTE1NTcgNy44MzA2MzUtNS4xODg1NDMgNy44MzA2MzUtNS4xNDA3MjJDNy44MzA2MzUtNS4wMzMxMjYgNy45NTAxODctNS4wMzMxMjYgNy45ODYwNTItNS4wMzMxMjZDOC4xMTc1NTktNS4wMzMxMjYgOC4xMjk1MTQtNS4wNDUwODEgOC4xNzczMzUtNS4yNjAyNzRMOC45MzA1MTEtOC4zMDg4NDJaJy8+CjxwYXRoIGlkPSdnMS02OCcgZD0nTTEuODc2OTYxLS44ODQ2ODJDMS43NjkzNjUtLjQ2NjI1MiAxLjc0NTQ1NS0uMzQ2NyAuOTA4NTkzLS4zNDY3Qy42ODE0NDUtLjM0NjcgLjU2MTg5My0uMzQ2NyAuNTYxODkzLS4xMzE1MDdDLjU2MTg5MyAwIC42MzM2MjQgMCAuODcyNzI3IDBINC42NjI1MTZDNy4wNzc0NiAwIDkuNDMyNjI4LTIuNDk4NjMgOS40MzI2MjgtNS4xNjQ2MzNDOS40MzI2MjgtNi44ODYxNzcgOC40MDQ0ODMtOC4xNjUzOCA2LjY5NDg5NC04LjE2NTM4SDIuODU3Mjg1QzIuNjMwMTM3LTguMTY1MzggMi41MjI1NC04LjE2NTM4IDIuNTIyNTQtNy45MzgyMzJDMi41MjI1NC03LjgxODY4IDIuNjMwMTM3LTcuODE4NjggMi44MDk0NjUtNy44MTg2OEMzLjUzODczLTcuODE4NjggMy41Mzg3My03LjcyMzAzOSAzLjUzODczLTcuNTkxNTMyQzMuNTM4NzMtNy41Njc2MjEgMy41Mzg3My03LjQ5NTg5IDMuNDkwOTA5LTcuMzE2NTYzTDEuODc2OTYxLS44ODQ2ODJaTTQuMzk5NTAyLTcuMzUyNDI4QzQuNTA3MDk4LTcuNzk0NzcgNC41NTQ5MTktNy44MTg2OCA1LjAyMTE3MS03LjgxODY4SDYuMzM2MjM5QzcuNDYwMDI1LTcuODE4NjggOC40ODgxNjktNy4yMDg5NjYgOC40ODgxNjktNS41NTkxNTNDOC40ODgxNjktNC45NjEzOTUgOC4yNDkwNjYtMi44ODExOTYgNy4wODk0MTUtMS41NjYxMjdDNi43NTQ2Ny0xLjE3MTYwNiA1Ljg0NjA3Ny0uMzQ2NyA0LjQ3MTIzMy0uMzQ2N0gzLjEwODM0NEMyLjk0MDk3MS0uMzQ2NyAyLjkxNzA2MS0uMzQ2NyAyLjg0NTMzLS4zNTg2NTVDMi43MTM4MjMtLjM3MDYxIDIuNzAxODY4LS4zOTQ1MjEgMi43MDE4NjgtLjQ5MDE2MkMyLjcwMTg2OC0uNTczODQ4IDIuNzI1Nzc4LS42NDU1NzkgMi43NDk2ODktLjc1MzE3Nkw0LjM5OTUwMi03LjM1MjQyOFonLz4KPC9kZWZzPgo8ZyBpZD0ncGFnZTEnPgo8cGF0aCBkPSdNLTEyLjAyMzQzOC01Mi4zOTg0TC00OC44NzUtMjEuMjE4N1Y0OS42NDg0SDQ0LjY3MTlMODEuNTIzNCAxOC40Njg3NVYtNTIuMzk4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tNDguODc1LTIxLjIxODdINDQuNjcxOScgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4xOTkyNScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTQ0LjY3MTktMjEuMjE4N0w4MS41MjM0LTUyLjM5ODQnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J000NC42NzE5IDQ5LjY0ODRWLTIxLjIxODcnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tMTIuMDIzNDM4IDE4LjQ2ODc1TC00OC44NzUgNDkuNjQ4NCcgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4xOTkyNScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS1kYXNoYXJyYXk9JzIuOTg4ODMgMi45ODg4MycvPgo8cGF0aCBkPSdNLTEyLjAyMzQzOCAxOC40Njg3NUg4MS41MjM0JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLWRhc2hhcnJheT0nMi45ODg4MyAyLjk4ODgzJy8+CjxwYXRoIGQ9J00tMTIuMDIzNDM4IDE4LjQ2ODc1Vi01Mi4zOTg0JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLWRhc2hhcnJheT0nMi45ODg4MyAyLjk4ODgzJy8+CjxwYXRoIGQ9J00tMTAuMDMxMjUgMTguNDY4NzVDLTEwLjAzMTI1IDE3LjM2NzE5LTEwLjkyMTg4IDE2LjQ3NjU2LTEyLjAyMzQzOCAxNi40NzY1NkMtMTMuMTI1IDE2LjQ3NjU2LTE0LjAxNTYzIDE3LjM2NzE5LTE0LjAxNTYzIDE4LjQ2ODc1Qy0xNC4wMTU2MyAxOS41NjY0MS0xMy4xMjUgMjAuNDYwOTQtMTIuMDIzNDM4IDIwLjQ2MDk0Qy0xMC45MjE4OCAyMC40NjA5NC0xMC4wMzEyNSAxOS41NjY0MS0xMC4wMzEyNSAxOC40Njg3NVonLz4KPHBhdGggZD0nTS0xMC4wMzEyNSAxOC40Njg3NUMtMTAuMDMxMjUgMTcuMzY3MTktMTAuOTIxODggMTYuNDc2NTYtMTIuMDIzNDM4IDE2LjQ3NjU2Qy0xMy4xMjUgMTYuNDc2NTYtMTQuMDE1NjMgMTcuMzY3MTktMTQuMDE1NjMgMTguNDY4NzVDLTE0LjAxNTYzIDE5LjU2NjQxLTEzLjEyNSAyMC40NjA5NC0xMi4wMjM0MzggMjAuNDYwOTRDLTEwLjkyMTg4IDIwLjQ2MDk0LTEwLjAzMTI1IDE5LjU2NjQxLTEwLjAzMTI1IDE4LjQ2ODc1Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTQ2Ljg4MjggNDkuNjQ4NEMtNDYuODgyOCA0OC41NDY5LTQ3Ljc3MzQgNDcuNjU2My00OC44NzUgNDcuNjU2M0MtNDkuOTcyNyA0Ny42NTYzLTUwLjg2NzIgNDguNTQ2OS01MC44NjcyIDQ5LjY0ODRDLTUwLjg2NzIgNTAuNzUtNDkuOTcyNyA1MS42NDA2LTQ4Ljg3NSA1MS42NDA2Qy00Ny43NzM0IDUxLjY0MDYtNDYuODgyOCA1MC43NS00Ni44ODI4IDQ5LjY0ODRaJy8+CjxwYXRoIGQ9J00tNDYuODgyOCA0OS42NDg0Qy00Ni44ODI4IDQ4LjU0NjktNDcuNzczNCA0Ny42NTYzLTQ4Ljg3NSA0Ny42NTYzQy00OS45NzI3IDQ3LjY1NjMtNTAuODY3MiA0OC41NDY5LTUwLjg2NzIgNDkuNjQ4NEMtNTAuODY3MiA1MC43NS00OS45NzI3IDUxLjY0MDYtNDguODc1IDUxLjY0MDZDLTQ3Ljc3MzQgNTEuNjQwNi00Ni44ODI4IDUwLjc1LTQ2Ljg4MjggNDkuNjQ4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTgzLjUxNTYgMTguNDY4NzVDODMuNTE1NiAxNy4zNjcxOSA4Mi42MjExIDE2LjQ3NjU2IDgxLjUyMzQgMTYuNDc2NTZDODAuNDIxOSAxNi40NzY1NiA3OS41MjczIDE3LjM2NzE5IDc5LjUyNzMgMTguNDY4NzVDNzkuNTI3MyAxOS41NjY0MSA4MC40MjE5IDIwLjQ2MDk0IDgxLjUyMzQgMjAuNDYwOTRDODIuNjIxMSAyMC40NjA5NCA4My41MTU2IDE5LjU2NjQxIDgzLjUxNTYgMTguNDY4NzVaJy8+CjxwYXRoIGQ9J004My41MTU2IDE4LjQ2ODc1QzgzLjUxNTYgMTcuMzY3MTkgODIuNjIxMSAxNi40NzY1NiA4MS41MjM0IDE2LjQ3NjU2QzgwLjQyMTkgMTYuNDc2NTYgNzkuNTI3MyAxNy4zNjcxOSA3OS41MjczIDE4LjQ2ODc1Qzc5LjUyNzMgMTkuNTY2NDEgODAuNDIxOSAyMC40NjA5NCA4MS41MjM0IDIwLjQ2MDk0QzgyLjYyMTEgMjAuNDYwOTQgODMuNTE1NiAxOS41NjY0MSA4My41MTU2IDE4LjQ2ODc1Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNNDYuNjY0MSA0OS42NDg0QzQ2LjY2NDEgNDguNTQ2OSA0NS43Njk1IDQ3LjY1NjMgNDQuNjcxOSA0Ny42NTYzQzQzLjU3MDMgNDcuNjU2MyA0Mi42Nzk3IDQ4LjU0NjkgNDIuNjc5NyA0OS42NDg0QzQyLjY3OTcgNTAuNzUgNDMuNTcwMyA1MS42NDA2IDQ0LjY3MTkgNTEuNjQwNkM0NS43Njk1IDUxLjY0MDYgNDYuNjY0MSA1MC43NSA0Ni42NjQxIDQ5LjY0ODRaJy8+CjxwYXRoIGQ9J000Ni42NjQxIDQ5LjY0ODRDNDYuNjY0MSA0OC41NDY5IDQ1Ljc2OTUgNDcuNjU2MyA0NC42NzE5IDQ3LjY1NjNDNDMuNTcwMyA0Ny42NTYzIDQyLjY3OTcgNDguNTQ2OSA0Mi42Nzk3IDQ5LjY0ODRDNDIuNjc5NyA1MC43NSA0My41NzAzIDUxLjY0MDYgNDQuNjcxOSA1MS42NDA2QzQ1Ljc2OTUgNTEuNjQwNiA0Ni42NjQxIDUwLjc1IDQ2LjY2NDEgNDkuNjQ4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTS0xMC4wMzEyNS01Mi4zOTg0Qy0xMC4wMzEyNS01My41LTEwLjkyMTg4LTU0LjM5MDYtMTIuMDIzNDM4LTU0LjM5MDZDLTEzLjEyNS01NC4zOTA2LTE0LjAxNTYzLTUzLjUtMTQuMDE1NjMtNTIuMzk4NEMtMTQuMDE1NjMtNTEuMzAwOC0xMy4xMjUtNTAuNDA2Mi0xMi4wMjM0MzgtNTAuNDA2MkMtMTAuOTIxODgtNTAuNDA2Mi0xMC4wMzEyNS01MS4zMDA4LTEwLjAzMTI1LTUyLjM5ODRaJy8+CjxwYXRoIGQ9J00tMTAuMDMxMjUtNTIuMzk4NEMtMTAuMDMxMjUtNTMuNS0xMC45MjE4OC01NC4zOTA2LTEyLjAyMzQzOC01NC4zOTA2Qy0xMy4xMjUtNTQuMzkwNi0xNC4wMTU2My01My41LTE0LjAxNTYzLTUyLjM5ODRDLTE0LjAxNTYzLTUxLjMwMDgtMTMuMTI1LTUwLjQwNjItMTIuMDIzNDM4LTUwLjQwNjJDLTEwLjkyMTg4LTUwLjQwNjItMTAuMDMxMjUtNTEuMzAwOC0xMC4wMzEyNS01Mi4zOTg0Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTQ2Ljg4MjgtMjEuMjE4N0MtNDYuODgyOC0yMi4zMTY0LTQ3Ljc3MzQtMjMuMjEwOS00OC44NzUtMjMuMjEwOUMtNDkuOTcyNy0yMy4yMTA5LTUwLjg2NzItMjIuMzE2NC01MC44NjcyLTIxLjIxODdDLTUwLjg2NzItMjAuMTE3Mi00OS45NzI3LTE5LjIyNjYtNDguODc1LTE5LjIyNjZDLTQ3Ljc3MzQtMTkuMjI2Ni00Ni44ODI4LTIwLjExNzItNDYuODgyOC0yMS4yMTg3WicvPgo8cGF0aCBkPSdNLTQ2Ljg4MjgtMjEuMjE4N0MtNDYuODgyOC0yMi4zMTY0LTQ3Ljc3MzQtMjMuMjEwOS00OC44NzUtMjMuMjEwOUMtNDkuOTcyNy0yMy4yMTA5LTUwLjg2NzItMjIuMzE2NC01MC44NjcyLTIxLjIxODdDLTUwLjg2NzItMjAuMTE3Mi00OS45NzI3LTE5LjIyNjYtNDguODc1LTE5LjIyNjZDLTQ3Ljc3MzQtMTkuMjI2Ni00Ni44ODI4LTIwLjExNzItNDYuODgyOC0yMS4yMTg3Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNNDYuNjY0MS0yMS4yMTg3QzQ2LjY2NDEtMjIuMzE2NCA0NS43Njk1LTIzLjIxMDkgNDQuNjcxOS0yMy4yMTA5QzQzLjU3MDMtMjMuMjEwOSA0Mi42Nzk3LTIyLjMxNjQgNDIuNjc5Ny0yMS4yMTg3QzQyLjY3OTctMjAuMTE3MiA0My41NzAzLTE5LjIyNjYgNDQuNjcxOS0xOS4yMjY2QzQ1Ljc2OTUtMTkuMjI2NiA0Ni42NjQxLTIwLjExNzIgNDYuNjY0MS0yMS4yMTg3WicvPgo8cGF0aCBkPSdNNDYuNjY0MS0yMS4yMTg3QzQ2LjY2NDEtMjIuMzE2NCA0NS43Njk1LTIzLjIxMDkgNDQuNjcxOS0yMy4yMTA5QzQzLjU3MDMtMjMuMjEwOSA0Mi42Nzk3LTIyLjMxNjQgNDIuNjc5Ny0yMS4yMTg3QzQyLjY3OTctMjAuMTE3MiA0My41NzAzLTE5LjIyNjYgNDQuNjcxOS0xOS4yMjY2QzQ1Ljc2OTUtMTkuMjI2NiA0Ni42NjQxLTIwLjExNzIgNDYuNjY0MS0yMS4yMTg3Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNODMuNTE1Ni01Mi4zOTg0QzgzLjUxNTYtNTMuNSA4Mi42MjExLTU0LjM5MDYgODEuNTIzNC01NC4zOTA2QzgwLjQyMTktNTQuMzkwNiA3OS41MjczLTUzLjUgNzkuNTI3My01Mi4zOTg0Qzc5LjUyNzMtNTEuMzAwOCA4MC40MjE5LTUwLjQwNjIgODEuNTIzNC01MC40MDYyQzgyLjYyMTEtNTAuNDA2MiA4My41MTU2LTUxLjMwMDggODMuNTE1Ni01Mi4zOTg0WicvPgo8cGF0aCBkPSdNODMuNTE1Ni01Mi4zOTg0QzgzLjUxNTYtNTMuNSA4Mi42MjExLTU0LjM5MDYgODEuNTIzNC01NC4zOTA2QzgwLjQyMTktNTQuMzkwNiA3OS41MjczLTUzLjUgNzkuNTI3My01Mi4zOTg0Qzc5LjUyNzMtNTEuMzAwOCA4MC40MjE5LTUwLjQwNjIgODEuNTIzNC01MC40MDYyQzgyLjYyMTEtNTAuNDA2MiA4My41MTU2LTUxLjMwMDggODMuNTE1Ni01Mi4zOTg0Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIC01Ljc4NTMgLTc0Ljk2NyknPgo8dXNlIHg9Jy0xMi4wMjMwNDQnIHk9JzE4LjQ2NzU4MScgeGxpbms6aHJlZj0nI2cxLTY1Jy8+Cjx1c2UgeD0nLTMuMjQ3Njk3JyB5PScxNC4xMjkxNDUnIHhsaW5rOmhyZWY9JyNnMC00OCcvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgODcuMTI0NyAtNzQuOTY3KSc+Cjx1c2UgeD0nLTEyLjAyMzA0NCcgeT0nMTguNDY3NTgxJyB4bGluazpocmVmPScjZzEtNjgnLz4KPHVzZSB4PSctMS45Nzg1NjknIHk9JzE0LjEyOTE0NScgeGxpbms6aHJlZj0nI2cwLTQ4Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSAtNC4zODc3IDEyLjI2OTQpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NScvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTQxLjU5OTEgNDMuNDUxMSknPgo8dXNlIHg9Jy0xMi4wMjMwNDQnIHk9JzE4LjQ2NzU4MScgeGxpbms6aHJlZj0nI2cxLTY2Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSA1Mi4wNzY4IDQzLjQ1MTEpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NycvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTUzLjI0MjQgLTM1LjMwMjIpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NicvPgo8dXNlIHg9Jy0yLjUyNjc4MycgeT0nMTQuMTI5MTQ1JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDYwLjc5MzYgLTM1LjMwMjIpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NycvPgo8dXNlIHg9Jy0yLjc4OTQzMicgeT0nMTQuMTI5MTQ1JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDk3LjY0NDUgNC4wODQ3KSc+Cjx1c2UgeD0nLTEyLjAyMzA0NCcgeT0nMTguNDY3NTgxJyB4bGluazpocmVmPScjZzEtNjgnLz4KPC9nPgo8L2c+Cjwvc3ZnPg==\" class=\"mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm mx-auto my-2\" alt=\"Hình ảnh toán học\">","questionImage":null,"explanation":null,"mappedType":"true-false","statements":[{"statement":"Tọa độ điểm $C'$ là $C'(2; 2; 2)$.","is_correct":true},{"statement":"Vectơ $\\vec{AC}$ có tọa độ là $(2; 2; 0)$.","is_correct":true},{"statement":"Trung điểm $M$ của đoạn $A'B$ có tọa độ $M(1; 0; 1)$.","is_correct":true},{"statement":"Ba điểm $A, C', B'$ thẳng hàng.","is_correct":false}]},{"type":"true-false","main_question":"Trong không gian $Oxyz$, cho hình hộp chữ nhật $ABCD.A'B'C'D'$ với $AB=3$, $AD=4$, $AA'=5$. Hệ trục toạ độ có gốc $A$ trùng với gốc $O$, các tia $Ax, Ay, Az$ lần lượt trùng với các tia $AB, AD, AA'$.<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMC4zIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzE2MC45MzEzNzVwdCcgaGVpZ2h0PScxMjcuMTg0MzlwdCcgdmlld0JveD0nLTY1LjI2NTQ0NCAtNjUuMjY1NzA5IDE2MC45MzEzNzUgMTI3LjE4NDM5Jz4KPGRlZnM+CjxwYXRoIGlkPSdnMC00OCcgZD0nTTIuMTEyMDgtMy43Nzc4MzNDMi4xNTE5My0zLjg4MTQ0NSAyLjE4MzgxMS0zLjkzNzIzNSAyLjE4MzgxMS00LjAxNjkzNkMyLjE4MzgxMS00LjI3OTk1IDEuOTQ0NzA3LTQuNDU1MjkzIDEuNzIxNTQ0LTQuNDU1MjkzQzEuNDAyNzQtNC40NTUyOTMgMS4zMTUwNjgtNC4xNzYzMzkgMS4yODMxODgtNC4wNjQ3NTdMLjI3MDk4NC0uNjI5NjM5Qy4yMzkxMDMtLjUzMzk5OCAuMjM5MTAzLS41MTAwODcgLjIzOTEwMy0uNTAyMTE3Qy4yMzkxMDMtLjQzMDM4NiAuMjg2OTI0LS40MTQ0NDYgLjM2NjYyNS0uMzkwNTM1Qy41MTAwODctLjMyNjc3NSAuNTI2MDI3LS4zMjY3NzUgLjU0MTk2OC0uMzI2Nzc1Qy41NjU4NzgtLjMyNjc3NSAuNjEzNjk5LS4zMjY3NzUgLjY2OTQ4OS0uNDYyMjY3TDIuMTEyMDgtMy43Nzc4MzNaJy8+CjxwYXRoIGlkPSdnMS02NScgZD0nTTIuMDMyMzc5LTEuMzI3MDI0QzEuNjEzOTQ4LS42MjE2NjkgMS4yMDc0NzItLjM4MjU2NSAuNjMzNjI0LS4zNDY3Qy41MDIxMTctLjMzNDc0NSAuNDA2NDc2LS4zMzQ3NDUgLjQwNjQ3Ni0uMTE5NTUyQy40MDY0NzYtLjA0NzgyMSAuNDY2MjUyIDAgLjU0OTkzOCAwQy43NjUxMzEgMCAxLjMwMzExMy0uMDIzOTEgMS41MTgzMDYtLjAyMzkxQzEuODY1MDA2LS4wMjM5MSAyLjI0NzU3MiAwIDIuNTgyMzE2IDBDMi42NTQwNDcgMCAyLjc5NzUwOSAwIDIuNzk3NTA5LS4yMjcxNDhDMi43OTc1MDktLjMzNDc0NSAyLjcwMTg2OC0uMzQ2NyAyLjYzMDEzNy0uMzQ2N0MyLjM1NTE2OC0uMzcwNjEgMi4xMjgwMi0uNDY2MjUyIDIuMTI4MDItLjc1MzE3NkMyLjEyODAyLS45MjA1NDggMi4xOTk3NTEtMS4wNTIwNTUgMi4zNTUxNjgtMS4zMTUwNjhMMy4yNjM3NjEtMi44MjE0Mkg2LjMxMjMyOUM2LjMyNDI4NC0yLjcxMzgyMyA2LjMyNDI4NC0yLjYxODE4MiA2LjMzNjIzOS0yLjUxMDU4NUM2LjM3MjEwNS0yLjE5OTc1MSA2LjUxNTU2Ny0uOTU2NDEzIDYuNTE1NTY3LS43MjkyNjVDNi41MTU1NjctLjM3MDYxIDUuOTA1ODUzLS4zNDY3IDUuNzE0NTctLjM0NjdDNS41ODMwNjQtLjM0NjcgNS40NTE1NTctLjM0NjcgNS40NTE1NTctLjEzMTUwN0M1LjQ1MTU1NyAwIDUuNTU5MTUzIDAgNS42MzA4ODQgMEM1LjgzNDEyMiAwIDYuMDczMjI1LS4wMjM5MSA2LjI3NjQ2My0uMDIzOTFINi45NTc5MDhDNy42ODcxNzMtLjAyMzkxIDguMjEzMiAwIDguMjI1MTU2IDBDOC4zMDg4NDIgMCA4LjQ0MDM0OSAwIDguNDQwMzQ5LS4yMjcxNDhDOC40NDAzNDktLjM0NjcgOC4zMzI3NTItLjM0NjcgOC4xNTM0MjUtLjM0NjdDNy40OTU4OS0uMzQ2NyA3LjQ4MzkzNS0uNDU0Mjk2IDcuNDQ4MDctLjgxMjk1MUw2LjcxODgwNC04LjI3Mjk3NkM2LjY5NDg5NC04LjUxMjA4IDYuNjQ3MDczLTguNTM1OTkgNi41MTU1NjctOC41MzU5OUM2LjM5NjAxNS04LjUzNTk5IDYuMzI0Mjg0LTguNTEyMDggNi4yMTY2ODctOC4zMzI3NTJMMi4wMzIzNzktMS4zMjcwMjRaTTMuNDY2OTk5LTMuMTY4MTJMNS44Njk5ODgtNy4xODUwNTZMNi4yNzY0NjMtMy4xNjgxMkgzLjQ2Njk5OVonLz4KPHBhdGggaWQ9J2cxLTY2JyBkPSdNNC4zNzU1OTItNy4zNTI0MjhDNC40ODMxODgtNy43OTQ3NyA0LjUzMTAwOS03LjgxODY4IDQuOTk3MjYtNy44MTg2OEg2LjU1MTQzMkM3LjkwMjM2Ni03LjgxODY4IDcuOTAyMzY2LTYuNjcwOTg0IDcuOTAyMzY2LTYuNTYzMzg3QzcuOTAyMzY2LTUuNTk1MDE5IDYuOTMzOTk4LTQuMzYzNjM2IDUuMzU1OTE1LTQuMzYzNjM2SDMuNjM0MzcxTDQuMzc1NTkyLTcuMzUyNDI4Wk02LjM5NjAxNS00LjI2Nzk5NUM3LjY5OTEyOC00LjUwNzA5OCA4Ljg4MjY5LTUuNDE1NjkxIDguODgyNjktNi41MTU1NjdDOC44ODI2OS03LjQ0ODA3IDguMDU3NzgzLTguMTY1MzggNi43MDY4NDktOC4xNjUzOEgyLjg2OTI0QzIuNjQyMDkyLTguMTY1MzggMi41MzQ0OTYtOC4xNjUzOCAyLjUzNDQ5Ni03LjkzODIzMkMyLjUzNDQ5Ni03LjgxODY4IDIuNjQyMDkyLTcuODE4NjggMi44MjE0Mi03LjgxODY4QzMuNTUwNjg1LTcuODE4NjggMy41NTA2ODUtNy43MjMwMzkgMy41NTA2ODUtNy41OTE1MzJDMy41NTA2ODUtNy41Njc2MjEgMy41NTA2ODUtNy40OTU4OSAzLjUwMjg2NC03LjMxNjU2M0wxLjg4ODkxNy0uODg0NjgyQzEuNzgxMzItLjQ2NjI1MiAxLjc1NzQxLS4zNDY3IC45MjA1NDgtLjM0NjdDLjY5MzQtLjM0NjcgLjU3Mzg0OC0uMzQ2NyAuNTczODQ4LS4xMzE1MDdDLjU3Mzg0OCAwIC42NDU1NzkgMCAuODg0NjgyIDBINC45ODUzMDVDNi44MTQ0NDYgMCA4LjIyNTE1Ni0xLjM4NjggOC4yMjUxNTYtMi41OTQyNzFDOC4yMjUxNTYtMy41NzQ1OTUgNy4zNjQzODQtNC4xNzIzNTQgNi4zOTYwMTUtNC4yNjc5OTVaTTQuNjk4MzgxLS4zNDY3SDMuMDg0NDMzQzIuOTE3MDYxLS4zNDY3IDIuODkzMTUxLS4zNDY3IDIuODIxNDItLjM1ODY1NUMyLjY4OTkxMy0uMzcwNjEgMi42Nzc5NTgtLjM5NDUyMSAyLjY3Nzk1OC0uNDkwMTYyQzIuNjc3OTU4LS41NzM4NDggMi43MDE4NjgtLjY0NTU3OSAyLjcyNTc3OC0uNzUzMTc2TDMuNTYyNjQtNC4xMjQ1MzNINS44MTAyMTJDNy4yMjA5MjItNC4xMjQ1MzMgNy4yMjA5MjItMi44MDk0NjUgNy4yMjA5MjItMi43MTM4MjNDNy4yMjA5MjItMS41NjYxMjcgNi4xODA4MjItLjM0NjcgNC42OTgzODEtLjM0NjdaJy8+CjxwYXRoIGlkPSdnMS02NycgZD0nTTguOTMwNTExLTguMzA4ODQyQzguOTMwNTExLTguNDE2NDM4IDguODQ2ODI0LTguNDE2NDM4IDguODIyOTE0LTguNDE2NDM4UzguNzUxMTgzLTguNDE2NDM4IDguNjU1NTQyLTguMjk2ODg3TDcuODMwNjM1LTcuMjkyNjUzQzcuNDEyMjA0LTguMDA5OTYzIDYuNzU0NjctOC40MTY0MzggNS44NTgwMzItOC40MTY0MzhDMy4yNzU3MTYtOC40MTY0MzggLjU5Nzc1OC01Ljc5ODI1NyAuNTk3NzU4LTIuOTg4NzkyQy41OTc3NTgtLjk5MjI3OSAxLjk5NjUxMyAuMjUxMDU5IDMuNzQxOTY4IC4yNTEwNTlDNC42OTgzODEgLjI1MTA1OSA1LjUzNTI0My0uMTU1NDE3IDYuMjI4NjQzLS43NDEyMkM3LjI2ODc0Mi0xLjYxMzk0OCA3LjU3OTU3Ny0yLjc3MzU5OSA3LjU3OTU3Ny0yLjg2OTI0QzcuNTc5NTc3LTIuOTc2ODM3IDcuNDgzOTM1LTIuOTc2ODM3IDcuNDQ4MDctMi45NzY4MzdDNy4zNDA0NzMtMi45NzY4MzcgNy4zMjg1MTgtMi45MDUxMDYgNy4zMDQ2MDgtMi44NTcyODVDNi43NTQ2Ny0uOTkyMjc5IDUuMTQwNzIyLS4wOTU2NDEgMy45NDUyMDUtLjA5NTY0MUMyLjY3Nzk1OC0uMDk1NjQxIDEuNTc4MDgyLS45MDg1OTMgMS41NzgwODItMi42MDYyMjdDMS41NzgwODItMi45ODg3OTIgMS42OTc2MzQtNS4wNjg5OTEgMy4wNDg1NjgtNi42MzUxMThDMy43MDYxMDItNy40MDAyNDkgNC44Mjk4ODgtOC4wNjk3MzggNS45NjU2MjktOC4wNjk3MzhDNy4yODA2OTctOC4wNjk3MzggNy44NjY1MDEtNi45ODE4MTggNy44NjY1MDEtNS43NjIzOTFDNy44NjY1MDEtNS40NTE1NTcgNy44MzA2MzUtNS4xODg1NDMgNy44MzA2MzUtNS4xNDA3MjJDNy44MzA2MzUtNS4wMzMxMjYgNy45NTAxODctNS4wMzMxMjYgNy45ODYwNTItNS4wMzMxMjZDOC4xMTc1NTktNS4wMzMxMjYgOC4xMjk1MTQtNS4wNDUwODEgOC4xNzczMzUtNS4yNjAyNzRMOC45MzA1MTEtOC4zMDg4NDJaJy8+CjxwYXRoIGlkPSdnMS02OCcgZD0nTTEuODc2OTYxLS44ODQ2ODJDMS43NjkzNjUtLjQ2NjI1MiAxLjc0NTQ1NS0uMzQ2NyAuOTA4NTkzLS4zNDY3Qy42ODE0NDUtLjM0NjcgLjU2MTg5My0uMzQ2NyAuNTYxODkzLS4xMzE1MDdDLjU2MTg5MyAwIC42MzM2MjQgMCAuODcyNzI3IDBINC42NjI1MTZDNy4wNzc0NiAwIDkuNDMyNjI4LTIuNDk4NjMgOS40MzI2MjgtNS4xNjQ2MzNDOS40MzI2MjgtNi44ODYxNzcgOC40MDQ0ODMtOC4xNjUzOCA2LjY5NDg5NC04LjE2NTM4SDIuODU3Mjg1QzIuNjMwMTM3LTguMTY1MzggMi41MjI1NC04LjE2NTM4IDIuNTIyNTQtNy45MzgyMzJDMi41MjI1NC03LjgxODY4IDIuNjMwMTM3LTcuODE4NjggMi44MDk0NjUtNy44MTg2OEMzLjUzODczLTcuODE4NjggMy41Mzg3My03LjcyMzAzOSAzLjUzODczLTcuNTkxNTMyQzMuNTM4NzMtNy41Njc2MjEgMy41Mzg3My03LjQ5NTg5IDMuNDkwOTA5LTcuMzE2NTYzTDEuODc2OTYxLS44ODQ2ODJaTTQuMzk5NTAyLTcuMzUyNDI4QzQuNTA3MDk4LTcuNzk0NzcgNC41NTQ5MTktNy44MTg2OCA1LjAyMTE3MS03LjgxODY4SDYuMzM2MjM5QzcuNDYwMDI1LTcuODE4NjggOC40ODgxNjktNy4yMDg5NjYgOC40ODgxNjktNS41NTkxNTNDOC40ODgxNjktNC45NjEzOTUgOC4yNDkwNjYtMi44ODExOTYgNy4wODk0MTUtMS41NjYxMjdDNi43NTQ2Ny0xLjE3MTYwNiA1Ljg0NjA3Ny0uMzQ2NyA0LjQ3MTIzMy0uMzQ2N0gzLjEwODM0NEMyLjk0MDk3MS0uMzQ2NyAyLjkxNzA2MS0uMzQ2NyAyLjg0NTMzLS4zNTg2NTVDMi43MTM4MjMtLjM3MDYxIDIuNzAxODY4LS4zOTQ1MjEgMi43MDE4NjgtLjQ5MDE2MkMyLjcwMTg2OC0uNTczODQ4IDIuNzI1Nzc4LS42NDU1NzkgMi43NDk2ODktLjc1MzE3Nkw0LjM5OTUwMi03LjM1MjQyOFonLz4KPC9kZWZzPgo8ZyBpZD0ncGFnZTEnPgo8cGF0aCBkPSdNLTEyLjAyMzQzOC01Mi4zOTg0TC00OC44NzUtMjEuMjE4N1Y0OS42NDg0SDQ0LjY3MTlMODEuNTIzNCAxOC40Njg3NVYtNTIuMzk4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tNDguODc1LTIxLjIxODdINDQuNjcxOScgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4xOTkyNScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTQ0LjY3MTktMjEuMjE4N0w4MS41MjM0LTUyLjM5ODQnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J000NC42NzE5IDQ5LjY0ODRWLTIxLjIxODcnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tMTIuMDIzNDM4IDE4LjQ2ODc1TC00OC44NzUgNDkuNjQ4NCcgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4xOTkyNScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS1kYXNoYXJyYXk9JzIuOTg4ODMgMi45ODg4MycvPgo8cGF0aCBkPSdNLTEyLjAyMzQzOCAxOC40Njg3NUg4MS41MjM0JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLWRhc2hhcnJheT0nMi45ODg4MyAyLjk4ODgzJy8+CjxwYXRoIGQ9J00tMTIuMDIzNDM4IDE4LjQ2ODc1Vi01Mi4zOTg0JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLWRhc2hhcnJheT0nMi45ODg4MyAyLjk4ODgzJy8+CjxwYXRoIGQ9J00tMTAuMDMxMjUgMTguNDY4NzVDLTEwLjAzMTI1IDE3LjM2NzE5LTEwLjkyMTg4IDE2LjQ3NjU2LTEyLjAyMzQzOCAxNi40NzY1NkMtMTMuMTI1IDE2LjQ3NjU2LTE0LjAxNTYzIDE3LjM2NzE5LTE0LjAxNTYzIDE4LjQ2ODc1Qy0xNC4wMTU2MyAxOS41NjY0MS0xMy4xMjUgMjAuNDYwOTQtMTIuMDIzNDM4IDIwLjQ2MDk0Qy0xMC45MjE4OCAyMC40NjA5NC0xMC4wMzEyNSAxOS41NjY0MS0xMC4wMzEyNSAxOC40Njg3NVonLz4KPHBhdGggZD0nTS0xMC4wMzEyNSAxOC40Njg3NUMtMTAuMDMxMjUgMTcuMzY3MTktMTAuOTIxODggMTYuNDc2NTYtMTIuMDIzNDM4IDE2LjQ3NjU2Qy0xMy4xMjUgMTYuNDc2NTYtMTQuMDE1NjMgMTcuMzY3MTktMTQuMDE1NjMgMTguNDY4NzVDLTE0LjAxNTYzIDE5LjU2NjQxLTEzLjEyNSAyMC40NjA5NC0xMi4wMjM0MzggMjAuNDYwOTRDLTEwLjkyMTg4IDIwLjQ2MDk0LTEwLjAzMTI1IDE5LjU2NjQxLTEwLjAzMTI1IDE4LjQ2ODc1Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTQ2Ljg4MjggNDkuNjQ4NEMtNDYuODgyOCA0OC41NDY5LTQ3Ljc3MzQgNDcuNjU2My00OC44NzUgNDcuNjU2M0MtNDkuOTcyNyA0Ny42NTYzLTUwLjg2NzIgNDguNTQ2OS01MC44NjcyIDQ5LjY0ODRDLTUwLjg2NzIgNTAuNzUtNDkuOTcyNyA1MS42NDA2LTQ4Ljg3NSA1MS42NDA2Qy00Ny43NzM0IDUxLjY0MDYtNDYuODgyOCA1MC43NS00Ni44ODI4IDQ5LjY0ODRaJy8+CjxwYXRoIGQ9J00tNDYuODgyOCA0OS42NDg0Qy00Ni44ODI4IDQ4LjU0NjktNDcuNzczNCA0Ny42NTYzLTQ4Ljg3NSA0Ny42NTYzQy00OS45NzI3IDQ3LjY1NjMtNTAuODY3MiA0OC41NDY5LTUwLjg2NzIgNDkuNjQ4NEMtNTAuODY3MiA1MC43NS00OS45NzI3IDUxLjY0MDYtNDguODc1IDUxLjY0MDZDLTQ3Ljc3MzQgNTEuNjQwNi00Ni44ODI4IDUwLjc1LTQ2Ljg4MjggNDkuNjQ4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTgzLjUxNTYgMTguNDY4NzVDODMuNTE1NiAxNy4zNjcxOSA4Mi42MjExIDE2LjQ3NjU2IDgxLjUyMzQgMTYuNDc2NTZDODAuNDIxOSAxNi40NzY1NiA3OS41MjczIDE3LjM2NzE5IDc5LjUyNzMgMTguNDY4NzVDNzkuNTI3MyAxOS41NjY0MSA4MC40MjE5IDIwLjQ2MDk0IDgxLjUyMzQgMjAuNDYwOTRDODIuNjIxMSAyMC40NjA5NCA4My41MTU2IDE5LjU2NjQxIDgzLjUxNTYgMTguNDY4NzVaJy8+CjxwYXRoIGQ9J004My41MTU2IDE4LjQ2ODc1QzgzLjUxNTYgMTcuMzY3MTkgODIuNjIxMSAxNi40NzY1NiA4MS41MjM0IDE2LjQ3NjU2QzgwLjQyMTkgMTYuNDc2NTYgNzkuNTI3MyAxNy4zNjcxOSA3OS41MjczIDE4LjQ2ODc1Qzc5LjUyNzMgMTkuNTY2NDEgODAuNDIxOSAyMC40NjA5NCA4MS41MjM0IDIwLjQ2MDk0QzgyLjYyMTEgMjAuNDYwOTQgODMuNTE1NiAxOS41NjY0MSA4My41MTU2IDE4LjQ2ODc1Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNNDYuNjY0MSA0OS42NDg0QzQ2LjY2NDEgNDguNTQ2OSA0NS43Njk1IDQ3LjY1NjMgNDQuNjcxOSA0Ny42NTYzQzQzLjU3MDMgNDcuNjU2MyA0Mi42Nzk3IDQ4LjU0NjkgNDIuNjc5NyA0OS42NDg0QzQyLjY3OTcgNTAuNzUgNDMuNTcwMyA1MS42NDA2IDQ0LjY3MTkgNTEuNjQwNkM0NS43Njk1IDUxLjY0MDYgNDYuNjY0MSA1MC43NSA0Ni42NjQxIDQ5LjY0ODRaJy8+CjxwYXRoIGQ9J000Ni42NjQxIDQ5LjY0ODRDNDYuNjY0MSA0OC41NDY5IDQ1Ljc2OTUgNDcuNjU2MyA0NC42NzE5IDQ3LjY1NjNDNDMuNTcwMyA0Ny42NTYzIDQyLjY3OTcgNDguNTQ2OSA0Mi42Nzk3IDQ5LjY0ODRDNDIuNjc5NyA1MC43NSA0My41NzAzIDUxLjY0MDYgNDQuNjcxOSA1MS42NDA2QzQ1Ljc2OTUgNTEuNjQwNiA0Ni42NjQxIDUwLjc1IDQ2LjY2NDEgNDkuNjQ4NFonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTS0xMC4wMzEyNS01Mi4zOTg0Qy0xMC4wMzEyNS01My41LTEwLjkyMTg4LTU0LjM5MDYtMTIuMDIzNDM4LTU0LjM5MDZDLTEzLjEyNS01NC4zOTA2LTE0LjAxNTYzLTUzLjUtMTQuMDE1NjMtNTIuMzk4NEMtMTQuMDE1NjMtNTEuMzAwOC0xMy4xMjUtNTAuNDA2Mi0xMi4wMjM0MzgtNTAuNDA2MkMtMTAuOTIxODgtNTAuNDA2Mi0xMC4wMzEyNS01MS4zMDA4LTEwLjAzMTI1LTUyLjM5ODRaJy8+CjxwYXRoIGQ9J00tMTAuMDMxMjUtNTIuMzk4NEMtMTAuMDMxMjUtNTMuNS0xMC45MjE4OC01NC4zOTA2LTEyLjAyMzQzOC01NC4zOTA2Qy0xMy4xMjUtNTQuMzkwNi0xNC4wMTU2My01My41LTE0LjAxNTYzLTUyLjM5ODRDLTE0LjAxNTYzLTUxLjMwMDgtMTMuMTI1LTUwLjQwNjItMTIuMDIzNDM4LTUwLjQwNjJDLTEwLjkyMTg4LTUwLjQwNjItMTAuMDMxMjUtNTEuMzAwOC0xMC4wMzEyNS01Mi4zOTg0Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTQ2Ljg4MjgtMjEuMjE4N0MtNDYuODgyOC0yMi4zMTY0LTQ3Ljc3MzQtMjMuMjEwOS00OC44NzUtMjMuMjEwOUMtNDkuOTcyNy0yMy4yMTA5LTUwLjg2NzItMjIuMzE2NC01MC44NjcyLTIxLjIxODdDLTUwLjg2NzItMjAuMTE3Mi00OS45NzI3LTE5LjIyNjYtNDguODc1LTE5LjIyNjZDLTQ3Ljc3MzQtMTkuMjI2Ni00Ni44ODI4LTIwLjExNzItNDYuODgyOC0yMS4yMTg3WicvPgo8cGF0aCBkPSdNLTQ2Ljg4MjgtMjEuMjE4N0MtNDYuODgyOC0yMi4zMTY0LTQ3Ljc3MzQtMjMuMjEwOS00OC44NzUtMjMuMjEwOUMtNDkuOTcyNy0yMy4yMTA5LTUwLjg2NzItMjIuMzE2NC01MC44NjcyLTIxLjIxODdDLTUwLjg2NzItMjAuMTE3Mi00OS45NzI3LTE5LjIyNjYtNDguODc1LTE5LjIyNjZDLTQ3Ljc3MzQtMTkuMjI2Ni00Ni44ODI4LTIwLjExNzItNDYuODgyOC0yMS4yMTg3Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNNDYuNjY0MS0yMS4yMTg3QzQ2LjY2NDEtMjIuMzE2NCA0NS43Njk1LTIzLjIxMDkgNDQuNjcxOS0yMy4yMTA5QzQzLjU3MDMtMjMuMjEwOSA0Mi42Nzk3LTIyLjMxNjQgNDIuNjc5Ny0yMS4yMTg3QzQyLjY3OTctMjAuMTE3MiA0My41NzAzLTE5LjIyNjYgNDQuNjcxOS0xOS4yMjY2QzQ1Ljc2OTUtMTkuMjI2NiA0Ni42NjQxLTIwLjExNzIgNDYuNjY0MS0yMS4yMTg3WicvPgo8cGF0aCBkPSdNNDYuNjY0MS0yMS4yMTg3QzQ2LjY2NDEtMjIuMzE2NCA0NS43Njk1LTIzLjIxMDkgNDQuNjcxOS0yMy4yMTA5QzQzLjU3MDMtMjMuMjEwOSA0Mi42Nzk3LTIyLjMxNjQgNDIuNjc5Ny0yMS4yMTg3QzQyLjY3OTctMjAuMTE3MiA0My41NzAzLTE5LjIyNjYgNDQuNjcxOS0xOS4yMjY2QzQ1Ljc2OTUtMTkuMjI2NiA0Ni42NjQxLTIwLjExNzIgNDYuNjY0MS0yMS4yMTg3Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNODMuNTE1Ni01Mi4zOTg0QzgzLjUxNTYtNTMuNSA4Mi42MjExLTU0LjM5MDYgODEuNTIzNC01NC4zOTA2QzgwLjQyMTktNTQuMzkwNiA3OS41MjczLTUzLjUgNzkuNTI3My01Mi4zOTg0Qzc5LjUyNzMtNTEuMzAwOCA4MC40MjE5LTUwLjQwNjIgODEuNTIzNC01MC40MDYyQzgyLjYyMTEtNTAuNDA2MiA4My41MTU2LTUxLjMwMDggODMuNTE1Ni01Mi4zOTg0WicvPgo8cGF0aCBkPSdNODMuNTE1Ni01Mi4zOTg0QzgzLjUxNTYtNTMuNSA4Mi42MjExLTU0LjM5MDYgODEuNTIzNC01NC4zOTA2QzgwLjQyMTktNTQuMzkwNiA3OS41MjczLTUzLjUgNzkuNTI3My01Mi4zOTg0Qzc5LjUyNzMtNTEuMzAwOCA4MC40MjE5LTUwLjQwNjIgODEuNTIzNC01MC40MDYyQzgyLjYyMTEtNTAuNDA2MiA4My41MTU2LTUxLjMwMDggODMuNTE1Ni01Mi4zOTg0Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIC01Ljc4NTMgLTc0Ljk2NyknPgo8dXNlIHg9Jy0xMi4wMjMwNDQnIHk9JzE4LjQ2NzU4MScgeGxpbms6aHJlZj0nI2cxLTY1Jy8+Cjx1c2UgeD0nLTMuMjQ3Njk3JyB5PScxNC4xMjkxNDUnIHhsaW5rOmhyZWY9JyNnMC00OCcvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgODcuMTI0NyAtNzQuOTY3KSc+Cjx1c2UgeD0nLTEyLjAyMzA0NCcgeT0nMTguNDY3NTgxJyB4bGluazpocmVmPScjZzEtNjgnLz4KPHVzZSB4PSctMS45Nzg1NjknIHk9JzE0LjEyOTE0NScgeGxpbms6aHJlZj0nI2cwLTQ4Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSAtNC4zODc3IDEyLjI2OTQpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NScvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTQxLjU5OTEgNDMuNDUxMSknPgo8dXNlIHg9Jy0xMi4wMjMwNDQnIHk9JzE4LjQ2NzU4MScgeGxpbms6aHJlZj0nI2cxLTY2Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSA1Mi4wNzY4IDQzLjQ1MTEpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NycvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTUzLjI0MjQgLTM1LjMwMjIpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NicvPgo8dXNlIHg9Jy0yLjUyNjc4MycgeT0nMTQuMTI5MTQ1JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDYwLjc5MzYgLTM1LjMwMjIpJz4KPHVzZSB4PSctMTIuMDIzMDQ0JyB5PScxOC40Njc1ODEnIHhsaW5rOmhyZWY9JyNnMS02NycvPgo8dXNlIHg9Jy0yLjc4OTQzMicgeT0nMTQuMTI5MTQ1JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDk3LjY0NDUgNC4wODQ3KSc+Cjx1c2UgeD0nLTEyLjAyMzA0NCcgeT0nMTguNDY3NTgxJyB4bGluazpocmVmPScjZzEtNjgnLz4KPC9nPgo8L2c+Cjwvc3ZnPg==\" class=\"mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm mx-auto my-2\" alt=\"Hình ảnh toán học\">","questionImage":null,"explanation":null,"mappedType":"true-false","statements":[{"statement":"Tọa độ điểm $B'$ là $B'(3; 0; 5)$.","is_correct":true},{"statement":"Vectơ $\\vec{BD}$ có tọa độ là $(-3; 4; 0)$.","is_correct":true},{"statement":"Tọa độ điểm $K$ sao cho $\\vec{AK} = \\vec{BC} + \\vec{A'D'}$ là $K(0; 8; 0)$.","is_correct":true},{"statement":"Ba điểm $A, C, D'$ tạo thành một tam giác vuông tại $C$.","is_correct":false}]},{"type":"true-false","main_question":"Trong không gian $Oxyz$, cho hình chóp $S.ABC$ có đáy $ABC$ là tam giác vuông cân tại $B$. Biết $BA=BC=3$ và $SA=4$. Hệ trục toạ độ có gốc $B$ trùng với gốc $O$, các tia $Bx, By, Bz$ lần lượt trùng với các tia $BA, BC$ và đường thẳng qua $B$ song song với $SA$. (Chú ý: $SA \\perp (ABC)$).<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMC4zIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzEzOS41OTYyMjNwdCcgaGVpZ2h0PScxNTIuMDk5MzY2cHQnIHZpZXdCb3g9Jy02NS4yNjQ4OTIgLTY1LjI2NTg5OCAxMzkuNTk2MjIzIDE1Mi4wOTkzNjYnPgo8ZGVmcz4KPHBhdGggaWQ9J2cwLTY1JyBkPSdNMi4wMzIzNzktMS4zMjcwMjRDMS42MTM5NDgtLjYyMTY2OSAxLjIwNzQ3Mi0uMzgyNTY1IC42MzM2MjQtLjM0NjdDLjUwMjExNy0uMzM0NzQ1IC40MDY0NzYtLjMzNDc0NSAuNDA2NDc2LS4xMTk1NTJDLjQwNjQ3Ni0uMDQ3ODIxIC40NjYyNTIgMCAuNTQ5OTM4IDBDLjc2NTEzMSAwIDEuMzAzMTEzLS4wMjM5MSAxLjUxODMwNi0uMDIzOTFDMS44NjUwMDYtLjAyMzkxIDIuMjQ3NTcyIDAgMi41ODIzMTYgMEMyLjY1NDA0NyAwIDIuNzk3NTA5IDAgMi43OTc1MDktLjIyNzE0OEMyLjc5NzUwOS0uMzM0NzQ1IDIuNzAxODY4LS4zNDY3IDIuNjMwMTM3LS4zNDY3QzIuMzU1MTY4LS4zNzA2MSAyLjEyODAyLS40NjYyNTIgMi4xMjgwMi0uNzUzMTc2QzIuMTI4MDItLjkyMDU0OCAyLjE5OTc1MS0xLjA1MjA1NSAyLjM1NTE2OC0xLjMxNTA2OEwzLjI2Mzc2MS0yLjgyMTQySDYuMzEyMzI5QzYuMzI0Mjg0LTIuNzEzODIzIDYuMzI0Mjg0LTIuNjE4MTgyIDYuMzM2MjM5LTIuNTEwNTg1QzYuMzcyMTA1LTIuMTk5NzUxIDYuNTE1NTY3LS45NTY0MTMgNi41MTU1NjctLjcyOTI2NUM2LjUxNTU2Ny0uMzcwNjEgNS45MDU4NTMtLjM0NjcgNS43MTQ1Ny0uMzQ2N0M1LjU4MzA2NC0uMzQ2NyA1LjQ1MTU1Ny0uMzQ2NyA1LjQ1MTU1Ny0uMTMxNTA3QzUuNDUxNTU3IDAgNS41NTkxNTMgMCA1LjYzMDg4NCAwQzUuODM0MTIyIDAgNi4wNzMyMjUtLjAyMzkxIDYuMjc2NDYzLS4wMjM5MUg2Ljk1NzkwOEM3LjY4NzE3My0uMDIzOTEgOC4yMTMyIDAgOC4yMjUxNTYgMEM4LjMwODg0MiAwIDguNDQwMzQ5IDAgOC40NDAzNDktLjIyNzE0OEM4LjQ0MDM0OS0uMzQ2NyA4LjMzMjc1Mi0uMzQ2NyA4LjE1MzQyNS0uMzQ2N0M3LjQ5NTg5LS4zNDY3IDcuNDgzOTM1LS40NTQyOTYgNy40NDgwNy0uODEyOTUxTDYuNzE4ODA0LTguMjcyOTc2QzYuNjk0ODk0LTguNTEyMDggNi42NDcwNzMtOC41MzU5OSA2LjUxNTU2Ny04LjUzNTk5QzYuMzk2MDE1LTguNTM1OTkgNi4zMjQyODQtOC41MTIwOCA2LjIxNjY4Ny04LjMzMjc1MkwyLjAzMjM3OS0xLjMyNzAyNFpNMy40NjY5OTktMy4xNjgxMkw1Ljg2OTk4OC03LjE4NTA1Nkw2LjI3NjQ2My0zLjE2ODEySDMuNDY2OTk5WicvPgo8cGF0aCBpZD0nZzAtNjYnIGQ9J000LjM3NTU5Mi03LjM1MjQyOEM0LjQ4MzE4OC03Ljc5NDc3IDQuNTMxMDA5LTcuODE4NjggNC45OTcyNi03LjgxODY4SDYuNTUxNDMyQzcuOTAyMzY2LTcuODE4NjggNy45MDIzNjYtNi42NzA5ODQgNy45MDIzNjYtNi41NjMzODdDNy45MDIzNjYtNS41OTUwMTkgNi45MzM5OTgtNC4zNjM2MzYgNS4zNTU5MTUtNC4zNjM2MzZIMy42MzQzNzFMNC4zNzU1OTItNy4zNTI0MjhaTTYuMzk2MDE1LTQuMjY3OTk1QzcuNjk5MTI4LTQuNTA3MDk4IDguODgyNjktNS40MTU2OTEgOC44ODI2OS02LjUxNTU2N0M4Ljg4MjY5LTcuNDQ4MDcgOC4wNTc3ODMtOC4xNjUzOCA2LjcwNjg0OS04LjE2NTM4SDIuODY5MjRDMi42NDIwOTItOC4xNjUzOCAyLjUzNDQ5Ni04LjE2NTM4IDIuNTM0NDk2LTcuOTM4MjMyQzIuNTM0NDk2LTcuODE4NjggMi42NDIwOTItNy44MTg2OCAyLjgyMTQyLTcuODE4NjhDMy41NTA2ODUtNy44MTg2OCAzLjU1MDY4NS03LjcyMzAzOSAzLjU1MDY4NS03LjU5MTUzMkMzLjU1MDY4NS03LjU2NzYyMSAzLjU1MDY4NS03LjQ5NTg5IDMuNTAyODY0LTcuMzE2NTYzTDEuODg4OTE3LS44ODQ2ODJDMS43ODEzMi0uNDY2MjUyIDEuNzU3NDEtLjM0NjcgLjkyMDU0OC0uMzQ2N0MuNjkzNC0uMzQ2NyAuNTczODQ4LS4zNDY3IC41NzM4NDgtLjEzMTUwN0MuNTczODQ4IDAgLjY0NTU3OSAwIC44ODQ2ODIgMEg0Ljk4NTMwNUM2LjgxNDQ0NiAwIDguMjI1MTU2LTEuMzg2OCA4LjIyNTE1Ni0yLjU5NDI3MUM4LjIyNTE1Ni0zLjU3NDU5NSA3LjM2NDM4NC00LjE3MjM1NCA2LjM5NjAxNS00LjI2Nzk5NVpNNC42OTgzODEtLjM0NjdIMy4wODQ0MzNDMi45MTcwNjEtLjM0NjcgMi44OTMxNTEtLjM0NjcgMi44MjE0Mi0uMzU4NjU1QzIuNjg5OTEzLS4zNzA2MSAyLjY3Nzk1OC0uMzk0NTIxIDIuNjc3OTU4LS40OTAxNjJDMi42Nzc5NTgtLjU3Mzg0OCAyLjcwMTg2OC0uNjQ1NTc5IDIuNzI1Nzc4LS43NTMxNzZMMy41NjI2NC00LjEyNDUzM0g1LjgxMDIxMkM3LjIyMDkyMi00LjEyNDUzMyA3LjIyMDkyMi0yLjgwOTQ2NSA3LjIyMDkyMi0yLjcxMzgyM0M3LjIyMDkyMi0xLjU2NjEyNyA2LjE4MDgyMi0uMzQ2NyA0LjY5ODM4MS0uMzQ2N1onLz4KPHBhdGggaWQ9J2cwLTY3JyBkPSdNOC45MzA1MTEtOC4zMDg4NDJDOC45MzA1MTEtOC40MTY0MzggOC44NDY4MjQtOC40MTY0MzggOC44MjI5MTQtOC40MTY0MzhTOC43NTExODMtOC40MTY0MzggOC42NTU1NDItOC4yOTY4ODdMNy44MzA2MzUtNy4yOTI2NTNDNy40MTIyMDQtOC4wMDk5NjMgNi43NTQ2Ny04LjQxNjQzOCA1Ljg1ODAzMi04LjQxNjQzOEMzLjI3NTcxNi04LjQxNjQzOCAuNTk3NzU4LTUuNzk4MjU3IC41OTc3NTgtMi45ODg3OTJDLjU5Nzc1OC0uOTkyMjc5IDEuOTk2NTEzIC4yNTEwNTkgMy43NDE5NjggLjI1MTA1OUM0LjY5ODM4MSAuMjUxMDU5IDUuNTM1MjQzLS4xNTU0MTcgNi4yMjg2NDMtLjc0MTIyQzcuMjY4NzQyLTEuNjEzOTQ4IDcuNTc5NTc3LTIuNzczNTk5IDcuNTc5NTc3LTIuODY5MjRDNy41Nzk1NzctMi45NzY4MzcgNy40ODM5MzUtMi45NzY4MzcgNy40NDgwNy0yLjk3NjgzN0M3LjM0MDQ3My0yLjk3NjgzNyA3LjMyODUxOC0yLjkwNTEwNiA3LjMwNDYwOC0yLjg1NzI4NUM2Ljc1NDY3LS45OTIyNzkgNS4xNDA3MjItLjA5NTY0MSAzLjk0NTIwNS0uMDk1NjQxQzIuNjc3OTU4LS4wOTU2NDEgMS41NzgwODItLjkwODU5MyAxLjU3ODA4Mi0yLjYwNjIyN0MxLjU3ODA4Mi0yLjk4ODc5MiAxLjY5NzYzNC01LjA2ODk5MSAzLjA0ODU2OC02LjYzNTExOEMzLjcwNjEwMi03LjQwMDI0OSA0LjgyOTg4OC04LjA2OTczOCA1Ljk2NTYyOS04LjA2OTczOEM3LjI4MDY5Ny04LjA2OTczOCA3Ljg2NjUwMS02Ljk4MTgxOCA3Ljg2NjUwMS01Ljc2MjM5MUM3Ljg2NjUwMS01LjQ1MTU1NyA3LjgzMDYzNS01LjE4ODU0MyA3LjgzMDYzNS01LjE0MDcyMkM3LjgzMDYzNS01LjAzMzEyNiA3Ljk1MDE4Ny01LjAzMzEyNiA3Ljk4NjA1Mi01LjAzMzEyNkM4LjExNzU1OS01LjAzMzEyNiA4LjEyOTUxNC01LjA0NTA4MSA4LjE3NzMzNS01LjI2MDI3NEw4LjkzMDUxMS04LjMwODg0MlonLz4KPHBhdGggaWQ9J2cwLTgzJyBkPSdNNy41OTE1MzItOC4zMDg4NDJDNy41OTE1MzItOC40MTY0MzggNy41MDc4NDYtOC40MTY0MzggNy40ODM5MzUtOC40MTY0MzhDNy40MzYxMTUtOC40MTY0MzggNy40MjQxNTktOC40MDQ0ODMgNy4yODA2OTctOC4yMjUxNTZDNy4yMDg5NjYtOC4xNDE0NjkgNi43MTg4MDQtNy41MTk4MDEgNi43MDY4NDktNy41MDc4NDZDNi4zMTIzMjktOC4yODQ5MzIgNS41MjMyODgtOC40MTY0MzggNS4wMjExNzEtOC40MTY0MzhDMy41MDI4NjQtOC40MTY0MzggMi4xMjgwMi03LjAyOTYzOSAyLjEyODAyLTUuNjc4NzA1QzIuMTI4MDItNC43ODIwNjcgMi42NjYwMDItNC4yNTYwNCAzLjI1MTgwNi00LjA1MjgwMkMzLjM4MzMxMy00LjAwNDk4MSA0LjA4ODY2Ny0zLjgxMzY5OSA0LjQ0NzMyMy0zLjczMDAxMkM1LjA1NzAzNi0zLjU2MjY0IDUuMjEyNDUzLTMuNTE0ODE5IDUuNDYzNTEyLTMuMjUxODA2QzUuNTExMzMzLTMuMTkyMDMgNS43NTA0MzYtMi45MTcwNjEgNS43NTA0MzYtMi4zNTUxNjhDNS43NTA0MzYtMS4yNDMzMzcgNC43MjIyOTEtLjA5NTY0MSAzLjUyNjc3NS0uMDk1NjQxQzIuNTQ2NDUxLS4wOTU2NDEgMS40NTg1MzEtLjUxNDA3MiAxLjQ1ODUzMS0xLjg1MzA1MUMxLjQ1ODUzMS0yLjA4MDE5OSAxLjUwNjM1MS0yLjM2NzEyMyAxLjU0MjIxNy0yLjQ4NjY3NUMxLjU0MjIxNy0yLjUyMjU0IDEuNTU0MTcyLTIuNTgyMzE2IDEuNTU0MTcyLTIuNjA2MjI3QzEuNTU0MTcyLTIuNjU0MDQ3IDEuNTMwMjYyLTIuNzEzODIzIDEuNDM0NjItMi43MTM4MjNDMS4zMjcwMjQtMi43MTM4MjMgMS4zMTUwNjgtMi42ODk5MTMgMS4yNjcyNDgtMi40ODY2NzVMLjY1NzUzNC0uMDM1ODY2Qy42NTc1MzQtLjAyMzkxIC42MDk3MTQgLjEzMTUwNyAuNjA5NzE0IC4xNDM0NjJDLjYwOTcxNCAuMjUxMDU5IC43MDUzNTUgLjI1MTA1OSAuNzI5MjY1IC4yNTEwNTlDLjc3NzA4NiAuMjUxMDU5IC43ODkwNDEgLjIzOTEwMyAuOTMyNTAzIC4wNTk3NzZMMS40ODI0NDEtLjY1NzUzNEMxLjc2OTM2NS0uMjI3MTQ4IDIuMzkxMDM0IC4yNTEwNTkgMy41MDI4NjQgLjI1MTA1OUM1LjA0NTA4MSAuMjUxMDU5IDYuNDU1NzkxLTEuMjQzMzM3IDYuNDU1NzkxLTIuNzM3NzMzQzYuNDU1NzkxLTMuMjM5ODUxIDYuMzM2MjM5LTMuNjgyMTkyIDUuODgxOTQzLTQuMTI0NTMzQzUuNjMwODg0LTQuMzc1NTkyIDUuNDE1NjkxLTQuNDM1MzY3IDQuMzE1ODE2LTQuNzIyMjkxQzMuNTE0ODE5LTQuOTM3NDg0IDMuNDA3MjIzLTQuOTczMzUgMy4xOTIwMy01LjE2NDYzM0MyLjk4ODc5Mi01LjM2Nzg3IDIuODMzMzc1LTUuNjU0Nzk1IDIuODMzMzc1LTYuMDYxMjdDMi44MzMzNzUtNy4wNjU1MDQgMy44NDk1NjQtOC4wOTM2NDkgNC45ODUzMDUtOC4wOTM2NDlDNi4xNTY5MTItOC4wOTM2NDkgNi43MDY4NDktNy4zNzYzMzkgNi43MDY4NDktNi4yNDA1OThDNi43MDY4NDktNS45Mjk3NjMgNi42NDcwNzMtNS42MDY5NzQgNi42NDcwNzMtNS41NTkxNTNDNi42NDcwNzMtNS40NTE1NTcgNi43NDI3MTUtNS40NTE1NTcgNi43Nzg1OC01LjQ1MTU1N0M2Ljg4NjE3Ny01LjQ1MTU1NyA2Ljg5ODEzMi01LjQ4NzQyMiA2Ljk0NTk1My01LjY3ODcwNUw3LjU5MTUzMi04LjMwODg0MlonLz4KPC9kZWZzPgo8ZyBpZD0ncGFnZTEnPgo8cGF0aCBkPSdNLTUyLjM5MDYyNS01Mi45OTYxVjMyLjA0Mjk2OUwtMTguMzc1IDc0LjU2MjVMNjAuOTk2NSAzMi4wNDI5NjlaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTUyLjM5MDYyNS01Mi45OTYxTC0xOC4zNzUgNzQuNTYyNScgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4xOTkyNScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTS01Mi4zOTA2MjUgMzIuMDQyOTY5SDYwLjk5NjUnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2UtZGFzaGFycmF5PScyLjk4ODgzIDIuOTg4ODMnLz4KPHBhdGggZD0nTS01MC4zOTg0NCAzMi4wNDI5NjlDLTUwLjM5ODQ0IDMwLjk0NTMxLTUxLjI4OTA2IDMwLjA1MDc4LTUyLjM5MDYyNSAzMC4wNTA3OEMtNTMuNDg4MjggMzAuMDUwNzgtNTQuMzgyODEgMzAuOTQ1MzEtNTQuMzgyODEgMzIuMDQyOTY5Qy01NC4zODI4MSAzMy4xNDQ1My01My40ODgyOCAzNC4wMzUxNi01Mi4zOTA2MjUgMzQuMDM1MTZDLTUxLjI4OTA2IDM0LjAzNTE2LTUwLjM5ODQ0IDMzLjE0NDUzLTUwLjM5ODQ0IDMyLjA0Mjk2OVonLz4KPHBhdGggZD0nTS01MC4zOTg0NCAzMi4wNDI5NjlDLTUwLjM5ODQ0IDMwLjk0NTMxLTUxLjI4OTA2IDMwLjA1MDc4LTUyLjM5MDYyNSAzMC4wNTA3OEMtNTMuNDg4MjggMzAuMDUwNzgtNTQuMzgyODEgMzAuOTQ1MzEtNTQuMzgyODEgMzIuMDQyOTY5Qy01NC4zODI4MSAzMy4xNDQ1My01My40ODgyOCAzNC4wMzUxNi01Mi4zOTA2MjUgMzQuMDM1MTZDLTUxLjI4OTA2IDM0LjAzNTE2LTUwLjM5ODQ0IDMzLjE0NDUzLTUwLjM5ODQ0IDMyLjA0Mjk2OVonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTS0xNi4zNzg5IDc0LjU2MjVDLTE2LjM3ODkgNzMuNDY0OC0xNy4yNzM0IDcyLjU3MDMtMTguMzc1IDcyLjU3MDNDLTE5LjQ3MjcgNzIuNTcwMy0yMC4zNjcyIDczLjQ2NDgtMjAuMzY3MiA3NC41NjI1Qy0yMC4zNjcyIDc1LjY2NDEtMTkuNDcyNyA3Ni41NTg2LTE4LjM3NSA3Ni41NTg2Qy0xNy4yNzM0IDc2LjU1ODYtMTYuMzc4OSA3NS42NjQxLTE2LjM3ODkgNzQuNTYyNVonLz4KPHBhdGggZD0nTS0xNi4zNzg5IDc0LjU2MjVDLTE2LjM3ODkgNzMuNDY0OC0xNy4yNzM0IDcyLjU3MDMtMTguMzc1IDcyLjU3MDNDLTE5LjQ3MjcgNzIuNTcwMy0yMC4zNjcyIDczLjQ2NDgtMjAuMzY3MiA3NC41NjI1Qy0yMC4zNjcyIDc1LjY2NDEtMTkuNDcyNyA3Ni41NTg2LTE4LjM3NSA3Ni41NTg2Qy0xNy4yNzM0IDc2LjU1ODYtMTYuMzc4OSA3NS42NjQxLTE2LjM3ODkgNzQuNTYyNVonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTTYyLjk5MjUgMzIuMDQyOTY5QzYyLjk5MjUgMzAuOTQ1MzEgNjIuMDk3NSAzMC4wNTA3OCA2MC45OTY1IDMwLjA1MDc4QzU5Ljg5ODUgMzAuMDUwNzggNTkuMDAzNSAzMC45NDUzMSA1OS4wMDM1IDMyLjA0Mjk2OUM1OS4wMDM1IDMzLjE0NDUzIDU5Ljg5ODUgMzQuMDM1MTYgNjAuOTk2NSAzNC4wMzUxNkM2Mi4wOTc1IDM0LjAzNTE2IDYyLjk5MjUgMzMuMTQ0NTMgNjIuOTkyNSAzMi4wNDI5NjlaJy8+CjxwYXRoIGQ9J002Mi45OTI1IDMyLjA0Mjk2OUM2Mi45OTI1IDMwLjk0NTMxIDYyLjA5NzUgMzAuMDUwNzggNjAuOTk2NSAzMC4wNTA3OEM1OS44OTg1IDMwLjA1MDc4IDU5LjAwMzUgMzAuOTQ1MzEgNTkuMDAzNSAzMi4wNDI5NjlDNTkuMDAzNSAzMy4xNDQ1MyA1OS44OTg1IDM0LjAzNTE2IDYwLjk5NjUgMzQuMDM1MTZDNjIuMDk3NSAzNC4wMzUxNiA2Mi45OTI1IDMzLjE0NDUzIDYyLjk5MjUgMzIuMDQyOTY5Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTUwLjM5ODQ0LTUyLjk5NjFDLTUwLjM5ODQ0LTU0LjA5NzctNTEuMjg5MDYtNTQuOTg4My01Mi4zOTA2MjUtNTQuOTg4M0MtNTMuNDg4MjgtNTQuOTg4My01NC4zODI4MS01NC4wOTc3LTU0LjM4MjgxLTUyLjk5NjFTLTUzLjQ4ODI4LTUxLjAwMzktNTIuMzkwNjI1LTUxLjAwMzlDLTUxLjI4OTA2LTUxLjAwMzktNTAuMzk4NDQtNTEuODk0NS01MC4zOTg0NC01Mi45OTYxWicvPgo8cGF0aCBkPSdNLTUwLjM5ODQ0LTUyLjk5NjFDLTUwLjM5ODQ0LTU0LjA5NzctNTEuMjg5MDYtNTQuOTg4My01Mi4zOTA2MjUtNTQuOTg4M0MtNTMuNDg4MjgtNTQuOTg4My01NC4zODI4MS01NC4wOTc3LTU0LjM4MjgxLTUyLjk5NjFTLTUzLjQ4ODI4LTUxLjAwMzktNTIuMzkwNjI1LTUxLjAwMzlDLTUxLjI4OTA2LTUxLjAwMzktNTAuMzk4NDQtNTEuODk0NS01MC4zOTg0NC01Mi45OTYxWicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTUyLjM5MDYyNSAzMi4wNDI5NjlWMjcuNTA3ODFMLTQ5LjU1NDY5IDMxLjA1MDc4MlYzNS41ODU5NEwtNTIuMzkwNjI1IDMyLjA0Mjk2OScgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTUyLjM5MDYyNSAzMi4wNDI5NjlWMjcuNTA3ODFILTQ3Ljg1NTQ3VjMyLjA0Mjk2OUgtNTIuMzkwNjI1JyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTMuOTQ3NyAtODkuMTQwNCknPgo8dXNlIHg9Jy01Mi4zODk0OTInIHk9JzMyLjA0Mzg2NycgeGxpbms6aHJlZj0nI2cwLTgzJy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSAyOS4yNjc5IDU0Ljc4OTYpJz4KPHVzZSB4PSctNTIuMzg5NDkyJyB5PSczMi4wNDM4NjcnIHhsaW5rOmhyZWY9JyNnMC02NicvPgo8L2c+CjxnIHRyYW5zZm9ybT0nbWF0cml4KDEgMCAwIDEgLTEyLjg3NTQgNC4wODQ3KSc+Cjx1c2UgeD0nLTUyLjM4OTQ5MicgeT0nMzIuMDQzODY3JyB4bGluazpocmVmPScjZzAtNjUnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDExNy40ODcyIDQuMDg0NyknPgo8dXNlIHg9Jy01Mi4zODk0OTInIHk9JzMyLjA0Mzg2NycgeGxpbms6aHJlZj0nI2cwLTY3Jy8+CjwvZz4KPC9nPgo8L3N2Zz4=\" class=\"mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm mx-auto my-2\" alt=\"Hình ảnh toán học\">","questionImage":null,"explanation":null,"mappedType":"true-false","statements":[{"statement":"Tọa độ điểm $C$ là $C(0; 3; 0)$.","is_correct":true},{"statement":"Vectơ $\\vec{SC}$ có tọa độ là $(-3; 3; -4)$.","is_correct":true},{"statement":"Điểm $M$ trên cạnh $AC$ sao cho $AM = 2MC$ có tọa độ $M(2; 1; 0)$.","is_correct":false},{"statement":"Tích vô hướng của hai vectơ $\\vec{SA}$ và $\\vec{BC}$ bằng $0$.","is_correct":true}]},{"type":"true-false","main_question":"Trong không gian $Oxyz$, cho hình lăng trụ đứng $ABC.A'B'C'$ có đáy $ABC$ là tam giác đều cạnh $4$. Chiều cao lăng trụ $AA'=3$. Hệ trục toạ độ có gốc $A$ trùng với gốc $O$, tia $Ax$ trùng với tia $AB$, tia $Ay$ nằm trong mặt phẳng $ABC$ và vuông góc với $AB$, tia $Az$ trùng với tia $AA'$.<img src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPCEtLSBUaGlzIGZpbGUgd2FzIGdlbmVyYXRlZCBieSBkdmlzdmdtIDMuMC4zIC0tPgo8c3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgd2lkdGg9JzEzMC41MTQ4NTZwdCcgaGVpZ2h0PScxNDkuODgyMzlwdCcgdmlld0JveD0nLTY1LjI2NDkwMSAtNjUuMjY1ODI5IDEzMC41MTQ4NTYgMTQ5Ljg4MjM5Jz4KPGRlZnM+CjxwYXRoIGlkPSdnMC00OCcgZD0nTTIuMTEyMDgtMy43Nzc4MzNDMi4xNTE5My0zLjg4MTQ0NSAyLjE4MzgxMS0zLjkzNzIzNSAyLjE4MzgxMS00LjAxNjkzNkMyLjE4MzgxMS00LjI3OTk1IDEuOTQ0NzA3LTQuNDU1MjkzIDEuNzIxNTQ0LTQuNDU1MjkzQzEuNDAyNzQtNC40NTUyOTMgMS4zMTUwNjgtNC4xNzYzMzkgMS4yODMxODgtNC4wNjQ3NTdMLjI3MDk4NC0uNjI5NjM5Qy4yMzkxMDMtLjUzMzk5OCAuMjM5MTAzLS41MTAwODcgLjIzOTEwMy0uNTAyMTE3Qy4yMzkxMDMtLjQzMDM4NiAuMjg2OTI0LS40MTQ0NDYgLjM2NjYyNS0uMzkwNTM1Qy41MTAwODctLjMyNjc3NSAuNTI2MDI3LS4zMjY3NzUgLjU0MTk2OC0uMzI2Nzc1Qy41NjU4NzgtLjMyNjc3NSAuNjEzNjk5LS4zMjY3NzUgLjY2OTQ4OS0uNDYyMjY3TDIuMTEyMDgtMy43Nzc4MzNaJy8+CjxwYXRoIGlkPSdnMS02NScgZD0nTTIuMDMyMzc5LTEuMzI3MDI0QzEuNjEzOTQ4LS42MjE2NjkgMS4yMDc0NzItLjM4MjU2NSAuNjMzNjI0LS4zNDY3Qy41MDIxMTctLjMzNDc0NSAuNDA2NDc2LS4zMzQ3NDUgLjQwNjQ3Ni0uMTE5NTUyQy40MDY0NzYtLjA0NzgyMSAuNDY2MjUyIDAgLjU0OTkzOCAwQy43NjUxMzEgMCAxLjMwMzExMy0uMDIzOTEgMS41MTgzMDYtLjAyMzkxQzEuODY1MDA2LS4wMjM5MSAyLjI0NzU3MiAwIDIuNTgyMzE2IDBDMi42NTQwNDcgMCAyLjc5NzUwOSAwIDIuNzk3NTA5LS4yMjcxNDhDMi43OTc1MDktLjMzNDc0NSAyLjcwMTg2OC0uMzQ2NyAyLjYzMDEzNy0uMzQ2N0MyLjM1NTE2OC0uMzcwNjEgMi4xMjgwMi0uNDY2MjUyIDIuMTI4MDItLjc1MzE3NkMyLjEyODAyLS45MjA1NDggMi4xOTk3NTEtMS4wNTIwNTUgMi4zNTUxNjgtMS4zMTUwNjhMMy4yNjM3NjEtMi44MjE0Mkg2LjMxMjMyOUM2LjMyNDI4NC0yLjcxMzgyMyA2LjMyNDI4NC0yLjYxODE4MiA2LjMzNjIzOS0yLjUxMDU4NUM2LjM3MjEwNS0yLjE5OTc1MSA2LjUxNTU2Ny0uOTU2NDEzIDYuNTE1NTY3LS43MjkyNjVDNi41MTU1NjctLjM3MDYxIDUuOTA1ODUzLS4zNDY3IDUuNzE0NTctLjM0NjdDNS41ODMwNjQtLjM0NjcgNS40NTE1NTctLjM0NjcgNS40NTE1NTctLjEzMTUwN0M1LjQ1MTU1NyAwIDUuNTU5MTUzIDAgNS42MzA4ODQgMEM1LjgzNDEyMiAwIDYuMDczMjI1LS4wMjM5MSA2LjI3NjQ2My0uMDIzOTFINi45NTc5MDhDNy42ODcxNzMtLjAyMzkxIDguMjEzMiAwIDguMjI1MTU2IDBDOC4zMDg4NDIgMCA4LjQ0MDM0OSAwIDguNDQwMzQ5LS4yMjcxNDhDOC40NDAzNDktLjM0NjcgOC4zMzI3NTItLjM0NjcgOC4xNTM0MjUtLjM0NjdDNy40OTU4OS0uMzQ2NyA3LjQ4MzkzNS0uNDU0Mjk2IDcuNDQ4MDctLjgxMjk1MUw2LjcxODgwNC04LjI3Mjk3NkM2LjY5NDg5NC04LjUxMjA4IDYuNjQ3MDczLTguNTM1OTkgNi41MTU1NjctOC41MzU5OUM2LjM5NjAxNS04LjUzNTk5IDYuMzI0Mjg0LTguNTEyMDggNi4yMTY2ODctOC4zMzI3NTJMMi4wMzIzNzktMS4zMjcwMjRaTTMuNDY2OTk5LTMuMTY4MTJMNS44Njk5ODgtNy4xODUwNTZMNi4yNzY0NjMtMy4xNjgxMkgzLjQ2Njk5OVonLz4KPHBhdGggaWQ9J2cxLTY2JyBkPSdNNC4zNzU1OTItNy4zNTI0MjhDNC40ODMxODgtNy43OTQ3NyA0LjUzMTAwOS03LjgxODY4IDQuOTk3MjYtNy44MTg2OEg2LjU1MTQzMkM3LjkwMjM2Ni03LjgxODY4IDcuOTAyMzY2LTYuNjcwOTg0IDcuOTAyMzY2LTYuNTYzMzg3QzcuOTAyMzY2LTUuNTk1MDE5IDYuOTMzOTk4LTQuMzYzNjM2IDUuMzU1OTE1LTQuMzYzNjM2SDMuNjM0MzcxTDQuMzc1NTkyLTcuMzUyNDI4Wk02LjM5NjAxNS00LjI2Nzk5NUM3LjY5OTEyOC00LjUwNzA5OCA4Ljg4MjY5LTUuNDE1NjkxIDguODgyNjktNi41MTU1NjdDOC44ODI2OS03LjQ0ODA3IDguMDU3NzgzLTguMTY1MzggNi43MDY4NDktOC4xNjUzOEgyLjg2OTI0QzIuNjQyMDkyLTguMTY1MzggMi41MzQ0OTYtOC4xNjUzOCAyLjUzNDQ5Ni03LjkzODIzMkMyLjUzNDQ5Ni03LjgxODY4IDIuNjQyMDkyLTcuODE4NjggMi44MjE0Mi03LjgxODY4QzMuNTUwNjg1LTcuODE4NjggMy41NTA2ODUtNy43MjMwMzkgMy41NTA2ODUtNy41OTE1MzJDMy41NTA2ODUtNy41Njc2MjEgMy41NTA2ODUtNy40OTU4OSAzLjUwMjg2NC03LjMxNjU2M0wxLjg4ODkxNy0uODg0NjgyQzEuNzgxMzItLjQ2NjI1MiAxLjc1NzQxLS4zNDY3IC45MjA1NDgtLjM0NjdDLjY5MzQtLjM0NjcgLjU3Mzg0OC0uMzQ2NyAuNTczODQ4LS4xMzE1MDdDLjU3Mzg0OCAwIC42NDU1NzkgMCAuODg0NjgyIDBINC45ODUzMDVDNi44MTQ0NDYgMCA4LjIyNTE1Ni0xLjM4NjggOC4yMjUxNTYtMi41OTQyNzFDOC4yMjUxNTYtMy41NzQ1OTUgNy4zNjQzODQtNC4xNzIzNTQgNi4zOTYwMTUtNC4yNjc5OTVaTTQuNjk4MzgxLS4zNDY3SDMuMDg0NDMzQzIuOTE3MDYxLS4zNDY3IDIuODkzMTUxLS4zNDY3IDIuODIxNDItLjM1ODY1NUMyLjY4OTkxMy0uMzcwNjEgMi42Nzc5NTgtLjM5NDUyMSAyLjY3Nzk1OC0uNDkwMTYyQzIuNjc3OTU4LS41NzM4NDggMi43MDE4NjgtLjY0NTU3OSAyLjcyNTc3OC0uNzUzMTc2TDMuNTYyNjQtNC4xMjQ1MzNINS44MTAyMTJDNy4yMjA5MjItNC4xMjQ1MzMgNy4yMjA5MjItMi44MDk0NjUgNy4yMjA5MjItMi43MTM4MjNDNy4yMjA5MjItMS41NjYxMjcgNi4xODA4MjItLjM0NjcgNC42OTgzODEtLjM0NjdaJy8+CjxwYXRoIGlkPSdnMS02NycgZD0nTTguOTMwNTExLTguMzA4ODQyQzguOTMwNTExLTguNDE2NDM4IDguODQ2ODI0LTguNDE2NDM4IDguODIyOTE0LTguNDE2NDM4UzguNzUxMTgzLTguNDE2NDM4IDguNjU1NTQyLTguMjk2ODg3TDcuODMwNjM1LTcuMjkyNjUzQzcuNDEyMjA0LTguMDA5OTYzIDYuNzU0NjctOC40MTY0MzggNS44NTgwMzItOC40MTY0MzhDMy4yNzU3MTYtOC40MTY0MzggLjU5Nzc1OC01Ljc5ODI1NyAuNTk3NzU4LTIuOTg4NzkyQy41OTc3NTgtLjk5MjI3OSAxLjk5NjUxMyAuMjUxMDU5IDMuNzQxOTY4IC4yNTEwNTlDNC42OTgzODEgLjI1MTA1OSA1LjUzNTI0My0uMTU1NDE3IDYuMjI4NjQzLS43NDEyMkM3LjI2ODc0Mi0xLjYxMzk0OCA3LjU3OTU3Ny0yLjc3MzU5OSA3LjU3OTU3Ny0yLjg2OTI0QzcuNTc5NTc3LTIuOTc2ODM3IDcuNDgzOTM1LTIuOTc2ODM3IDcuNDQ4MDctMi45NzY4MzdDNy4zNDA0NzMtMi45NzY4MzcgNy4zMjg1MTgtMi45MDUxMDYgNy4zMDQ2MDgtMi44NTcyODVDNi43NTQ2Ny0uOTkyMjc5IDUuMTQwNzIyLS4wOTU2NDEgMy45NDUyMDUtLjA5NTY0MUMyLjY3Nzk1OC0uMDk1NjQxIDEuNTc4MDgyLS45MDg1OTMgMS41NzgwODItMi42MDYyMjdDMS41NzgwODItMi45ODg3OTIgMS42OTc2MzQtNS4wNjg5OTEgMy4wNDg1NjgtNi42MzUxMThDMy43MDYxMDItNy40MDAyNDkgNC44Mjk4ODgtOC4wNjk3MzggNS45NjU2MjktOC4wNjk3MzhDNy4yODA2OTctOC4wNjk3MzggNy44NjY1MDEtNi45ODE4MTggNy44NjY1MDEtNS43NjIzOTFDNy44NjY1MDEtNS40NTE1NTcgNy44MzA2MzUtNS4xODg1NDMgNy44MzA2MzUtNS4xNDA3MjJDNy44MzA2MzUtNS4wMzMxMjYgNy45NTAxODctNS4wMzMxMjYgNy45ODYwNTItNS4wMzMxMjZDOC4xMTc1NTktNS4wMzMxMjYgOC4xMjk1MTQtNS4wNDUwODEgOC4xNzczMzUtNS4yNjAyNzRMOC45MzA1MTEtOC4zMDg4NDJaJy8+CjwvZGVmcz4KPGcgaWQ9J3BhZ2UxJz4KPHBhdGggZD0nTS00OS41OTM3NTIgMjkuODI4MTI1TC0xOC40MTQxIDcyLjM0NzdMNDkuNjIxMSAyOS44MjgxMjVWLTYwLjg4MjhMLTE4LjQxNDEtMTguMzYzM0wtNDkuNTkzNzUyLTYwLjg4MjhaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNLTQ5LjU5Mzc1Mi02MC44ODI4SDQ5LjYyMTEnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tMTguNDE0MS0xOC4zNjMzVjcyLjM0NzcnIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMTk5MjUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tNDkuNTkzNzUyIDI5LjgyODEyNUg0OS42MjExJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjE5OTI1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLWRhc2hhcnJheT0nMi45ODg4MyAyLjk4ODgzJy8+CjxwYXRoIGQ9J00tNDcuNjAxNTYgMjkuODI4MTI1Qy00Ny42MDE1NiAyOC43MjY1Ni00OC40OTIxOSAyNy44MzU5NC00OS41OTM3NTIgMjcuODM1OTRDLTUwLjY5NTMxIDI3LjgzNTk0LTUxLjU4NTk0IDI4LjcyNjU2LTUxLjU4NTk0IDI5LjgyODEyNUMtNTEuNTg1OTQgMzAuOTI1NzgtNTAuNjk1MzEgMzEuODIwMzEtNDkuNTkzNzUyIDMxLjgyMDMxQy00OC40OTIxOSAzMS44MjAzMS00Ny42MDE1NiAzMC45MjU3OC00Ny42MDE1NiAyOS44MjgxMjVaJy8+CjxwYXRoIGQ9J00tNDcuNjAxNTYgMjkuODI4MTI1Qy00Ny42MDE1NiAyOC43MjY1Ni00OC40OTIxOSAyNy44MzU5NC00OS41OTM3NTIgMjcuODM1OTRDLTUwLjY5NTMxIDI3LjgzNTk0LTUxLjU4NTk0IDI4LjcyNjU2LTUxLjU4NTk0IDI5LjgyODEyNUMtNTEuNTg1OTQgMzAuOTI1NzgtNTAuNjk1MzEgMzEuODIwMzEtNDkuNTkzNzUyIDMxLjgyMDMxQy00OC40OTIxOSAzMS44MjAzMS00Ny42MDE1NiAzMC45MjU3OC00Ny42MDE1NiAyOS44MjgxMjVaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J001MS42MTM2IDI5LjgyODEyNUM1MS42MTM2IDI4LjcyNjU2IDUwLjcxODYgMjcuODM1OTQgNDkuNjIxMSAyNy44MzU5NEM0OC41MTk1IDI3LjgzNTk0IDQ3LjYyNSAyOC43MjY1NiA0Ny42MjUgMjkuODI4MTI1QzQ3LjYyNSAzMC45MjU3OCA0OC41MTk1IDMxLjgyMDMxIDQ5LjYyMTEgMzEuODIwMzFDNTAuNzE4NiAzMS44MjAzMSA1MS42MTM2IDMwLjkyNTc4IDUxLjYxMzYgMjkuODI4MTI1WicvPgo8cGF0aCBkPSdNNTEuNjEzNiAyOS44MjgxMjVDNTEuNjEzNiAyOC43MjY1NiA1MC43MTg2IDI3LjgzNTk0IDQ5LjYyMTEgMjcuODM1OTRDNDguNTE5NSAyNy44MzU5NCA0Ny42MjUgMjguNzI2NTYgNDcuNjI1IDI5LjgyODEyNUM0Ny42MjUgMzAuOTI1NzggNDguNTE5NSAzMS44MjAzMSA0OS42MjExIDMxLjgyMDMxQzUwLjcxODYgMzEuODIwMzEgNTEuNjEzNiAzMC45MjU3OCA1MS42MTM2IDI5LjgyODEyNVonIHN0cm9rZT0nIzAwMCcgZmlsbD0nbm9uZScgc3Ryb2tlLXdpZHRoPScuMzk4NScgc3Ryb2tlLW1pdGVybGltaXQ9JzEwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnLz4KPHBhdGggZD0nTS0xNi40MjE5IDcyLjM0NzdDLTE2LjQyMTkgNzEuMjQ2MS0xNy4zMTI1IDcwLjM1NTUtMTguNDE0MSA3MC4zNTU1Qy0xOS41MTE3IDcwLjM1NTUtMjAuNDA2MyA3MS4yNDYxLTIwLjQwNjMgNzIuMzQ3N0MtMjAuNDA2MyA3My40NDkyLTE5LjUxMTcgNzQuMzM5OC0xOC40MTQxIDc0LjMzOThDLTE3LjMxMjUgNzQuMzM5OC0xNi40MjE5IDczLjQ0OTItMTYuNDIxOSA3Mi4zNDc3WicvPgo8cGF0aCBkPSdNLTE2LjQyMTkgNzIuMzQ3N0MtMTYuNDIxOSA3MS4yNDYxLTE3LjMxMjUgNzAuMzU1NS0xOC40MTQxIDcwLjM1NTVDLTE5LjUxMTcgNzAuMzU1NS0yMC40MDYzIDcxLjI0NjEtMjAuNDA2MyA3Mi4zNDc3Qy0yMC40MDYzIDczLjQ0OTItMTkuNTExNyA3NC4zMzk4LTE4LjQxNDEgNzQuMzM5OEMtMTcuMzEyNSA3NC4zMzk4LTE2LjQyMTkgNzMuNDQ5Mi0xNi40MjE5IDcyLjM0NzdaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tNDcuNjAxNTYtNjAuODgyOEMtNDcuNjAxNTYtNjEuOTg0NC00OC40OTIxOS02Mi44NzUtNDkuNTkzNzUyLTYyLjg3NUMtNTAuNjk1MzEtNjIuODc1LTUxLjU4NTk0LTYxLjk4NDQtNTEuNTg1OTQtNjAuODgyOFMtNTAuNjk1MzEtNTguODkwNi00OS41OTM3NTItNTguODkwNkMtNDguNDkyMTktNTguODkwNi00Ny42MDE1Ni01OS43ODEyLTQ3LjYwMTU2LTYwLjg4MjhaJy8+CjxwYXRoIGQ9J00tNDcuNjAxNTYtNjAuODgyOEMtNDcuNjAxNTYtNjEuOTg0NC00OC40OTIxOS02Mi44NzUtNDkuNTkzNzUyLTYyLjg3NUMtNTAuNjk1MzEtNjIuODc1LTUxLjU4NTk0LTYxLjk4NDQtNTEuNTg1OTQtNjAuODgyOFMtNTAuNjk1MzEtNTguODkwNi00OS41OTM3NTItNTguODkwNkMtNDguNDkyMTktNTguODkwNi00Ny42MDE1Ni01OS43ODEyLTQ3LjYwMTU2LTYwLjg4MjhaJyBzdHJva2U9JyMwMDAnIGZpbGw9J25vbmUnIHN0cm9rZS13aWR0aD0nLjM5ODUnIHN0cm9rZS1taXRlcmxpbWl0PScxMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJy8+CjxwYXRoIGQ9J00tMTYuNDIxOS0xOC4zNjMzQy0xNi40MjE5LTE5LjQ2NDgtMTcuMzEyNS0yMC4zNTU1LTE4LjQxNDEtMjAuMzU1NUMtMTkuNTExNy0yMC4zNTU1LTIwLjQwNjMtMTkuNDY0OC0yMC40MDYzLTE4LjM2MzNDLTIwLjQwNjMtMTcuMjYxNy0xOS41MTE3LTE2LjM3MTEtMTguNDE0MS0xNi4zNzExQy0xNy4zMTI1LTE2LjM3MTEtMTYuNDIxOS0xNy4yNjE3LTE2LjQyMTktMTguMzYzM1onLz4KPHBhdGggZD0nTS0xNi40MjE5LTE4LjM2MzNDLTE2LjQyMTktMTkuNDY0OC0xNy4zMTI1LTIwLjM1NTUtMTguNDE0MS0yMC4zNTU1Qy0xOS41MTE3LTIwLjM1NTUtMjAuNDA2My0xOS40NjQ4LTIwLjQwNjMtMTguMzYzM0MtMjAuNDA2My0xNy4yNjE3LTE5LjUxMTctMTYuMzcxMS0xOC40MTQxLTE2LjM3MTFDLTE3LjMxMjUtMTYuMzcxMS0xNi40MjE5LTE3LjI2MTctMTYuNDIxOS0xOC4zNjMzWicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8cGF0aCBkPSdNNTEuNjEzNi02MC44ODI4QzUxLjYxMzYtNjEuOTg0NCA1MC43MTg2LTYyLjg3NSA0OS42MjExLTYyLjg3NUM0OC41MTk1LTYyLjg3NSA0Ny42MjUtNjEuOTg0NCA0Ny42MjUtNjAuODgyOFM0OC41MTk1LTU4Ljg5MDYgNDkuNjIxMS01OC44OTA2QzUwLjcxODYtNTguODkwNiA1MS42MTM2LTU5Ljc4MTIgNTEuNjEzNi02MC44ODI4WicvPgo8cGF0aCBkPSdNNTEuNjEzNi02MC44ODI4QzUxLjYxMzYtNjEuOTg0NCA1MC43MTg2LTYyLjg3NSA0OS42MjExLTYyLjg3NUM0OC41MTk1LTYyLjg3NSA0Ny42MjUtNjEuOTg0NCA0Ny42MjUtNjAuODgyOFM0OC41MTk1LTU4Ljg5MDYgNDkuNjIxMS01OC44OTA2QzUwLjcxODYtNTguODkwNiA1MS42MTM2LTU5Ljc4MTIgNTEuNjEzNi02MC44ODI4Wicgc3Ryb2tlPScjMDAwJyBmaWxsPSdub25lJyBzdHJva2Utd2lkdGg9Jy4zOTg1JyBzdHJva2UtbWl0ZXJsaW1pdD0nMTAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcvPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDI1LjAzNTkgLTUyLjI4OTQpJz4KPHVzZSB4PSctNDkuNTk0NDAxJyB5PScyOS44MjY5NjEnIHhsaW5rOmhyZWY9JyNnMS02NicvPgo8dXNlIHg9Jy00MC4wOTgxNCcgeT0nMjUuNDg4NTI0JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDI2LjQzMzUgNTQuNzg5NiknPgo8dXNlIHg9Jy00OS41OTQ0MDEnIHk9JzI5LjgyNjk2MScgeGxpbms6aHJlZj0nI2cxLTY2Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSAtMTUuNjcwNSAtODYuMzI2NSknPgo8dXNlIHg9Jy00OS41OTQ0MDEnIHk9JzI5LjgyNjk2MScgeGxpbms6aHJlZj0nI2cxLTY1Jy8+Cjx1c2UgeD0nLTQwLjgxOTA1NScgeT0nMjUuNDg4NTI0JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIC0xMi44NzU0IDQuMDg0NyknPgo8dXNlIHg9Jy00OS41OTQ0MDEnIHk9JzI5LjgyNjk2MScgeGxpbms6aHJlZj0nI2cxLTY1Jy8+CjwvZz4KPGcgdHJhbnNmb3JtPSdtYXRyaXgoMSAwIDAgMSAxMDMuMzEzOCAtODYuMzI2NSknPgo8dXNlIHg9Jy00OS41OTQ0MDEnIHk9JzI5LjgyNjk2MScgeGxpbms6aHJlZj0nI2cxLTY3Jy8+Cjx1c2UgeD0nLTQwLjM2MDc4OScgeT0nMjUuNDg4NTI0JyB4bGluazpocmVmPScjZzAtNDgnLz4KPC9nPgo8ZyB0cmFuc2Zvcm09J21hdHJpeCgxIDAgMCAxIDEwMy4zMTM4IDQuMDg0NyknPgo8dXNlIHg9Jy00OS41OTQ0MDEnIHk9JzI5LjgyNjk2MScgeGxpbms6aHJlZj0nI2cxLTY3Jy8+CjwvZz4KPC9nPgo8L3N2Zz4=\" class=\"mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm mx-auto my-2\" alt=\"Hình ảnh toán học\">","questionImage":null,"explanation":null,"mappedType":"true-false","statements":[{"statement":"Tọa độ điểm $A'$ là $A'(0; 0; 3)$.","is_correct":true},{"statement":"Vectơ $\\vec{BC'}$ có tọa độ là $(-2; 2\\sqrt{3}; 3)$.","is_correct":true},{"statement":"Trọng tâm $G$ của tam giác $A'BC$ có tọa độ là $G\\left(\\frac{2}{3}; \\frac{2\\sqrt{3}}{3}; 1\\right)$.","is_correct":false},{"statement":"Vectơ $\\vec{CC'}$ vuông góc với vectơ $\\vec{AB}$.","is_correct":true}]}];
            const quizOptions = {"timeLimit":15,"retriesAllowed":0,"showAnswers":true,"showExplanation":true,"aiAssessment":true,"scoring":{"mc":0,"tf":10,"sa":0,"essay":0,"tfMethod":"progressive"}};
            const googleScriptUrl = "https://script.google.com/macros/s/AKfycbwySChC78GoE29SaqLvHl0TvvY5fJQhdbsEw5zQxB7s3nO60swLHa9BCKqIgvhzdgq-0w/exec";
            const correctExamCode = "I1LAEB";
            const teacherApiKey = "AIzaSyAh0vTRtwim78hSNczxmy2HWNy9R_rRZtU";
            let studentInfo = {};
            let isSubmitted = false;
            let timerInterval;
            let retriesLeft = quizOptions.retriesAllowed;
            let currentAudio = null; // To manage audio playback
            let studentApiKey = "";
            let ai = null;

            let proctoringLog = {
                thoatManHinh: 0,
                saoChep: 0,
                dan: 0,
                suKien: []
            };

            const studentQuizContainer = document.getElementById('student-quiz-container');
            const submitBtn = document.getElementById('submit-quiz-btn');
            const resultContainer = document.getElementById('result-container');
            const postSubmitOptions = document.getElementById('post-submit-options');
            const retryBtn = document.getElementById('retry-quiz-btn');
            const loginModal = document.getElementById('login-modal');
            const studentInfoForm = document.getElementById('student-info-form');
            const timerDisplay = document.getElementById('timer-display');
            const retriesDisplay = document.getElementById('retries-display');
            function shuffleQuiz() {
                // Shuffle options/statements within each question first
                quizData.forEach(item => {
                    // Shuffle multiple-choice options and their corresponding images
                    if (item.mappedType === 'multiple-choice' && item.options && item.options.length > 0) {
                        const correctAnswerText = item.options[item.correctAnswerIndex];
                        let optionsWithImages = item.options.map((opt, index) => ({
                            text: opt,
                            image: (item.optionsImage && item.optionsImage[index]) ? item.optionsImage[index] : null
                        }));
                        // Fisher-Yates shuffle
                        for (let i = optionsWithImages.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [optionsWithImages[i], optionsWithImages[j]] = [optionsWithImages[j], optionsWithImages[i]];
                        }
                        // Update the item with shuffled data
                        item.options = optionsWithImages.map(opt => opt.text);
                        item.optionsImage = optionsWithImages.map(opt => opt.image);
                        item.correctAnswerIndex = item.options.indexOf(correctAnswerText);
                    }
                    // Shuffle true-false statements
                    if (item.mappedType === 'true-false' && item.statements && item.statements.length > 0) {
                         for (let i = item.statements.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [item.statements[i], item.statements[j]] = [item.statements[j], item.statements[i]];
                        }
                    }
                });
                // Then, group questions by type and shuffle within each group
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                let shuffledQuizData = [];
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    if (grouped[partType]) {
                        const partQuestions = grouped[partType];
                        for (let i = partQuestions.length - 1; i > 0; i--) {
                            const j = Math.floor(Math.random() * (i + 1));
                            [partQuestions[i], partQuestions[j]] = [partQuestions[j], partQuestions[i]];
                        }
                        shuffledQuizData = shuffledQuizData.concat(partQuestions);
                    }
                });
               
                quizData = shuffledQuizData;
            }
            // --- Timer Function ---
            function startTimer(duration, display) {
                let timer = duration, minutes, seconds;
                clearInterval(timerInterval); // Clear any existing timer
                if(duration <= 0) {
                     display.textContent = "∞";
                     return;
                }
                timerInterval = setInterval(function () {
                    minutes = parseInt(timer / 60, 10);
                    seconds = parseInt(timer % 60, 10);
                    minutes = minutes < 10 ? "0" + minutes : minutes;
                    seconds = seconds < 10 ? "0" + seconds : seconds;
                    display.textContent = minutes + ":" + seconds;
                    if (--timer < 0) {
                        clearInterval(timerInterval);
                        alert("Hết giờ làm bài!");
                        handleSubmit();
                    }
                }, 1000);
            }
            // --- Gemini API Caller (for TTS) ---
            async function callGeminiAPI(payload, model = 'gemini-2.5-flash-preview-tts') {
                 if (!studentApiKey) {
                    alert("API Key không hợp lệ. Không thể thực hiện yêu cầu.");
                    return null;
                }
                const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${model}:generateContent?key=${studentApiKey}`;
               
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    if (!response.ok) {
                        const errorBody = await response.json();
                        throw new Error(`API Error: ${errorBody.error?.message || response.status}`);
                    }
                    const result = await response.json();
                    const candidate = result.candidates && result.candidates[0];
                    if (candidate && candidate.content && candidate.content.parts && candidate.content.parts[0]) {
                        return candidate.content.parts[0]; // Return the whole part
                    } else {
                         if (result.promptFeedback && result.promptFeedback.blockReason) {
                               throw new Error(`API call blocked: ${result.promptFeedback.blockReason}`);
                         }
                        return null;
                    }
                } catch (error) {
                    console.error("Lỗi khi gọi Gemini API:", error);
                    return null;
                }
            }
           
            // --- TTS Feature Functions ---
            function base64ToArrayBuffer(base64) {
                const binaryString = window.atob(base64);
                const len = binaryString.length;
                const bytes = new Uint8Array(len);
                for (let i = 0; i < len; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }
                return bytes.buffer;
            }
            function pcmToWav(pcmData, sampleRate) {
                const numChannels = 1;
                const bytesPerSample = 2; // 16-bit
                const blockAlign = numChannels * bytesPerSample;
                const byteRate = sampleRate * blockAlign;
                const dataSize = pcmData.byteLength;
                const buffer = new ArrayBuffer(44 + dataSize);
                const view = new DataView(buffer);
                /* RIFF identifier */
                writeString(view, 0, 'RIFF');
                /* file length */
                view.setUint32(4, 36 + dataSize, true);
                /* RIFF type */
                writeString(view, 8, 'WAVE');
                /* format chunk identifier */
                writeString(view, 12, 'fmt ');
                /* format chunk length */
                view.setUint32(16, 16, true);
                /* sample format (raw) */
                view.setUint16(20, 1, true);
                /* channel count */
                view.setUint16(22, numChannels, true);
                /* sample rate */
                view.setUint32(24, sampleRate, true);
                /* byte rate (sample rate * block align) */
                view.setUint32(28, byteRate, true);
                /* block align (channel count * bytes per sample) */
                view.setUint16(32, blockAlign, true);
                /* bits per sample */
                view.setUint16(34, 16, true);
                /* data chunk identifier */
                writeString(view, 36, 'data');
                /* data chunk length */
                view.setUint32(40, dataSize, true);
                // Write PCM data
                const pcm16 = new Int16Array(pcmData);
                for (let i = 0; i < pcm16.length; i++) {
                    view.setInt16(44 + i * 2, pcm16[i], true);
                }
                function writeString(view, offset, string) {
                    for (let i = 0; i < string.length; i++) {
                        view.setUint8(offset + i, string.charCodeAt(i));
                    }
                }
                return new Blob([view], { type: 'audio/wav' });
            }
            async function playTTS(text, button) {
                if (currentAudio && !currentAudio.paused) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                    document.querySelectorAll('.tts-btn.playing').forEach(b => b.classList.remove('playing'));
                    if (currentAudio.src.startsWith('blob:')) {
                        URL.revokeObjectURL(currentAudio.src);
                    }
                    if (currentAudio.dataset.text === text) {
                        currentAudio = null;
                        return; // Stop if the same button is clicked again
                    }
                }
                button.classList.add('playing');
                const originalIcon = button.innerHTML; // A bit tricky, but let's try
                button.innerHTML = '<div class="small-loader"></div>';
                button.disabled = true;
                try {
                    const payload = {
                        contents: [{ parts: [{ text: `Nói một cách rõ ràng, tự nhiên: ${text}` }] }],
                        generationConfig: { responseModalities: ["AUDIO"] },
                    };
                    const resultPart = await callGeminiAPI(payload, 'gemini-2.5-flash-preview-tts');
                    if (resultPart && resultPart.inlineData) {
                        const audioData = resultPart.inlineData.data;
                        const mimeType = resultPart.inlineData.mimeType;
                        const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                        const sampleRate = sampleRateMatch ? parseInt(sampleRateMatch[1], 10) : 24000;
                        const pcmData = base64ToArrayBuffer(audioData);
                        const wavBlob = pcmToWav(pcmData, sampleRate);
                        const audioUrl = URL.createObjectURL(wavBlob);
                        currentAudio = new Audio(audioUrl);
                        currentAudio.dataset.text = text;
                        currentAudio.play();
                        currentAudio.onended = () => {
                            button.classList.remove('playing');
                            URL.revokeObjectURL(audioUrl);
                            currentAudio = null;
                        };
                    } else {
                        throw new Error("Không nhận được dữ liệu âm thanh.");
                    }
                } catch (error) {
                    console.error("Lỗi TTS:", error);
                    alert("Không thể phát âm thanh. Vui lòng thử lại.");
                     button.classList.remove('playing');
                } finally {
                    button.innerHTML = originalIcon;
                    button.disabled = false;
                }
            }
            function getTextForTTS(item) {
                let text = item.question || item.main_question || '';
                text = text.replace(/\$/g, ''); // Remove LaTeX delimiters for cleaner speech
                if (item.mappedType === 'multiple-choice' && item.options) {
                    const optionsText = item.options.map((opt, i) => `${String.fromCharCode(65 + i)}. ${opt}`).join(' ');
                    text += ' ' + optionsText.replace(/\$/g, '');
                } else if (item.mappedType === 'true-false' && item.statements) {
                    const statementsText = item.statements.map((s, i) => `${String.fromCharCode(97 + i)}. ${s.statement}`).join(' ');
                    text += ' ' + statementsText.replace(/\$/g, '');
                }
                return text;
            }
            function renderStudentQuiz() {
                studentQuizContainer.innerHTML = '';
               
                const grouped = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    if (!acc[type]) {
                        acc[type] = [];
                    }
                    acc[type].push(q);
                    return acc;
                }, {});
                const groupInfo = {
                    'multiple-choice': { title: 'PHẦN I. TRẮC NGHIỆM KHÁCH QUAN', subtitle: 'Chọn đáp án đúng nhất trong các lựa chọn sau.' },
                    'true-false': { title: 'PHẦN II. CÂU HỎI ĐÚNG - SAI', subtitle: 'Xác định tính đúng hoặc sai cho mỗi mệnh đề dưới đây.' },
                    'short-answer': { title: 'PHẦN III. CÂU HỎI TRẢ LỜI NGẮN', subtitle: 'Điền đáp án ngắn gọn vào phần trả lời.' },
                    'essay': { title: 'PHẦN IV. CÂU HỎI TỰ LUẬN', subtitle: 'Trình bày chi tiết bài giải của bạn.' }
                };
               
                let questionCounter = 0;
                const partOrder = ['multiple-choice', 'true-false', 'short-answer', 'essay'];
                partOrder.forEach(partType => {
                    const questions = grouped[partType];
                    if (!questions || questions.length === 0) return;
                   
                    let groupHTML = `<div class="group-container space-y-8 mb-12">`;
                    const info = groupInfo[partType];
                    groupHTML += `
                        <div class="group-header pb-3 border-b-2 border-slate-300 mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">${info.title}</h2>
                            ${info.subtitle ? `<p class="text-md text-slate-600 italic mt-1">${info.subtitle}</p>` : ''}
                        </div>
                    `;
                    questions.forEach((item, localIndex) => {
                        const globalIndex = quizData.indexOf(item);
                        questionCounter++;
                        groupHTML += `<div class="question-card" id="student-q-${globalIndex}">`;
                        let questionText = (item.question || item.main_question || '').replace(/\n/g, '<br>');
                       
                        const textToSpeak = getTextForTTS(item);
                       
                        groupHTML += `<div class="flex items-start">
                                     <div class="flex-grow">
                                         <div class="flex items-center mb-2">
                                             <span class="font-bold text-lg mr-3 text-indigo-600">Câu ${questionCounter}:</span>
                                             <div id="q-${globalIndex}-feedback-icon"></div>
                                         </div>
                                         <div class="question-content mt-2 text-lg text-slate-700">${questionText}</div>
                                         ${item.questionImage ? `<img src="${item.questionImage}" class="mt-4 rounded-lg max-w-full md:max-w-md border shadow-sm">` : ''}
                                     </div>
                                     <button class="tts-btn ml-4 p-2 rounded-full text-gray-500 hover:text-indigo-600" data-text-to-speak="${textToSpeak.replace(/"/g, '&quot;')}">
                                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                             <path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.858 5.858a3 3 0 014.243 0L12 7.757l1.9-1.9a3 3 0 014.242 0 3 3 0 010 4.242L12 16.242l-6.042-6.042a3 3 0 010-4.242z" />
                                         </svg>
                                     </button>
                                 </div>`;
                       
                        groupHTML += `<div class="mt-6">`;
                        switch(item.mappedType) {
                            case 'multiple-choice':
                                groupHTML += `<div class="options-grid grid grid-cols-1 md:grid-cols-2 gap-4">`;
                                item.options.forEach((opt, i) => {
                                    groupHTML += `<label for="q${globalIndex}-opt${i}" id="q${globalIndex}-opt-label${i}" class="option-label flex items-start p-4 border-2 rounded-xl cursor-pointer hover:bg-indigo-50 hover:border-indigo-400">
                                                     <input type="radio" name="q${globalIndex}" id="q${globalIndex}-opt${i}" value="${i}" class="flex-shrink-0 mt-1 h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300">
                                                     <div class="ml-3 flex-grow">
                                                         <span class="font-semibold text-slate-800">${String.fromCharCode(65 + i)}.</span>
                                                         <span class="option-content text-slate-700">${opt || ''}</span>
                                                         ${(item.optionsImage && item.optionsImage[i]) ? `<img src="${item.optionsImage[i]}" class="mt-2 rounded-lg max-w-xs border shadow-sm">` : ''}
                                                     </div>
                                                 </label>`;
                                });
                                groupHTML += `</div>`;
                                break;
                            case 'true-false':
                                 groupHTML += `<div class="space-y-4">`;
                                 item.statements.forEach((s, i) => {
                                     groupHTML += `<div class="statement-item border-t pt-4">
                                                  <p class="mb-3 text-slate-700">${String.fromCharCode(97 + i)}) ${s.statement || ''}</p>
                                                  <div class="flex gap-x-6">
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="true" class="mr-2 h-4 w-4"> Đúng</label>
                                                      <label class="flex items-center cursor-pointer"><input type="radio" name="q${globalIndex}-s${i}" value="false" class="mr-2 h-4 w-4"> Sai</label>
                                                  </div>
                                              </div>`;
                                 });
                                 groupHTML += `</div>`;
                                 break;
                            case 'short-answer':
                                groupHTML += `<input type="text" name="q${globalIndex}" class="mt-1 block w-full md:w-1/2 border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" placeholder="Nhập đáp án của bạn...">`;
                                break;
                            case 'essay':
                                groupHTML += `<textarea name="q${globalIndex}" class="mt-1 block w-full border border-slate-300 rounded-lg shadow-sm py-2.5 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" rows="5" placeholder="Nhập câu trả lời tự luận của bạn..."></textarea>`;
                                break;
                        }
                        groupHTML += `</div><div id="q-${globalIndex}-feedback" class="mt-4"></div></div>`;
                    });
                    groupHTML += `</div>`;
                    studentQuizContainer.innerHTML += groupHTML;
                });
               
                if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                    MathJax.typesetPromise([studentQuizContainer]);
                }
               
                document.querySelectorAll('.tts-btn').forEach(btn => {
                    btn.addEventListener('click', () => playTTS(btn.dataset.textToSpeak, btn));
                });
            }
           
            async function generatePerformanceReview(allAnswersData) {
                const feedbackContainer = document.getElementById('ai-feedback-container');
                if (!feedbackContainer || !ai) return null;
                feedbackContainer.classList.remove('hidden');
                feedbackContainer.innerHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h3 class="text-xl font-bold text-slate-800 mb-4">📝 Phân Tích & Gợi Ý Từ Trợ Lý AI</h3>
                        <div id="ai-feedback-loader" class="text-center py-6">
                            <svg class="animate-spin mx-auto h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            <p class="mt-3 text-slate-600">AI đang phân tích bài làm của bạn...</p>
                        </div>
                        <div id="ai-feedback-summary" class="hidden prose prose-sm max-w-none"></div>
                        <div id="ai-feedback-details" class="hidden mt-4 space-y-2"></div>
                    </div>
                `;
               
                const loader = document.getElementById('ai-feedback-loader');
                const summaryDiv = document.getElementById('ai-feedback-summary');
                const detailsDiv = document.getElementById('ai-feedback-details');
                const incorrectAnswers = allAnswersData.filter(a => !a.isCorrect);
                if (incorrectAnswers.length === 0) {
                    feedbackContainer.innerHTML = `
                        <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                            <h3 class="text-xl font-bold text-green-600">🎉 Chúc mừng!</h3>
                            <p class="mt-2 text-slate-700">Bạn đã trả lời đúng tất cả các câu hỏi. Làm tốt lắm!</p>
                        </div>
                    `;
                    return { overallFeedback: { summary: "Xuất sắc! Học sinh đã đã trả lời đúng tất cả các câu hỏi." } };
                }
                const summaryPrompt = `Bạn là một trợ lý giáo viên, nói tiếng Việt. Dựa vào tóm tắt các câu trả lời sai của học sinh, hãy đưa ra một nhận xét tổng quan ngắn gọn (khoảng 3-4 câu) về năng lực của học sinh, bao gồm điểm mạnh (suy luận từ các câu làm đúng), điểm yếu (dựa trên các câu sai) và một vài gợi ý ôn tập chung. Lời văn phải khích lệ, rõ ràng.
                Tóm tắt lỗi sai:
                ${JSON.stringify(incorrectAnswers.map(a => ({ cau: a.questionNumber, loai: a.type, cauHoi: a.question.substring(0, 50) + '...' })), null, 2)}`;
                try {
                    const summaryResponse = await ai.models.generateContent({
                        model: "gemini-2.5-flash",
                        contents: summaryPrompt
                    });
                    summaryDiv.innerHTML = summaryResponse.text.replace(/\n/g, '<br>');
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                    detailsDiv.classList.remove('hidden'); 
                } catch (e) {
                    console.error("Lỗi khi lấy nhận xét tổng quan:", e);
                    summaryDiv.innerHTML = '<p class="text-red-600">Lỗi khi tạo nhận xét tổng quan.</p>';
                    loader.classList.add('hidden');
                    summaryDiv.classList.remove('hidden');
                }
               
                const summaryForSheet = summaryDiv.innerText.substring(0, 200) + "...";
                return { overallFeedback: { summary: summaryForSheet } };
            }
            async function handleSubmit() {
                if (isSubmitted) return;
                isSubmitted = true;
                clearInterval(timerInterval);
                
                document.querySelectorAll('input, textarea').forEach(input => input.disabled = true);
                submitBtn.classList.add('hidden');
                postSubmitOptions.classList.remove('hidden');
                if (retriesLeft > 0) {
                    retryBtn.classList.remove('hidden');
                } else {
                    retryBtn.classList.add('hidden');
                }

                const proctoringDataString = JSON.stringify(proctoringLog);

                let totalStudentScore = 0;
                let totalCorrectAnswers = 0;
                let allAnswersData = [];
                const questionCounts = quizData.reduce((acc, q) => {
                    const type = q.mappedType;
                    acc[type] = (acc[type] || 0) + 1;
                    return acc;
                }, {});
                
                // --- GRADING LOGIC (runs for all cases now) ---
                quizData.forEach((item, index) => {
                    let questionNumber = index + 1;
                    let answerData = { questionNumber, type: item.type };
                    switch (item.mappedType) {
                        case 'multiple-choice':
                            const selectedOption = document.querySelector(`input[name="q${index}"]:checked`);
                            const isCorrectMC = selectedOption ? parseInt(selectedOption.value) === item.correctAnswerIndex : false;
                            if (isCorrectMC) {
                                totalCorrectAnswers++;
                                if (questionCounts['multiple-choice'] > 0) {
                                   totalStudentScore += quizOptions.scoring.mc / questionCounts['multiple-choice'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.options = item.options;
                            answerData.yourAnswer = selectedOption ? String.fromCharCode(65 + parseInt(selectedOption.value)) : "Không trả lời";
                            answerData.correctAnswer = String.fromCharCode(65 + item.correctAnswerIndex);
                            answerData.isCorrect = isCorrectMC;
                            break;
                        case 'true-false':
                            let correctStatementsCount = 0;
                            let yourAnswerPattern = [];
                            let correctAnswerPattern = [];
                            let details = [];
                            item.statements.forEach((s, i) => {
                                const selectedTF = document.querySelector(`input[name="q${index}-s${i}"]:checked`);
                                const studentChoice = selectedTF ? selectedTF.value === 'true' : null;
                                const isStatementCorrect = studentChoice === s.is_correct;
                               
                                if (isStatementCorrect) correctStatementsCount++;
                               
                                yourAnswerPattern.push(studentChoice === null ? '?' : (studentChoice ? 'Đ' : 'S'));
                                correctAnswerPattern.push(s.is_correct ? 'Đ' : 'S');
                                details.push({ statement: s.statement, yourChoice: studentChoice === null ? 'Không trả lời' : (studentChoice ? 'Đúng' : 'Sai'), correctChoice: s.is_correct ? 'Đúng' : 'Sai', isCorrect: isStatementCorrect });
                            });
                            
                            let scorePerTfQuestion = 0;
                            if (questionCounts['true-false'] > 0) {
                                scorePerTfQuestion = quizOptions.scoring.tf / questionCounts['true-false'];
                            }
                            let questionPoints = 0;
                            if (quizOptions.scoring.tfMethod === 'progressive') {
                                const progressivePoints = { 0: 0, 1: 0.1, 2: 0.25, 3: 0.5, 4: 1.0 };
                                questionPoints = progressivePoints[correctStatementsCount] * scorePerTfQuestion;
                            } else { // even
                                questionPoints = (correctStatementsCount / 4) * scorePerTfQuestion;
                            }
                            totalStudentScore += questionPoints;

                            if(correctStatementsCount === 4) totalCorrectAnswers++;
                            answerData.question = item.main_question;
                            answerData.yourAnswer = yourAnswerPattern.join('-');
                            answerData.correctAnswer = correctAnswerPattern.join('-');
                            answerData.isCorrect = correctStatementsCount === 4;
                            answerData.details = details;
                            break;
                       
                        case 'short-answer':
                            const saInput = document.querySelector(`input[name="q${index}"]`);
                            const studentAnswerRaw = saInput ? (saInput.value ?? '').trim() : "";
                            const correctAnswerRaw = (item.answer ?? '').toString().trim().replace(/\$/g, '');
                            let isCorrectSA = false;

                            // Normalize both to use '.' as decimal separator for comparison
                            const studentAnswerNormalized = studentAnswerRaw.replace(',', '.');
                            const correctAnswerNormalized = correctAnswerRaw.replace(',', '.');
                            
                            // Perform a single, case-insensitive string comparison.
                            // This is strict about decimal places but allows for different separators (',' vs '.').
                            if (studentAnswerNormalized.toLowerCase() === correctAnswerNormalized.toLowerCase()) {
                                isCorrectSA = true;
                            }
                             
                             if (isCorrectSA) {
                                totalCorrectAnswers++;
                                if (questionCounts['short-answer'] > 0) {
                                   totalStudentScore += quizOptions.scoring.sa / questionCounts['short-answer'];
                                }
                            }
                            answerData.question = item.question;
                            answerData.yourAnswer = studentAnswerRaw || "Không trả lời";
                            answerData.correctAnswer = correctAnswerRaw;
                            answerData.isCorrect = isCorrectSA;
                            break;
                           
                        case 'essay':
                             const essayInput = document.querySelector(`textarea[name="q${index}"]`);
                             answerData.question = item.question;
                             answerData.yourAnswer = essayInput.value || "Không trả lời";
                             answerData.correctAnswer = item.answer;
                             answerData.isCorrect = null; // Needs manual grading
                             break;
                    }
                    allAnswersData.push(answerData);
                });
                
                const finalScore = totalStudentScore;
                
                let competencyAssessment = "Giáo viên không yêu cầu AI phân tích bài làm.";
                if (quizOptions.aiAssessment) {
                    const feedbackData = await generatePerformanceReview(allAnswersData);
                    if (feedbackData && feedbackData.overallFeedback && feedbackData.overallFeedback.summary) {
                        competencyAssessment = feedbackData.overallFeedback.summary;
                    } else {
                        competencyAssessment = "Có lỗi xảy ra trong quá trình AI phân tích bài làm.";
                    }
                }
                
                // --- UI DISPLAY LOGIC ---
                if (quizOptions.showAnswers) {
                    const totalQuestions = quizData.length;
                    let summaryTableHTML = `
                    <div class="bg-white p-6 rounded-xl shadow-lg mb-8">
                        <h3 class="text-xl font-bold text-slate-800 mb-4">🎯 TỔNG KẾT:</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-center text-slate-600">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 rounded-t-lg">
                                    <tr>
                                        <th scope="col" class="px-4 py-3 font-semibold">Câu</th>
                                        <th scope="col" class="px-4 py-3 font-semibold">Đáp án của bạn</th>
                                        <th scope="col" class="px-4 py-3 font-semibold">Đáp án đúng</th>
                                        <th scope="col" class="px-4 py-3 font-semibold">Kết quả</th>
                                    </tr>
                                </thead>
                                <tbody>`;
                   
                    allAnswersData.forEach(ans => {
                        let yourAnswerDisplay;
                        let tdClass = 'px-4 py-3';

                        if (ans.type === 'true-false') {
                            const yourParts = (ans.yourAnswer || '').split('-');
                            const correctParts = (ans.correctAnswer || '').split('-');
                            yourAnswerDisplay = yourParts.map((part, i) => {
                                if (part === correctParts[i]) {
                                    return `<span class="text-green-600 font-bold">${part}</span>`;
                                } else {
                                    return `<span class="text-red-600 font-bold">${part}</span>`;
                                }
                            }).join('');
                        } else {
                            yourAnswerDisplay = ans.yourAnswer;
                            if (ans.isCorrect === false) {
                                tdClass += ' text-red-500 font-bold';
                            }
                        }

                        summaryTableHTML += `
                            <tr class="bg-white border-b">
                                <td class="px-4 py-3 font-medium">${ans.questionNumber}</td>
                                <td class="${tdClass}">${yourAnswerDisplay}</td>
                                <td class="px-4 py-3">${ans.correctAnswer}</td>
                                <td class="px-4 py-3 flex justify-center">${ans.isCorrect === true ?
                                    '<svg class="w-6 h-6 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>' :
                                    (ans.isCorrect === false ? '<svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>' : '<span>-</span>')
                                }</td>
                            </tr>`;
                    });
                    summaryTableHTML += `
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-4 space-y-1 text-left">
                            <p class="font-semibold text-green-600">✅ Số câu đúng hoàn toàn: ${totalCorrectAnswers}/${totalQuestions}</p>
                             <p class="font-semibold text-blue-600">📊 Điểm (thang 10): ${finalScore.toFixed(2)}/10</p>
                             ${questionCounts['essay'] > 0 ? `<p class="text-sm text-gray-600 italic">Lưu ý: Điểm trên chưa bao gồm ${quizOptions.scoring.essay} điểm của phần Tự luận cần giáo viên chấm.</p>` : ''}
                        </div>
                    </div>`;
                   
                    resultContainer.innerHTML = summaryTableHTML;
                    resultContainer.classList.remove('hidden');
                    
                    if (window.MathJax && typeof window.MathJax.typesetPromise === 'function') {
                        await window.MathJax.typesetPromise([resultContainer]);
                    }
                } else {
                     resultContainer.innerHTML = `
                        <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                            <h3 class="text-xl font-bold text-green-600">Nộp bài thành công!</h3>
                            <p class="mt-2 text-slate-700">Bạn đã hoàn thành bài làm. Kết quả sẽ được giáo viên công bố sau.</p>
                        </div>
                    `;
                    resultContainer.classList.remove('hidden');
                }
                
                // --- DATA SUBMISSION LOGIC (runs for all cases) ---
                const formData = new FormData();
                formData.append('name', studentInfo.name);
                formData.append('class', studentInfo.class);
                formData.append('score', `${finalScore.toFixed(2)}/10`);
                formData.append('assessment', competencyAssessment);
                formData.append('timestamp', new Date().toLocaleString('vi-VN'));
                formData.append('examCode', correctExamCode);
                formData.append('monitoringLog', proctoringDataString);
                formData.append('answerDetails', JSON.stringify(allAnswersData));
               
                fetch(googleScriptUrl, { method: 'POST', body: formData})
                    .then(res => console.log("Successfully submitted to Google Sheet"))
                    .catch(err => console.error("Error submitting to Google Sheet:", err));
            }
           
            function startNewAttempt() {
                isSubmitted = false;
                proctoringLog = { thoatManHinh: 0, saoChep: 0, dan: 0, suKien: [] };
                const proctoringWidget = document.getElementById('proctoring-widget');
                if (proctoringWidget) {
                    proctoringWidget.classList.add('hidden');
                    document.getElementById('tab-switch-count').textContent = '0';
                    document.getElementById('copy-count').textContent = '0';
                    document.getElementById('paste-count').textContent = '0';
                }

                renderStudentQuiz();
                resultContainer.classList.add('hidden');
                document.getElementById('ai-feedback-container').classList.add('hidden');
                postSubmitOptions.classList.add('hidden');
                submitBtn.classList.remove('hidden');
                 if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                }
                retriesLeft--;
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                window.scrollTo(0, 0);
            }
            studentInfoForm.addEventListener('submit', (e) => {
                e.preventDefault();
               
                const enteredCode = document.getElementById('exam-code').value.trim().toUpperCase();
                if (enteredCode !== correctExamCode) {
                    alert('Mã đề không chính xác. Vui lòng kiểm tra lại!');
                    return;
                }
               
                studentApiKey = teacherApiKey;
                if (!studentApiKey) {
                    alert('Cảnh báo: Giáo viên chưa cấu hình API Key. Các tính năng AI sẽ không hoạt động.');
                }
       
                try {
                    if (studentApiKey) {
                       ai = new GoogleGenAI({ apiKey: studentApiKey });
                    }
                } catch(e) {
                    console.error("Lỗi khởi tạo Gemini API với key của giáo viên.", e);
                    alert("Cảnh báo: API Key của giáo viên không hợp lệ. Vui lòng báo cho giáo viên. Các tính năng AI sẽ không hoạt động.");
                    ai = null;
                }
                shuffleQuiz();
               
                studentInfo.name = document.getElementById('student-name').value;
                studentInfo.class = document.getElementById('student-class').value;
                loginModal.classList.add('hidden');
                studentQuizContainer.classList.remove('hidden');
                submitBtn.classList.remove('hidden');
               
                if (quizOptions.timeLimit > 0) {
                    const timeInSeconds = quizOptions.timeLimit * 60;
                    startTimer(timeInSeconds, timerDisplay);
                } else {
                    timerDisplay.textContent = "Không giới hạn";
                }
                retriesDisplay.textContent = `Lượt làm lại còn: ${retriesLeft}`;
                renderStudentQuiz();

                const proctoringWidget = document.getElementById('proctoring-widget');
                const tabSwitchCountEl = document.getElementById('tab-switch-count');
                const copyCountEl = document.getElementById('copy-count');
                const pasteCountEl = document.getElementById('paste-count');

                function updateProctoringUI() {
                    if (proctoringLog.thoatManHinh > 0 || proctoringLog.saoChep > 0 || proctoringLog.dan > 0) {
                        proctoringWidget.classList.remove('hidden');
                    }
                    tabSwitchCountEl.textContent = proctoringLog.thoatManHinh;
                    copyCountEl.textContent = proctoringLog.saoChep;
                    pasteCountEl.textContent = proctoringLog.dan;
                }

                // Disable Right Click
                document.addEventListener('contextmenu', e => e.preventDefault());

                // Track Tab Switching
                document.addEventListener('visibilitychange', () => {
                    if (document.hidden && !isSubmitted) {
                        proctoringLog.thoatManHinh++;
                        proctoringLog.suKien.push({ loai: 'chuyen_tab', thoiGian: new Date().toISOString() });
                        updateProctoringUI();
                    }
                });

                // Track Copying
                document.addEventListener('copy', () => {
                    if (isSubmitted) return;
                    proctoringLog.saoChep++;
                    proctoringLog.suKien.push({ loai: 'sao_chep', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });

                // Track Pasting
                document.addEventListener('paste', () => {
                    if (isSubmitted) return;
                    proctoringLog.dan++;
                    proctoringLog.suKien.push({ loai: 'dan', thoiGian: new Date().toISOString() });
                    updateProctoringUI();
                });
            });
            
            submitBtn.addEventListener('click', handleSubmit);
            retryBtn.addEventListener('click', () => {
                shuffleQuiz();
                startNewAttempt();
            });
        </script>
    </body>
    </html>
    